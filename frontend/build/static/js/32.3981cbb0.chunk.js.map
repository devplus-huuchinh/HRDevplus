{"version":3,"sources":["../node_modules/lodash.isequal/index.js","../node_modules/lodash.debounce/index.js","../node_modules/rc-form/node_modules/rc-util/es/unsafeLifecyclesPolyfill.js","../node_modules/rc-form/es/createFormField.js","../node_modules/rc-form/es/utils.js","../node_modules/rc-form/es/createFieldsStore.js","../node_modules/rc-form/es/FieldElemWrapper.js","../node_modules/rc-form/es/createBaseForm.js","../node_modules/rc-form/es/createForm.js","../node_modules/rc-form/es/createDOMForm.js","../node_modules/omit.js/es/index.js","../node_modules/@ant-design/compatible/es/_util/types.js","../node_modules/@ant-design/compatible/node_modules/rc-util/es/warning.js","../node_modules/@ant-design/compatible/es/CompatibleConsumer.js","../node_modules/@ant-design/compatible/es/_util/warning.js","../node_modules/@ant-design/compatible/es/form/context.js","../node_modules/@ant-design/compatible/es/form/FormItem.js","../node_modules/@ant-design/compatible/es/form/constants.js","../node_modules/@ant-design/compatible/es/form/Form.js","../node_modules/@ant-design/compatible/es/_util/upgradeMessage.js","../node_modules/@ant-design/compatible/es/form/index.js","../node_modules/codemirror/mode/xml/xml.js","../node_modules/codemirror/mode/javascript/javascript.js","../node_modules/react-codemirror/lib/Codemirror.js","../node_modules/codemirror/mode/markdown/markdown.js","../node_modules/codemirror/mode/meta.js","../node_modules/codemirror/mode/php/php.js","../node_modules/codemirror/mode/htmlmixed/htmlmixed.js","../node_modules/codemirror/mode/css/css.js","../node_modules/codemirror/mode/clike/clike.js","../node_modules/codemirror/mode/python/python.js","containers/AdvancedUI/CodeMirror/config.js","components/uielements/codeMirror.js","containers/AdvancedUI/CodeMirror/CodeMirror.styles.js","containers/AdvancedUI/CodeMirror/CodeMirror.js","components/utility/layoutWrapper.style.js","components/utility/layoutWrapper.js","components/utility/boxTitle.style.js","components/utility/boxTitle.js","components/utility/box.style.js","components/utility/box.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/row/style/css.js","../node_modules/antd/es/col/index.js","../node_modules/antd/es/col/style/css.js","components/utility/pageHeader.style.js","components/utility/pageHeader.js","../node_modules/rc-form/node_modules/async-validator/es/util.js","components/utility/contentHolder.style.js","components/utility/contentHolder.js","assets/styles/constants.js","../node_modules/rc-form/node_modules/async-validator/es/rule/index.js","../node_modules/core-js/library/modules/_core.js","../node_modules/core-js/library/modules/_wks.js","../node_modules/core-js/library/modules/_global.js","../node_modules/core-js/library/modules/_object-dp.js","../node_modules/core-js/library/modules/_descriptors.js","../node_modules/babel-runtime/helpers/extends.js","../node_modules/core-js/library/modules/_export.js","../node_modules/core-js/library/modules/_has.js","../node_modules/core-js/library/modules/_hide.js","../node_modules/core-js/library/modules/_an-object.js","../node_modules/core-js/library/modules/_is-object.js","../node_modules/core-js/library/modules/_to-iobject.js","../node_modules/core-js/library/modules/_fails.js","../node_modules/core-js/library/modules/_property-desc.js","../node_modules/core-js/library/modules/_iterators.js","../node_modules/babel-runtime/helpers/classCallCheck.js","../node_modules/core-js/library/modules/_object-keys.js","../node_modules/core-js/library/modules/_library.js","../node_modules/core-js/library/modules/_uid.js","../node_modules/core-js/library/modules/_object-pie.js","../node_modules/core-js/library/modules/_to-object.js","../node_modules/babel-runtime/helpers/createClass.js","../node_modules/lodash/_hasPath.js","../node_modules/core-js/library/modules/_ctx.js","../node_modules/core-js/library/modules/_to-primitive.js","../node_modules/core-js/library/modules/_cof.js","../node_modules/core-js/library/modules/_defined.js","../node_modules/core-js/library/modules/_to-integer.js","../node_modules/core-js/library/modules/_shared-key.js","../node_modules/core-js/library/modules/_shared.js","../node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/core-js/library/modules/_object-gops.js","../node_modules/babel-runtime/helpers/defineProperty.js","../node_modules/core-js/library/modules/_object-create.js","../node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-runtime/helpers/typeof.js","../node_modules/core-js/library/modules/_wks-ext.js","../node_modules/core-js/library/modules/_wks-define.js","../node_modules/babel-runtime/helpers/inherits.js","../node_modules/lodash/has.js","../node_modules/create-react-class/index.js","../node_modules/warning/warning.js","components/uielements/styles/select.style.js","components/uielements/select.js","../node_modules/antd/es/switch/style/css.js","../node_modules/rc-switch/es/index.js","../node_modules/antd/es/switch/index.js","../node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/core-js/library/modules/_dom-create.js","../node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/core-js/library/modules/_iobject.js","../node_modules/core-js/library/modules/_to-length.js","../node_modules/babel-runtime/core-js/object/define-property.js","../node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/core-js/library/modules/_iter-define.js","../node_modules/core-js/library/modules/_redefine.js","../node_modules/rc-form/node_modules/async-validator/es/rule/required.js","../node_modules/lodash/set.js","../node_modules/core-js/library/modules/_object-gopn.js","../node_modules/core-js/library/modules/_object-gopd.js","../node_modules/component-indexof/index.js","../node_modules/lodash/_baseHas.js","../node_modules/lodash/_baseSet.js","../node_modules/codemirror/lib/codemirror.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/core-js/library/fn/object/assign.js","../node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/core-js/library/modules/_a-function.js","../node_modules/core-js/library/modules/_object-assign.js","../node_modules/core-js/library/modules/_array-includes.js","../node_modules/core-js/library/modules/_to-absolute-index.js","../node_modules/dom-scroll-into-view/lib/index.js","../node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js","../node_modules/dom-scroll-into-view/lib/util.js","../node_modules/babel-runtime/helpers/objectWithoutProperties.js","../node_modules/core-js/library/fn/object/define-property.js","../node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/babel-runtime/helpers/toConsumableArray.js","../node_modules/babel-runtime/core-js/array/from.js","../node_modules/core-js/library/fn/array/from.js","../node_modules/core-js/library/modules/_string-at.js","../node_modules/core-js/library/modules/_iter-create.js","../node_modules/core-js/library/modules/_object-dps.js","../node_modules/core-js/library/modules/_html.js","../node_modules/core-js/library/modules/_object-gpo.js","../node_modules/core-js/library/modules/es6.array.from.js","../node_modules/core-js/library/modules/_iter-call.js","../node_modules/core-js/library/modules/_is-array-iter.js","../node_modules/core-js/library/modules/_create-property.js","../node_modules/core-js/library/modules/core.get-iterator-method.js","../node_modules/core-js/library/modules/_classof.js","../node_modules/core-js/library/modules/_iter-detect.js","../node_modules/rc-form/node_modules/async-validator/es/index.js","../node_modules/rc-form/node_modules/async-validator/es/validator/index.js","../node_modules/rc-form/node_modules/async-validator/es/validator/string.js","../node_modules/rc-form/node_modules/async-validator/es/rule/whitespace.js","../node_modules/rc-form/node_modules/async-validator/es/rule/type.js","../node_modules/rc-form/node_modules/async-validator/es/rule/range.js","../node_modules/rc-form/node_modules/async-validator/es/rule/enum.js","../node_modules/rc-form/node_modules/async-validator/es/rule/pattern.js","../node_modules/rc-form/node_modules/async-validator/es/validator/method.js","../node_modules/rc-form/node_modules/async-validator/es/validator/number.js","../node_modules/rc-form/node_modules/async-validator/es/validator/boolean.js","../node_modules/rc-form/node_modules/async-validator/es/validator/regexp.js","../node_modules/rc-form/node_modules/async-validator/es/validator/integer.js","../node_modules/rc-form/node_modules/async-validator/es/validator/float.js","../node_modules/rc-form/node_modules/async-validator/es/validator/array.js","../node_modules/rc-form/node_modules/async-validator/es/validator/object.js","../node_modules/rc-form/node_modules/async-validator/es/validator/enum.js","../node_modules/rc-form/node_modules/async-validator/es/validator/pattern.js","../node_modules/rc-form/node_modules/async-validator/es/validator/date.js","../node_modules/rc-form/node_modules/async-validator/es/validator/required.js","../node_modules/rc-form/node_modules/async-validator/es/validator/type.js","../node_modules/rc-form/node_modules/async-validator/es/messages.js","../node_modules/babel-runtime/core-js/symbol/iterator.js","../node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/core-js/library/modules/_add-to-unscopables.js","../node_modules/core-js/library/modules/_iter-step.js","../node_modules/babel-runtime/core-js/symbol.js","../node_modules/core-js/library/fn/symbol/index.js","../node_modules/core-js/library/modules/es6.symbol.js","../node_modules/core-js/library/modules/_meta.js","../node_modules/core-js/library/modules/_enum-keys.js","../node_modules/core-js/library/modules/_is-array.js","../node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../node_modules/core-js/library/fn/object/set-prototype-of.js","../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../node_modules/core-js/library/modules/_set-proto.js","../node_modules/babel-runtime/core-js/object/create.js","../node_modules/core-js/library/fn/object/create.js","../node_modules/core-js/library/modules/es6.object.create.js","../node_modules/component-classes/index.js","../node_modules/rc-animate/node_modules/rc-util/es/unsafeLifecyclesPolyfill.js","../node_modules/rc-animate/es/ChildrenUtils.js","../node_modules/css-animation/es/Event.js","../node_modules/css-animation/es/index.js","../node_modules/rc-animate/es/util/animate.js","../node_modules/rc-animate/es/AnimateChild.js","../node_modules/rc-animate/es/Animate.js","components/uielements/form.js","components/uielements/switch.js","components/uielements/styles/switch.style.js"],"names":["argsTag","mapTag","objectTag","setTag","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","Object","freeSelf","self","root","Function","freeExports","exports","nodeType","freeModule","module","moduleExports","freeProcess","process","nodeUtil","binding","e","nodeIsTypedArray","isTypedArray","arraySome","array","predicate","index","length","mapToArray","map","result","Array","size","forEach","value","key","setToArray","set","func","transform","arrayProto","prototype","funcProto","objectProto","coreJsData","funcToString","toString","hasOwnProperty","maskSrcKey","uid","exec","keys","IE_PROTO","nativeObjectToString","reIsNative","RegExp","call","replace","Buffer","undefined","Symbol","Uint8Array","propertyIsEnumerable","splice","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","this","clear","entry","ListCache","MapCache","SetCache","values","__data__","add","Stack","data","arrayLikeKeys","inherited","isArr","isArray","isArg","isArguments","isBuff","isType","skipIndexes","n","iteratee","baseTimes","String","isIndex","push","assocIndexOf","eq","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsEqual","other","bitmask","customizer","stack","object","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","name","message","convert","isPartial","stacked","get","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","constructor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isObject","isMasked","isFunction","test","baseKeys","Ctor","proto","isPrototype","arrLength","seen","arrValue","othIndex","has","keysFunc","symbolsFunc","offset","arrayPush","baseGetAllKeys","getSymbols","getMapData","type","isKeyable","getValue","pop","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","resolve","ctorString","arguments","isLength","baseUnary","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","nativeMax","Math","max","nativeMin","min","now","Date","toNumber","isSymbol","isBinary","slice","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","cancel","clearTimeout","flush","unsafeLifecyclesPolyfill","Component","isReactComponent","Error","componentWillReceiveProps","React","Profiler","UNSAFE_componentWillReceiveProps","Field","fields","_classCallCheck","_extends","isFormField","obj","createFormField","field","argumentContainer","Container","WrappedComponent","displayName","getDisplayName","hoistStatics","identity","flattenArray","arr","concat","flattenFields","maybeNestedFields","isLeafNode","errorMessage","treeTraverse","path","tree","callback","subTree","warning","subTreeKey","node","normalizeValidateRules","validate","rules","validateTrigger","validateRules","item","newItem","trigger","getValidateTriggers","filter","reduce","pre","curr","getValueFromEvent","target","checked","getParams","ns","opt","cb","names","isEmptyObject","hasRules","some","supportRef","nodeOrComponent","isMemo","render","partOf","a","b","indexOf","internalFlattenFields","_","FieldsStore","_initialiseProps","fieldsMeta","_createClass","validFieldsName","getAllFieldsName","_this","nowFields","nowValues","f","getValueFromFields","fieldMeta","getFieldMeta","normalize","nowValue","getValidFieldsFullName","acc","meta","_this2","dirty","initialValue","_this3","hidden","maybePartialName","maybePartialNames","getValidFieldsName","fullName","partialName","prefix","lastIndexOf","getValueProps","valuePropName","getField","fieldValue","_defineProperty","_this4","_this5","getNotCollectedFields","member","getter","fullNames","isArrayValue","suffixNameStartIndex","every","_this6","setFieldsInitialValue","initialValues","flattenedInitialValues","flattenRegisteredFields","setFieldMeta","getAllValues","getFieldsValue","getNestedFields","getFieldValue","getNestedField","getFieldsError","getFieldError","errors","getFieldMember","isFieldValidating","isFieldsValidating","isFieldTouched","isFieldsTouched","createFieldsStore","FieldElemWrapper","_React$Component","_possibleConstructorReturn","__proto__","getPrototypeOf","_inherits","_props","props","form","domFields","recoverClearedField","_props2","fieldsStore","preserve","clearedFieldMetaCache","clearField","children","propTypes","PropTypes","string","shape","objectOf","bool","createBaseForm","option","mixins","validateMessages","onFieldsChange","onValuesChange","_option$mapProps","mapProps","mapPropsToFields","fieldNameProp","fieldMetaProp","fieldDataProp","_option$formPropName","formPropName","formName","withRef","Form","createReactClass","getInitialState","instances","cachedBind","renderFields","_fieldsStore","submitting","componentDidMount","cleanUpUselessFields","nextProps","updateFields","componentDidUpdate","onCollectCommon","action","_toConsumableArray","originalProps","_fieldMeta$originalPr","valuesAll","valuesAllSet","getForm","touched","onCollect","name_","_len","_key","_onCollectCommon","setFieldsAsDirty","newField","setFields","onCollectValidate","_len2","_key2","_onCollectCommon2","validateFieldsInternal","firstFields","validateFirst","getCacheBind","fn","cache","oriFn","bind","getFieldDecorator","fieldOption","getFieldProps","fieldElem","ref","decoratedFieldElem","cloneElement","getFieldValuePropValue","createElement","usersFieldOption","_fieldOption$validate","inputProps","saveRef","validateTriggers","getFieldInstance","getRules","changedFields","getNestedAllFields","forceUpdate","setFieldsValue","changedValues","newFields","allValues","component","_fieldMeta","current","removedList","resetFields","_ref","_this7","fieldNames","_ref$options","allRules","allFields","alreadyErrors","force","validating","validator","AsyncValidator","messages","errorsGroup","errorFieldName","fieldName","ruleFieldName","_ref2","restPath","expired","nowAllFields","fieldErrors","nowField","_ref3","validateFields","_this8","pending","reject","_getParams","oldCb","console","error","isSubmitting","state","submit","_this9","setState","wrappedComponentRef","restProps","_objectWithoutProperties","formProps","mixin","computedStyle","el","prop","getComputedStyle","window","style","currentStyle","word","letter","toUpperCase","formMixin","validateFieldsAndScroll","validNames","firstNode","firstTop","instance","ReactDOM","findDOMNode","top","getBoundingClientRect","c","container","nodeName","toLowerCase","overflowY","scrollHeight","clientHeight","parentNode","ownerDocument","getScrollableContainer","scrollIntoView","onlyScrollIfNeeded","scroll","createDOMForm","omit","shallowCopy","i","tuple","warned","valid","method","warningOnce","_ConfigProvider$Confi","MergedConfigConsumer","ConfigProvider","ConfigContext","Consumer","ConfigConsumer","FormContext","labelAlign","vertical","_typeof","iterator","_excluded","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","source","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","Constructor","_defineProperties","descriptor","_setPrototypeOf","o","p","setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_assertThisInitialized","ReferenceError","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","minLen","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","FormItem","subClass","superClass","create","protoProps","staticProps","_super","helpShow","onLabelClick","id","getId","control","querySelector","focus","onHelpAnimEnd","renderFormItem","_itemClassName","getPrefixCls","_this$props","customizePrefixCls","prefixCls","className","renderChildren","itemClassName","Row","classNames","_this$props2","help","validateStatus","getControls","getOnlyControl","recursively","controls","childrenArray","toArray","child","getChildProp","getMeta","required","rule","getHelpMessage","Animate","transitionName","transitionAppear","onEnd","extra","c1","c2","c3","onlyControl","getValidateStatus","classes","hasFeedback","iconType","CheckCircleFilled","ExclamationCircleFilled","CloseCircleFilled","LoadingOutlined","icon","contextWrapperCol","wrapperCol","mergedWrapperCol","Provider","Col","_classNames","contextLabelAlign","contextLabelCol","labelCol","contextColon","colon","_this3$props","label","htmlFor","isRequired","mergedLabelCol","mergedLabelAlign","labelClsBasic","labelColClassName","labelChildren","computedColon","trim","labelClassName","title","onClick","renderLabel","renderWrapper","renderValidateWrapper","renderHelp","renderExtra","CompatibleConsumer","defaultProps","renderForm","hideRequiredMark","_this$props$className","layout","formClassName","document","getPropertyValue","onSubmit","preventDefault","Item","CodeMirror","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","defineMode","editorConf","config_","setStyle","indentUnit","config","defaults","htmlMode","inText","stream","chain","parser","tokenize","ch","next","eat","match","inBlock","eatWhile","doctype","depth","inTag","baseState","tagName","tagStart","quote","closure","eol","isInAttribute","inAttribute","stringStartCol","column","terminator","lower","Context","startOfLine","prev","context","indent","indented","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","isInText","startState","baseIndent","token","sol","indentation","eatSpace","textAfter","fullLine","Pass","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","electricInput","blockCommentStart","blockCommentEnd","configuration","helperType","skipAttribute","xmlCurrentTag","close","xmlCurrentContext","cx","reverse","defineMIME","mimeModes","mod","require","parserConfig","content","statementIndent","jsonldMode","jsonld","jsonMode","json","trackScope","isTS","typescript","wordRE","wordCharacters","keywords","kw","A","B","C","D","operator","atom","isOperatorChar","isJsonldKeyword","ret","tp","cont","tokenBase","escaped","peek","tokenComment","skipToEnd","expressionAllowed","inSet","readRegexp","tokenQuasi","start","lexical","lastType","maybeEnd","findFatArrow","fatArrowAt","arrow","m","sawSomething","pos","charAt","bracket","atomicTypes","JSLexical","align","info","inScope","varname","v","localVars","vars","parseJS","cc","marked","expression","statement","lex","pass","inList","list","register","block","newContext","registerVarScoped","inner","Var","globalVars","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","outer","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","pattern","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","body","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","targetNoComma","maybeTypeArgs","maybeTarget","me","expr","property","backUp","continueQuasi","getterSetter","afterprop","maybetype","what","end","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprops","typearg","maybeReturnType","quasiType","typeprop","functiondecl","continueQuasiType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","basecolumn","firstChar","closing","isContinuedStatement","doubleIndentSwitch","blockCommentContinue","lineComment","fold","closeBrackets","skipExpression","StringStream","registerHelper","debounce","isEqual","normalizeLineEndings","str","autoFocus","any","codeMirrorInstance","defaultValue","onChange","onCursorActivity","onFocusChange","onScroll","preserveScrollPosition","getDefaultProps","getCodeMirrorInstance","isFocused","componentWillMount","codeMirror","fromTextArea","textareaNode","on","codemirrorValueChanged","cursorActivity","focusChanged","scrollChanged","setValue","componentWillUnmount","toTextArea","prevScrollPosition","getScrollInfo","scrollTo","left","optionName","setOptionIfChanged","newValue","oldValue","getOption","setOption","getCodeMirror","focused","cm","doc","change","origin","editorClassName","autoComplete","cmCfg","modeCfg","getMode","htmlModeMissing","highlightFormatting","maxBlockquoteDepth","taskLists","strikethrough","emoji","fencedCodeBlockHighlighting","fencedCodeBlockDefaultMode","xml","tokenTypeOverrides","tokenTypes","header","code","list1","list2","list3","hr","image","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","switchInline","inline","switchBlock","blankLine","linkTitle","indentedCode","htmlBlock","exit","innerMode","htmlState","mode","inlineNormal","blockNormal","trailingSpace","trailingSpaceNewLine","prevLine","thisLine","line","firstTokenOnLine","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","findModeByName","found","mime","mimes","localState","local","lookAhead","footnoteLink","md_inside","returnType","currListInd","hasExitedList","maxFencedEndInd","styles","taskOpen","join","taskClosed","listMod","handleText","text","matchCh","regex","previousFormatting","count","t","formattingEscape","atts","substring","before","after","leftFlanking","rightFlanking","setEm","setStrong","retType","endChar","returnState","linkRE","footnoteLinkInside","footnoteUrl","copyState","s","modeInfo","ext","file","alias","findModeByMIME","j","findModeByExtension","findModeByFileName","filename","dot","words","split","matchSequence","escapes","phpString","patterns","tokStack","phpString_","phpKeywords","phpAtoms","phpBuiltin","phpConfig","blockKeywords","defKeywords","atoms","builtin","multiLineStrings","hooks","quoted","delim","phpMode","html","php","startOpen","curMode","curState","cur","htmlNew","phpNew","isPHP","openPHP","search","defaultTags","script","attrRegexpCache","getAttrValue","attr","regexp","getAttrRegexp","getTagRegexp","anchored","addTags","to","dest","unshift","tags","configTags","configScript","scriptTypes","matches","modeSpec","tagInfo","tagText","spec","findMatchingMode","endTagA","endTag","pat","maybeBackup","keySet","propertyKeywords","resolveMode","override","tokenHooks","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","colorKeywords","valueKeywords","allowNested","supportsAtComponent","highlightNonStandardPropertyKeywords","tokenString","tokenParenthesized","pushContext","states","popAndPass","wordAsValue","stateArg","atBlock","base","electricChars","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","colorKeywords_","valueKeywords_","allWords","tokenCComment","col","typeBefore","prevToken","typeAtEndOfLine","isTopScope","contains","curPunc","isDefKeyword","statementIndentUnit","dontAlignCalls","types","indentStatements","indentSwitch","namespaceSeparator","isPunctuationChar","numberStart","number","isIdentifierChar","isReservedIdentifier","maybeEOL","typeFirstDefinitions","ctx","styleDefs","dontIndentStatements","hook","allmanIndentation","cKeywords","cppKeywords","objCKeywords","objCBuiltins","basicCTypes","basicObjCTypes","cTypes","identifier","objCTypes","cBlockKeywords","cppHook","pointerHook","cIsReservedIdentifier","cpp14Literal","cpp11StringHook","cpp11RawStringDelim","tokenRawString","cppLooksLikeConstructor","lastTwo","tokenAtString","def","tokenTripleString","tokenNestedComment","modeProps","cDefKeywords","triples","intendSwitch","tripleString","skipTo","stringTokenizer","first","tokenCeylonString","wordRegexp","wordOperators","commonKeywords","commonBuiltins","scopes","conf","parserConf","delimiters","singleDelimiters","operators","singleOperators","doubleOperators","doubleDelimiters","tripleDelimiters","hangingIndent","myKeywords","myBuiltins","extra_keywords","extra_builtins","py3","version","Number","identifiers","stringPrefixes","builtins","lastToken","scopeOffset","lineOffset","pushPyScope","dedent","errorToken","tokenBaseInner","inFormat","floatLiteral","intLiteral","delimiter","tokenOuter","substr","singleline","tokenNestedExpr","singleLineStringErrors","isString","formatStringFactory","tokenStringFactory","tokenLexer","beginningOfLine","lambda","delimiter_index","pushBracketScope","addErr","scope","switchOptions","trueValue","falseValue","selectOptions","defaultValues","basic","javascript","markdown","python","ruby","styled","CodeMirrorToolbar","div","Option","SelectOption","useState","basicOptions","lineNumbers","readOnly","tabSize","theme","updateCode","rowStyle","basicStyle","colStyle","gutter","justify","md","sm","xs","toggleOptions","isNaN","selctOptions","LayoutContentWrapper","BoxTitle","h3","palette","BoxSubTitle","subtitle","BoxWrapper","WDComponentTitleWrapper","h1","ComponentTitleWrapper","WithDirection","assign","convertFieldsError","format","formatRegExp","x","JSON","stringify","isEmptyValue","isNativeStringType","asyncMap","objArr","asyncSerialArray","k","flattenObjArr","objArrKeys","objArrLength","total","results","asyncParallelArray","complementError","oe","fullField","deepMerge","original","WDContentHolderWrapper","ContentHolderWrapper","colors","blue","deep","light","lighter","soft","black","shadow","grey","darker","dark","medium","N30","green","white","purple","orange","grid","width","display","flexFlow","marginBottom","_required2","_interopRequireDefault","_whitespace2","_type2","_range2","_enum2","_pattern2","__esModule","whitespace","range","core","__e","store","USE_SYMBOL","__g","anObject","IE8_DOM_DEFINE","toPrimitive","dP","O","P","Attributes","_assign","_assign2","default","hide","$export","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","expProto","virtual","R","U","it","createDesc","IObject","defined","bitmap","$keys","enumBugKeys","px","random","_defineProperty2","castPath","toKey","hasFunc","aFunction","that","val","ceil","floor","shared","copyright","dPs","Empty","createDict","iframeDocument","iframe","appendChild","src","contentWindow","open","write","lt","Properties","TAG","stat","_typeof2","_typeof3","_iterator2","_symbol2","LIBRARY","wksExt","$Symbol","_setPrototypeOf2","_create2","baseHas","hasPath","factory","ReactNoopUpdateQueue","updater","isValidElement","ComponentName","WDSelect","transition","isoSelect","Switch","_ref$prefixCls","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onKeyDown","_useMergedState","useMergedState","_useMergedState2","_slicedToArray","innerChecked","setInnerChecked","triggerChange","newChecked","event","mergedChecked","switchClassName","role","which","KeyCode","LEFT","RIGHT","__rest","_a","customizeSize","loading","_a$className","devWarning","_React$useContext","direction","SizeContext","Wave","insertExtraNode","RcSwitch","__ANT_SWITCH","is","toIObject","arrayIndexOf","cof","toInteger","$at","iterated","_t","_i","point","done","redefine","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","returnThis","Base","NAME","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","util","newObj","_interopRequireWildcard","baseSet","hiddenKeys","getOwnPropertyNames","pIE","gOPD","assignValue","lastIndex","nested","userAgent","navigator","platform","gecko","ie_upto10","ie_11up","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","cls","rmClass","removeChildren","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","elt","cssText","createTextNode","eltP","setAttribute","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","as","createRange","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","copyObj","overwrite","countColumn","startIndex","startValue","nextTab","selectionStart","selectionEnd","_e","Delayed","handler","onTimeout","ms","sel_dontScroll","sel_mouse","sel_move","findColumn","goal","skipped","spaceStrs","spaceStr","lst","nothing","createObj","inst","nonASCIISingleCaseWordChar","isWordCharBasic","isWordChar","helper","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","dir","findFirst","pred","midF","mid","bidiOther","getBidiPartAt","order","sticky","bidiOrdering","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","level","outerType","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","j$1","i$7","at","isRTL","j$2","nstart","getOrder","noHandlers","emitter","addEventListener","attachEvent","_handlers","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","r1","right","splitLinesAuto","l","nl","rt","hasSelection","getSelection","te","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","modes","dependencies","mfactory","modeObj","modeExtensions","exts","prop$1","extendMode","properties","nstate","a1","a2","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","chunk","lines","sz","chunkSize","getBetween","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","maxPos","minPos","clipLine","clipPos","last","linelen","clipToLen","clipPosArray","consume","caseInsensitive","cased","hideFirstChars","oracle","baseToken","SavedContext","maxLookAhead","baseTokens","baseTokenPos","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","minindent","minline","lim","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","callBlankLine","readToken","copy","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","sawReadOnlySpans","sawCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","stretchSpansOverChange","full","oldFirst","markedSpans","oldLast","startCh","endCh","isInsert","old","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansBefore","startsBefore","markedSpansAfter","sameLine","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","detachMarkedSpans","detachLine","attachMarkedSpans","attachLine","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","find","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","buildLineContent","lineView","builder","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","defaultSpecialCharPlaceholder","startStyle","endStyle","css","attributes","displayText","trailingBefore","spaceBefore","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","part","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","visualLineContinued","buildViewArray","nextPos","view","operationGroup","orphanDelayedCallbacks","signalLater","delayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","getLineContent","built","background","wrap","insertBefore","updateLineBackground","wrapClass","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","markers","gutterMarkers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","paddingRight","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","barHeight","mapFromLineView","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","lineMeasure","updateExternalMeasurement","rect","hasHeights","prepared","varHeight","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","abs","bottom","ensureLineHeights","place","nodeAndOffsetInLineMap","coverStart","coverEnd","getUsefulRect","screen","logicalXDPI","deviceXDPI","normal","fromRange","hasBadZoomedRects","scaleX","scaleY","logicalYDPI","deviceYDPI","maybeUpdateRectForZooming","rSpan","charWidth","nullRect","rtop","rbot","bot","bogus","singleCursorHeightPerLine","rbottom","measureCharInner","measureText","mStart","mEnd","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","closestDist","endX","dist","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","estHeight","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","countDirtyView","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","customCursor","$customCursor","sel","ranges","primIndex","empty","head","drawSelectionCursor","showCursorWhenSelecting","drawSelectionRange","cursor","cursorHeight","getWrapperElement","charPos","defaultCharWidth","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","iterateBidiSections","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","viewTop","oldHeight","mustScroll","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","calculateScrollPos","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","margin","cursorScrollMargin","scrollToCoords","scrollToCoordsRange","sPos","updateScrollTop","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollbars","setScrollLeft","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","op","updateInput","typing","changeObjs","cursorActivityCalled","selectionChanged","updateMaxLine","markArrays","ops","ownsGroup","endOperation","endCb","group","callbacks","fireCallbacksForOps","finishOperation","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","endOperations","scrollbarsClipped","borderRightWidth","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","doScroll","innerHeight","scrollNode","maybeScrollWindow","limit","changed","endCoords","scrollPos","startTop","startLeft","scrollPosIntoView","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","adjustView","toUpdate","selSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","selectionSnapshot","updateNumbersFrom","rm","currentWheelTarget","updateNumber","patchDisplay","snapshot","removeAllRanges","addRange","restoreSelection","selectionDiv","reportedViewFrom","reportedViewTo","updateGutterSpace","alignWidgets","comp","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","pixelsPerUnit","deltaMode","deltaX","deltaY","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","updateLine","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","attachDoc","setDirectionClass","History","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","addChangeToHistory","selAfter","opId","hist","history","historyEventDelay","lastChangeEvent","pushSelectionToHistory","addSelectionToHistory","selectionEventCanBeMerged","clearRedo","existing","removeClearedSpans","explicitlyCleared","mergeOldSpans","getOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","setSelectionReplaceHistory","setSelectionNoUndo","NaN","filterSelectionChange","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","mark","parts","mk","newParts","dfrom","dto","removeReadOnlyRanges","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","returned","shiftDoc","distance","removed","recomputeMaxLength","checkWidthStart","retreatFrontier","changesHandler","changeHandler","makeChangeSingleDocInEditor","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","remaining","leaf","maybeSpill","sibling","myIndex","used","LineWidget","adjustScrollWhenAboveVisible","this$1","oldH","nextMarkerId","TextMarker","markText","cloneNode","isParent","SharedTextMarker","markTextShared","replacedWith","addToHistory","curLine","inThisOp","WeakSet","addMarkedSpan","clearOnEnter","clearHistory","withOp","visual","dHeight","findSharedMarkers","findMarks","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","hint","oldPrev","newPrev","computeReplacedSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","addLineWidget","insertAt","aboveVisible","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","mFrom","mTo","subMark","copySharedMarkers","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","resizeTimer","onResize","registerGlobalHandlers","setSize","keyNames","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","145","173","186","187","188","189","190","191","192","219","220","221","222","224","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","fromCharCode","keyMap","normalizeKeyName","alt","ctrl","cmd","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","visualLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","keyMaps","extraKeys","lookupKeyForEditor","handleKeyBinding","motion","lastStoppedKey","handled","up","showCrossHair","onKeyUp","onKeyPress","charCode","handleCharBinding","lastClick","lastDoubleClick","PastClick","onMouseDown","supportsTouch","clickInGutter","repeat","compare","clickRepeat","selectingText","handleMappedButton","contained","behavior","unit","addNew","moveOnDrag","configureMouse","dragDrop","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","leftButtonStartDrag","ourRange","ourIndex","startSel","rangeForUnit","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","anchorLine","boundary","headIndex","usePart","bidiSimplify","editorSize","counter","move","buttons","curCount","leftButtonSelect","leftButtonDown","onContextMenu","findWordAt","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","Init","optionHandlers","dragDropChanged","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","touchFinished","prevTouch","finishTouch","farAway","touch","radiusX","radiusY","isMouseLikeTouchEvent","pageX","pageY","frag","onDragOver","setData","effectAllowed","setDragImage","img","_top","onDragStart","inp","registerEventHandlers","finishInit","initHooks","textRendering","how","aggressive","curSpace","curSpaceString","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","smartIndent","getModeAt","copyableRanges","lineRange","disableBrowserMagic","spellcheck","autocorrect","autocapitalize","hiddenTextarea","border","findPosH","origDir","lineDir","moveOnce","boundToLine","astral","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","moveVisually","findNextLine","sawType","getHelper","hitSide","findPosV","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","badPos","bad","domToPos","lineNode","locateNodeInLineView","textNode","topNode","nodeValue","curNode","textContent","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","screenReaderLabelChanged","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","blur","pollSelection","pollInterval","poll","scan","isInGutter","triggerOnKeyDown","pollContent","fromIndex","fromNode","toNode","toIndex","newText","extraLinebreak","addText","walk","cmText","markerID","isBlock","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","readOnlyChanged","resetPosition","TextareaInput","prevInput","pollingFast","createField","textarea","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","detach","attach","integer","defineOptions","helpers","getDoc","addKeyMap","removeKeyMap","addOverlay","score","priority","insertSorted","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","_global","getStateAfter","defaultTextHeight","getViewport","addWidget","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","startChar","check","scrollToRange","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerGlobalHelper","addEditorMethods","dontDelegate","defineExtension","defineDocExtension","tabindex","placeholder","realSubmit","leaveSubmitMethodAlone","wrappedSubmit","getTextArea","cmpPos","addLegacyProps","DESCRIPTORS","getKeys","gOPS","toObject","$assign","K","T","aLen","isEnum","toLength","toAbsoluteIndex","IS_INCLUDES","$this","elem","getWindow","allowHorizontalScroll","alignWithTop","alignWithLeft","offsetBottom","offsetRight","isWin","isWindow","elemOffset","eh","outerHeight","ew","outerWidth","containerOffset","cw","containerScroll","diffTop","diffBottom","win","winScroll","ww","wh","parseFloat","getScroll","getScrollLeft","getScrollTop","getOffset","docElem","clientTop","getClientPosition","defaultView","parentWindow","_RE_NUM_NO_PX","RE_POS","getComputedStyleX","each","isBorderBoxFn","computedStyle_","rsLeft","pixelLeft","BOX_MODELS","swap","getPBMWidth","cssProp","domUtils","getWH","viewportWidth","viewportHeight","docWidth","borderBoxValue","isBorderBox","cssBoxValue","borderBoxValueOrIsBorderBox","refWin","documentElementProp","compatMode","cssShow","getWHIgnoreDisplay","includeMargin","setOffset","clone","overflow","$Object","desc","_from","_from2","TO_STRING","ObjectProto","isArrayIter","createProperty","getIterFn","arrayLike","step","mapfn","mapping","iterFn","ArrayProto","$defineProperty","classof","getIteratorMethod","ARG","tryGet","callee","SAFE_CLOSING","riter","skipClosing","safe","_util","_validator","_validator2","_messages2","Schema","_messages","define","newMessages","z","source_","oc","complete","_errors","series","getValidationMethod","errorFields","doIt","defaultField","addFullfield","schema","suppressWarning","fieldsSchema","fieldSchema","errs","finalErrors","asyncValidator","then","messageIndex","_string2","_method2","_number2","_boolean2","_regexp2","_integer2","_float2","_array2","_object2","_date2","boolean","float","date","url","hex","email","_rule","_rule2","_required","getTime","getMonth","getYear","ruleType","num","mismatch","dateObject","parse","invalid","cloned","TO_STRING_TAG","DOMIterables","Collection","addToUnscopables","_k","Arguments","META","KEY","$fails","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","gOPN","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","protoDesc","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","NEED","fastKey","getWeak","onFreeze","windowNames","getWindowNames","buggy","err","re","ClassList","classList","removeMatching","toArrayChildren","Children","findChildInChildrenByKey","findShownChildInChildrenByKey","showProp","START_EVENT_NAME_MAP","transitionstart","WebkitTransition","MozTransition","OTransition","msTransition","animationstart","animation","WebkitAnimation","MozAnimation","OAnimation","msAnimation","END_EVENT_NAME_MAP","transitionend","animationend","startEvents","endEvents","eventName","eventListener","EVENT_NAME_MAP","baseEventName","baseEvents","styleName","detectEvents","TransitionEvents","addStartEventListener","startEvent","removeStartEventListener","addEndEventListener","endEvent","removeEndEventListener","isCssAnimationSupported","capitalPrefixes","prefixes","getStyleProperty","fixBrowserByTimeout","transitionDelay","transitionDuration","animationDelay","animationDuration","rcEndAnimTimeout","rcEndListener","clearBrowserBugTimeout","cssAnimation","endCallback","nameIsObj","activeClassName","nodeClasses","rcAnimTimeout","stop","setTransition","isAppearSupported","appear","isEnterSupported","transitionEnter","isLeaveSupported","transitionLeave","allowAppearCallback","allowEnterCallback","allowLeaveCallback","transitionMap","AnimateChild","animUtil","animationType","finishCallback","stopper","activeName","cssAnimate","defaultKey","getChildrenFromProps","noop","currentlyAnimatingKeys","keysToEnter","keysToLeave","childrenRefs","performAppear","nextChildren","exclusive","currentChildren","newChildren","currentChild","nextChild","newChild","nextChildrenPending","pendingChildren","mergeChildren","hasPrev","showInNext","hasNext","showInNow","performEnter","performLeave","stateChildren","passedProps","componentProps","isAnimate","oneOfType","onEnter","onLeave","onAppear","componentWillEnter","handleDoneAdding","componentWillAppear","isValidChildByKey","componentWillLeave","handleDoneLeaving","child2","isSameChildren","Switches","AntSwitch"],"mappings":"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","file":"static/js/32.3981cbb0.chunk.js","sourcesContent":["/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import React from 'react';\n\nvar unsafeLifecyclesPolyfill = function unsafeLifecyclesPolyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  } // only handle componentWillReceiveProps\n\n\n  if (typeof prototype.componentWillReceiveProps !== 'function') {\n    return Component;\n  } // In React 16.9, React.Profiler was introduced together with UNSAFE_componentWillReceiveProps\n  // https://reactjs.org/blog/2019/08/08/react-v16.9.0.html#performance-measurements-with-reactprofiler\n\n\n  if (!React.Profiler) {\n    return Component;\n  } // Here polyfill get started\n\n\n  prototype.UNSAFE_componentWillReceiveProps = prototype.componentWillReceiveProps;\n  delete prototype.componentWillReceiveProps;\n  return Component;\n};\n\nexport default unsafeLifecyclesPolyfill;","import _extends from \"babel-runtime/helpers/extends\";\nimport _classCallCheck from \"babel-runtime/helpers/classCallCheck\";\n\nvar Field = function Field(fields) {\n  _classCallCheck(this, Field);\n\n  _extends(this, fields);\n};\n\nexport function isFormField(obj) {\n  return obj instanceof Field;\n}\n\nexport default function createFormField(field) {\n  if (isFormField(field)) {\n    return field;\n  }\n  return new Field(field);\n}","import _extends from 'babel-runtime/helpers/extends';\nimport hoistStatics from 'hoist-non-react-statics';\nimport warning from 'warning';\nimport { isMemo } from 'react-is';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'WrappedComponent';\n}\n\nexport function argumentContainer(Container, WrappedComponent) {\n  /* eslint no-param-reassign:0 */\n  Container.displayName = 'Form(' + getDisplayName(WrappedComponent) + ')';\n  Container.WrappedComponent = WrappedComponent;\n  return hoistStatics(Container, WrappedComponent);\n}\n\nexport function identity(obj) {\n  return obj;\n}\n\nexport function flattenArray(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nexport function treeTraverse() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var tree = arguments[1];\n  var isLeafNode = arguments[2];\n  var errorMessage = arguments[3];\n  var callback = arguments[4];\n\n  if (isLeafNode(path, tree)) {\n    callback(path, tree);\n  } else if (tree === undefined || tree === null) {\n    // Do nothing\n  } else if (Array.isArray(tree)) {\n    tree.forEach(function (subTree, index) {\n      return treeTraverse(path + '[' + index + ']', subTree, isLeafNode, errorMessage, callback);\n    });\n  } else {\n    // It's object and not a leaf node\n    if (typeof tree !== 'object') {\n      warning(false, errorMessage);\n      return;\n    }\n    Object.keys(tree).forEach(function (subTreeKey) {\n      var subTree = tree[subTreeKey];\n      treeTraverse('' + path + (path ? '.' : '') + subTreeKey, subTree, isLeafNode, errorMessage, callback);\n    });\n  }\n}\n\nexport function flattenFields(maybeNestedFields, isLeafNode, errorMessage) {\n  var fields = {};\n  treeTraverse(undefined, maybeNestedFields, isLeafNode, errorMessage, function (path, node) {\n    fields[path] = node;\n  });\n  return fields;\n}\n\nexport function normalizeValidateRules(validate, rules, validateTrigger) {\n  var validateRules = validate.map(function (item) {\n    var newItem = _extends({}, item, {\n      trigger: item.trigger || []\n    });\n    if (typeof newItem.trigger === 'string') {\n      newItem.trigger = [newItem.trigger];\n    }\n    return newItem;\n  });\n  if (rules) {\n    validateRules.push({\n      trigger: validateTrigger ? [].concat(validateTrigger) : [],\n      rules: rules\n    });\n  }\n  return validateRules;\n}\n\nexport function getValidateTriggers(validateRules) {\n  return validateRules.filter(function (item) {\n    return !!item.rules && item.rules.length;\n  }).map(function (item) {\n    return item.trigger;\n  }).reduce(function (pre, curr) {\n    return pre.concat(curr);\n  }, []);\n}\n\nexport function getValueFromEvent(e) {\n  // To support custom element\n  if (!e || !e.target) {\n    return e;\n  }\n  var target = e.target;\n\n  return target.type === 'checkbox' ? target.checked : target.value;\n}\n\nexport function getErrorStrs(errors) {\n  if (errors) {\n    return errors.map(function (e) {\n      if (e && e.message) {\n        return e.message;\n      }\n      return e;\n    });\n  }\n  return errors;\n}\n\nexport function getParams(ns, opt, cb) {\n  var names = ns;\n  var options = opt;\n  var callback = cb;\n  if (cb === undefined) {\n    if (typeof names === 'function') {\n      callback = names;\n      options = {};\n      names = undefined;\n    } else if (Array.isArray(names)) {\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      } else {\n        options = options || {};\n      }\n    } else {\n      callback = options;\n      options = names || {};\n      names = undefined;\n    }\n  }\n  return {\n    names: names,\n    options: options,\n    callback: callback\n  };\n}\n\nexport function isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\n\nexport function hasRules(validate) {\n  if (validate) {\n    return validate.some(function (item) {\n      return item.rules && item.rules.length;\n    });\n  }\n  return false;\n}\n\nexport function startsWith(str, prefix) {\n  return str.lastIndexOf(prefix, 0) === 0;\n}\n\nexport function supportRef(nodeOrComponent) {\n  var type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !(type.prototype && type.prototype.render)) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !(nodeOrComponent.prototype && nodeOrComponent.prototype.render)) {\n    return false;\n  }\n\n  return true;\n}","import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport set from 'lodash/set';\nimport createFormField, { isFormField } from './createFormField';\nimport { hasRules, flattenFields, getErrorStrs, startsWith } from './utils';\n\nfunction partOf(a, b) {\n  return b.indexOf(a) === 0 && ['.', '['].indexOf(b[a.length]) !== -1;\n}\n\nfunction internalFlattenFields(fields) {\n  return flattenFields(fields, function (_, node) {\n    return isFormField(node);\n  }, 'You must wrap field data with `createFormField`.');\n}\n\nvar FieldsStore = function () {\n  function FieldsStore(fields) {\n    _classCallCheck(this, FieldsStore);\n\n    _initialiseProps.call(this);\n\n    this.fields = internalFlattenFields(fields);\n    this.fieldsMeta = {};\n  }\n\n  _createClass(FieldsStore, [{\n    key: 'updateFields',\n    value: function updateFields(fields) {\n      this.fields = internalFlattenFields(fields);\n    }\n  }, {\n    key: 'flattenRegisteredFields',\n    value: function flattenRegisteredFields(fields) {\n      var validFieldsName = this.getAllFieldsName();\n      return flattenFields(fields, function (path) {\n        return validFieldsName.indexOf(path) >= 0;\n      }, 'You cannot set a form field before rendering a field associated with the value.');\n    }\n  }, {\n    key: 'setFields',\n    value: function setFields(fields) {\n      var _this = this;\n\n      var fieldsMeta = this.fieldsMeta;\n      var nowFields = _extends({}, this.fields, fields);\n      var nowValues = {};\n      Object.keys(fieldsMeta).forEach(function (f) {\n        nowValues[f] = _this.getValueFromFields(f, nowFields);\n      });\n      Object.keys(nowValues).forEach(function (f) {\n        var value = nowValues[f];\n        var fieldMeta = _this.getFieldMeta(f);\n        if (fieldMeta && fieldMeta.normalize) {\n          var nowValue = fieldMeta.normalize(value, _this.getValueFromFields(f, _this.fields), nowValues);\n          if (nowValue !== value) {\n            nowFields[f] = _extends({}, nowFields[f], {\n              value: nowValue\n            });\n          }\n        }\n      });\n      this.fields = nowFields;\n    }\n  }, {\n    key: 'resetFields',\n    value: function resetFields(ns) {\n      var fields = this.fields;\n\n      var names = ns ? this.getValidFieldsFullName(ns) : this.getAllFieldsName();\n      return names.reduce(function (acc, name) {\n        var field = fields[name];\n        if (field && 'value' in field) {\n          acc[name] = {};\n        }\n        return acc;\n      }, {});\n    }\n  }, {\n    key: 'setFieldMeta',\n    value: function setFieldMeta(name, meta) {\n      this.fieldsMeta[name] = meta;\n    }\n  }, {\n    key: 'setFieldsAsDirty',\n    value: function setFieldsAsDirty() {\n      var _this2 = this;\n\n      Object.keys(this.fields).forEach(function (name) {\n        var field = _this2.fields[name];\n        var fieldMeta = _this2.fieldsMeta[name];\n        if (field && fieldMeta && hasRules(fieldMeta.validate)) {\n          _this2.fields[name] = _extends({}, field, {\n            dirty: true\n          });\n        }\n      });\n    }\n  }, {\n    key: 'getFieldMeta',\n    value: function getFieldMeta(name) {\n      this.fieldsMeta[name] = this.fieldsMeta[name] || {};\n      return this.fieldsMeta[name];\n    }\n  }, {\n    key: 'getValueFromFields',\n    value: function getValueFromFields(name, fields) {\n      var field = fields[name];\n      if (field && 'value' in field) {\n        return field.value;\n      }\n      var fieldMeta = this.getFieldMeta(name);\n      return fieldMeta && fieldMeta.initialValue;\n    }\n  }, {\n    key: 'getValidFieldsName',\n    value: function getValidFieldsName() {\n      var _this3 = this;\n\n      var fieldsMeta = this.fieldsMeta;\n\n      return fieldsMeta ? Object.keys(fieldsMeta).filter(function (name) {\n        return !_this3.getFieldMeta(name).hidden;\n      }) : [];\n    }\n  }, {\n    key: 'getAllFieldsName',\n    value: function getAllFieldsName() {\n      var fieldsMeta = this.fieldsMeta;\n\n      return fieldsMeta ? Object.keys(fieldsMeta) : [];\n    }\n  }, {\n    key: 'getValidFieldsFullName',\n    value: function getValidFieldsFullName(maybePartialName) {\n      var maybePartialNames = Array.isArray(maybePartialName) ? maybePartialName : [maybePartialName];\n      return this.getValidFieldsName().filter(function (fullName) {\n        return maybePartialNames.some(function (partialName) {\n          return fullName === partialName || startsWith(fullName, partialName) && ['.', '['].indexOf(fullName[partialName.length]) >= 0;\n        });\n      });\n    }\n  }, {\n    key: 'getFieldValuePropValue',\n    value: function getFieldValuePropValue(fieldMeta) {\n      var name = fieldMeta.name,\n          getValueProps = fieldMeta.getValueProps,\n          valuePropName = fieldMeta.valuePropName;\n\n      var field = this.getField(name);\n      var fieldValue = 'value' in field ? field.value : fieldMeta.initialValue;\n      if (getValueProps) {\n        return getValueProps(fieldValue);\n      }\n      return _defineProperty({}, valuePropName, fieldValue);\n    }\n  }, {\n    key: 'getField',\n    value: function getField(name) {\n      return _extends({}, this.fields[name], {\n        name: name\n      });\n    }\n  }, {\n    key: 'getNotCollectedFields',\n    value: function getNotCollectedFields() {\n      var _this4 = this;\n\n      var fieldsName = this.getValidFieldsName();\n      return fieldsName.filter(function (name) {\n        return !_this4.fields[name];\n      }).map(function (name) {\n        return {\n          name: name,\n          dirty: false,\n          value: _this4.getFieldMeta(name).initialValue\n        };\n      }).reduce(function (acc, field) {\n        return set(acc, field.name, createFormField(field));\n      }, {});\n    }\n  }, {\n    key: 'getNestedAllFields',\n    value: function getNestedAllFields() {\n      var _this5 = this;\n\n      return Object.keys(this.fields).reduce(function (acc, name) {\n        return set(acc, name, createFormField(_this5.fields[name]));\n      }, this.getNotCollectedFields());\n    }\n  }, {\n    key: 'getFieldMember',\n    value: function getFieldMember(name, member) {\n      return this.getField(name)[member];\n    }\n  }, {\n    key: 'getNestedFields',\n    value: function getNestedFields(names, getter) {\n      var fields = names || this.getValidFieldsName();\n      return fields.reduce(function (acc, f) {\n        return set(acc, f, getter(f));\n      }, {});\n    }\n  }, {\n    key: 'getNestedField',\n    value: function getNestedField(name, getter) {\n      var fullNames = this.getValidFieldsFullName(name);\n      if (fullNames.length === 0 || // Not registered\n      fullNames.length === 1 && fullNames[0] === name // Name already is full name.\n      ) {\n          return getter(name);\n        }\n      var isArrayValue = fullNames[0][name.length] === '[';\n      var suffixNameStartIndex = isArrayValue ? name.length : name.length + 1;\n      return fullNames.reduce(function (acc, fullName) {\n        return set(acc, fullName.slice(suffixNameStartIndex), getter(fullName));\n      }, isArrayValue ? [] : {});\n    }\n  }, {\n    key: 'isValidNestedFieldName',\n\n\n    // @private\n    // BG: `a` and `a.b` cannot be use in the same form\n    value: function isValidNestedFieldName(name) {\n      var names = this.getAllFieldsName();\n      return names.every(function (n) {\n        return !partOf(n, name) && !partOf(name, n);\n      });\n    }\n  }, {\n    key: 'clearField',\n    value: function clearField(name) {\n      delete this.fields[name];\n      delete this.fieldsMeta[name];\n    }\n  }]);\n\n  return FieldsStore;\n}();\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this6 = this;\n\n  this.setFieldsInitialValue = function (initialValues) {\n    var flattenedInitialValues = _this6.flattenRegisteredFields(initialValues);\n    var fieldsMeta = _this6.fieldsMeta;\n    Object.keys(flattenedInitialValues).forEach(function (name) {\n      if (fieldsMeta[name]) {\n        _this6.setFieldMeta(name, _extends({}, _this6.getFieldMeta(name), {\n          initialValue: flattenedInitialValues[name]\n        }));\n      }\n    });\n  };\n\n  this.getAllValues = function () {\n    var fieldsMeta = _this6.fieldsMeta,\n        fields = _this6.fields;\n\n    return Object.keys(fieldsMeta).reduce(function (acc, name) {\n      return set(acc, name, _this6.getValueFromFields(name, fields));\n    }, {});\n  };\n\n  this.getFieldsValue = function (names) {\n    return _this6.getNestedFields(names, _this6.getFieldValue);\n  };\n\n  this.getFieldValue = function (name) {\n    var fields = _this6.fields;\n\n    return _this6.getNestedField(name, function (fullName) {\n      return _this6.getValueFromFields(fullName, fields);\n    });\n  };\n\n  this.getFieldsError = function (names) {\n    return _this6.getNestedFields(names, _this6.getFieldError);\n  };\n\n  this.getFieldError = function (name) {\n    return _this6.getNestedField(name, function (fullName) {\n      return getErrorStrs(_this6.getFieldMember(fullName, 'errors'));\n    });\n  };\n\n  this.isFieldValidating = function (name) {\n    return _this6.getFieldMember(name, 'validating');\n  };\n\n  this.isFieldsValidating = function (ns) {\n    var names = ns || _this6.getValidFieldsName();\n    return names.some(function (n) {\n      return _this6.isFieldValidating(n);\n    });\n  };\n\n  this.isFieldTouched = function (name) {\n    return _this6.getFieldMember(name, 'touched');\n  };\n\n  this.isFieldsTouched = function (ns) {\n    var names = ns || _this6.getValidFieldsName();\n    return names.some(function (n) {\n      return _this6.isFieldTouched(n);\n    });\n  };\n};\n\nexport default function createFieldsStore(fields) {\n  return new FieldsStore(fields);\n}","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar FieldElemWrapper = function (_React$Component) {\n  _inherits(FieldElemWrapper, _React$Component);\n\n  function FieldElemWrapper() {\n    _classCallCheck(this, FieldElemWrapper);\n\n    return _possibleConstructorReturn(this, (FieldElemWrapper.__proto__ || Object.getPrototypeOf(FieldElemWrapper)).apply(this, arguments));\n  }\n\n  _createClass(FieldElemWrapper, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          name = _props.name,\n          form = _props.form;\n\n      form.domFields[name] = true;\n      form.recoverClearedField(name);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var _props2 = this.props,\n          name = _props2.name,\n          form = _props2.form;\n\n      var fieldMeta = form.fieldsStore.getFieldMeta(name);\n      if (!fieldMeta.preserve) {\n        // after destroy, delete data\n        form.clearedFieldMetaCache[name] = {\n          field: form.fieldsStore.getField(name),\n          meta: fieldMeta\n        };\n        form.clearField(name);\n      }\n      delete form.domFields[name];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return FieldElemWrapper;\n}(React.Component);\n\nexport default FieldElemWrapper;\n\n\nFieldElemWrapper.propTypes = {\n  name: PropTypes.string,\n  form: PropTypes.shape({\n    domFields: PropTypes.objectOf(PropTypes.bool),\n    recoverClearedField: PropTypes.func,\n    fieldsStore: PropTypes.shape({\n      getFieldMeta: PropTypes.func,\n      getField: PropTypes.func\n    }),\n    clearedFieldMetaCache: PropTypes.objectOf(PropTypes.shape({\n      field: PropTypes.object,\n      meta: PropTypes.object\n    })),\n    clearField: PropTypes.func\n  }),\n  children: PropTypes.node\n};","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\n/* eslint-disable react/prefer-es6-class */\n/* eslint-disable prefer-promise-reject-errors */\n\nimport React from 'react';\nimport createReactClass from 'create-react-class';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport AsyncValidator from 'async-validator';\nimport warning from 'warning';\nimport get from 'lodash/get';\nimport set from 'lodash/set';\nimport eq from 'lodash/eq';\nimport createFieldsStore from './createFieldsStore';\nimport { argumentContainer, identity, normalizeValidateRules, getValidateTriggers, getValueFromEvent, hasRules, getParams, isEmptyObject, flattenArray, supportRef } from './utils';\nimport FieldElemWrapper from './FieldElemWrapper';\n\nvar DEFAULT_TRIGGER = 'onChange';\n\nfunction createBaseForm() {\n  var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var mixins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var validateMessages = option.validateMessages,\n      onFieldsChange = option.onFieldsChange,\n      onValuesChange = option.onValuesChange,\n      _option$mapProps = option.mapProps,\n      mapProps = _option$mapProps === undefined ? identity : _option$mapProps,\n      mapPropsToFields = option.mapPropsToFields,\n      fieldNameProp = option.fieldNameProp,\n      fieldMetaProp = option.fieldMetaProp,\n      fieldDataProp = option.fieldDataProp,\n      _option$formPropName = option.formPropName,\n      formPropName = _option$formPropName === undefined ? 'form' : _option$formPropName,\n      formName = option.name,\n      withRef = option.withRef;\n\n\n  return function decorate(WrappedComponent) {\n    var Form = createReactClass({\n      displayName: 'Form',\n\n      mixins: mixins,\n\n      getInitialState: function getInitialState() {\n        var _this = this;\n\n        var fields = mapPropsToFields && mapPropsToFields(this.props);\n        this.fieldsStore = createFieldsStore(fields || {});\n\n        this.instances = {};\n        this.cachedBind = {};\n        this.clearedFieldMetaCache = {};\n\n        this.renderFields = {};\n        this.domFields = {};\n\n        // HACK: https://github.com/ant-design/ant-design/issues/6406\n        ['getFieldsValue', 'getFieldValue', 'setFieldsInitialValue', 'getFieldsError', 'getFieldError', 'isFieldValidating', 'isFieldsValidating', 'isFieldsTouched', 'isFieldTouched'].forEach(function (key) {\n          _this[key] = function () {\n            var _fieldsStore;\n\n            if (process.env.NODE_ENV !== 'production') {\n              warning(false, 'you should not use `ref` on enhanced form, please use `wrappedComponentRef`. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n            }\n            return (_fieldsStore = _this.fieldsStore)[key].apply(_fieldsStore, arguments);\n          };\n        });\n\n        return {\n          submitting: false\n        };\n      },\n      componentDidMount: function componentDidMount() {\n        this.cleanUpUselessFields();\n      },\n      componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n        if (mapPropsToFields) {\n          this.fieldsStore.updateFields(mapPropsToFields(nextProps));\n        }\n      },\n      componentDidUpdate: function componentDidUpdate() {\n        this.cleanUpUselessFields();\n      },\n      onCollectCommon: function onCollectCommon(name, action, args) {\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta[action]) {\n          fieldMeta[action].apply(fieldMeta, _toConsumableArray(args));\n        } else if (fieldMeta.originalProps && fieldMeta.originalProps[action]) {\n          var _fieldMeta$originalPr;\n\n          (_fieldMeta$originalPr = fieldMeta.originalProps)[action].apply(_fieldMeta$originalPr, _toConsumableArray(args));\n        }\n        var value = fieldMeta.getValueFromEvent ? fieldMeta.getValueFromEvent.apply(fieldMeta, _toConsumableArray(args)) : getValueFromEvent.apply(undefined, _toConsumableArray(args));\n        if (onValuesChange && value !== this.fieldsStore.getFieldValue(name)) {\n          var valuesAll = this.fieldsStore.getAllValues();\n          var valuesAllSet = {};\n          valuesAll[name] = value;\n          Object.keys(valuesAll).forEach(function (key) {\n            return set(valuesAllSet, key, valuesAll[key]);\n          });\n          onValuesChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), set({}, name, value), valuesAllSet);\n        }\n        var field = this.fieldsStore.getField(name);\n        return { name: name, field: _extends({}, field, { value: value, touched: true }), fieldMeta: fieldMeta };\n      },\n      onCollect: function onCollect(name_, action) {\n        for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          args[_key - 2] = arguments[_key];\n        }\n\n        var _onCollectCommon = this.onCollectCommon(name_, action, args),\n            name = _onCollectCommon.name,\n            field = _onCollectCommon.field,\n            fieldMeta = _onCollectCommon.fieldMeta;\n\n        var validate = fieldMeta.validate;\n\n\n        this.fieldsStore.setFieldsAsDirty();\n\n        var newField = _extends({}, field, {\n          dirty: hasRules(validate)\n        });\n        this.setFields(_defineProperty({}, name, newField));\n      },\n      onCollectValidate: function onCollectValidate(name_, action) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        var _onCollectCommon2 = this.onCollectCommon(name_, action, args),\n            field = _onCollectCommon2.field,\n            fieldMeta = _onCollectCommon2.fieldMeta;\n\n        var newField = _extends({}, field, {\n          dirty: true\n        });\n\n        this.fieldsStore.setFieldsAsDirty();\n\n        this.validateFieldsInternal([newField], {\n          action: action,\n          options: {\n            firstFields: !!fieldMeta.validateFirst\n          }\n        });\n      },\n      getCacheBind: function getCacheBind(name, action, fn) {\n        if (!this.cachedBind[name]) {\n          this.cachedBind[name] = {};\n        }\n        var cache = this.cachedBind[name];\n        if (!cache[action] || cache[action].oriFn !== fn) {\n          cache[action] = {\n            fn: fn.bind(this, name, action),\n            oriFn: fn\n          };\n        }\n        return cache[action].fn;\n      },\n      getFieldDecorator: function getFieldDecorator(name, fieldOption) {\n        var _this2 = this;\n\n        var props = this.getFieldProps(name, fieldOption);\n        return function (fieldElem) {\n          // We should put field in record if it is rendered\n          _this2.renderFields[name] = true;\n\n          var fieldMeta = _this2.fieldsStore.getFieldMeta(name);\n          var originalProps = fieldElem.props;\n          if (process.env.NODE_ENV !== 'production') {\n            var valuePropName = fieldMeta.valuePropName;\n            warning(!(valuePropName in originalProps), '`getFieldDecorator` will override `' + valuePropName + '`, ' + ('so please don\\'t set `' + valuePropName + '` directly ') + 'and use `setFieldsValue` to set it.');\n            var defaultValuePropName = 'default' + valuePropName[0].toUpperCase() + valuePropName.slice(1);\n            warning(!(defaultValuePropName in originalProps), '`' + defaultValuePropName + '` is invalid ' + ('for `getFieldDecorator` will set `' + valuePropName + '`,') + ' please use `option.initialValue` instead.');\n          }\n          fieldMeta.originalProps = originalProps;\n          fieldMeta.ref = fieldElem.ref;\n          var decoratedFieldElem = React.cloneElement(fieldElem, _extends({}, props, _this2.fieldsStore.getFieldValuePropValue(fieldMeta)));\n          return supportRef(fieldElem) ? decoratedFieldElem : React.createElement(\n            FieldElemWrapper,\n            { name: name, form: _this2 },\n            decoratedFieldElem\n          );\n        };\n      },\n      getFieldProps: function getFieldProps(name) {\n        var _this3 = this;\n\n        var usersFieldOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (!name) {\n          throw new Error('Must call `getFieldProps` with valid name string!');\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          warning(this.fieldsStore.isValidNestedFieldName(name), 'One field name cannot be part of another, e.g. `a` and `a.b`. Check field: ' + name);\n          warning(!('exclusive' in usersFieldOption), '`option.exclusive` of `getFieldProps`|`getFieldDecorator` had been remove.');\n        }\n\n        delete this.clearedFieldMetaCache[name];\n\n        var fieldOption = _extends({\n          name: name,\n          trigger: DEFAULT_TRIGGER,\n          valuePropName: 'value',\n          validate: []\n        }, usersFieldOption);\n\n        var rules = fieldOption.rules,\n            trigger = fieldOption.trigger,\n            _fieldOption$validate = fieldOption.validateTrigger,\n            validateTrigger = _fieldOption$validate === undefined ? trigger : _fieldOption$validate,\n            validate = fieldOption.validate;\n\n\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if ('initialValue' in fieldOption) {\n          fieldMeta.initialValue = fieldOption.initialValue;\n        }\n\n        var inputProps = _extends({}, this.fieldsStore.getFieldValuePropValue(fieldOption), {\n          ref: this.getCacheBind(name, name + '__ref', this.saveRef)\n        });\n        if (fieldNameProp) {\n          inputProps[fieldNameProp] = formName ? formName + '_' + name : name;\n        }\n\n        var validateRules = normalizeValidateRules(validate, rules, validateTrigger);\n        var validateTriggers = getValidateTriggers(validateRules);\n        validateTriggers.forEach(function (action) {\n          if (inputProps[action]) return;\n          inputProps[action] = _this3.getCacheBind(name, action, _this3.onCollectValidate);\n        });\n\n        // make sure that the value will be collect\n        if (trigger && validateTriggers.indexOf(trigger) === -1) {\n          inputProps[trigger] = this.getCacheBind(name, trigger, this.onCollect);\n        }\n\n        var meta = _extends({}, fieldMeta, fieldOption, {\n          validate: validateRules\n        });\n        this.fieldsStore.setFieldMeta(name, meta);\n        if (fieldMetaProp) {\n          inputProps[fieldMetaProp] = meta;\n        }\n\n        if (fieldDataProp) {\n          inputProps[fieldDataProp] = this.fieldsStore.getField(name);\n        }\n\n        // This field is rendered, record it\n        this.renderFields[name] = true;\n\n        return inputProps;\n      },\n      getFieldInstance: function getFieldInstance(name) {\n        return this.instances[name];\n      },\n      getRules: function getRules(fieldMeta, action) {\n        var actionRules = fieldMeta.validate.filter(function (item) {\n          return !action || item.trigger.indexOf(action) >= 0;\n        }).map(function (item) {\n          return item.rules;\n        });\n        return flattenArray(actionRules);\n      },\n      setFields: function setFields(maybeNestedFields, callback) {\n        var _this4 = this;\n\n        var fields = this.fieldsStore.flattenRegisteredFields(maybeNestedFields);\n        this.fieldsStore.setFields(fields);\n        if (onFieldsChange) {\n          var changedFields = Object.keys(fields).reduce(function (acc, name) {\n            return set(acc, name, _this4.fieldsStore.getField(name));\n          }, {});\n          onFieldsChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), changedFields, this.fieldsStore.getNestedAllFields());\n        }\n        this.forceUpdate(callback);\n      },\n      setFieldsValue: function setFieldsValue(changedValues, callback) {\n        var fieldsMeta = this.fieldsStore.fieldsMeta;\n\n        var values = this.fieldsStore.flattenRegisteredFields(changedValues);\n        var newFields = Object.keys(values).reduce(function (acc, name) {\n          var isRegistered = fieldsMeta[name];\n          if (process.env.NODE_ENV !== 'production') {\n            warning(isRegistered, 'Cannot use `setFieldsValue` until ' + 'you use `getFieldDecorator` or `getFieldProps` to register it.');\n          }\n          if (isRegistered) {\n            var value = values[name];\n            acc[name] = {\n              value: value\n            };\n          }\n          return acc;\n        }, {});\n        this.setFields(newFields, callback);\n        if (onValuesChange) {\n          var allValues = this.fieldsStore.getAllValues();\n          onValuesChange(_extends(_defineProperty({}, formPropName, this.getForm()), this.props), changedValues, allValues);\n        }\n      },\n      saveRef: function saveRef(name, _, component) {\n        if (!component) {\n          var _fieldMeta = this.fieldsStore.getFieldMeta(name);\n          if (!_fieldMeta.preserve) {\n            // after destroy, delete data\n            this.clearedFieldMetaCache[name] = {\n              field: this.fieldsStore.getField(name),\n              meta: _fieldMeta\n            };\n            this.clearField(name);\n          }\n          delete this.domFields[name];\n          return;\n        }\n        this.domFields[name] = true;\n        this.recoverClearedField(name);\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta) {\n          var ref = fieldMeta.ref;\n          if (ref) {\n            if (typeof ref === 'string') {\n              throw new Error('can not set ref string for ' + name);\n            } else if (typeof ref === 'function') {\n              ref(component);\n            } else if (Object.prototype.hasOwnProperty.call(ref, 'current')) {\n              ref.current = component;\n            }\n          }\n        }\n        this.instances[name] = component;\n      },\n      cleanUpUselessFields: function cleanUpUselessFields() {\n        var _this5 = this;\n\n        var fieldList = this.fieldsStore.getAllFieldsName();\n        var removedList = fieldList.filter(function (field) {\n          var fieldMeta = _this5.fieldsStore.getFieldMeta(field);\n          return !_this5.renderFields[field] && !_this5.domFields[field] && !fieldMeta.preserve;\n        });\n        if (removedList.length) {\n          removedList.forEach(this.clearField);\n        }\n        this.renderFields = {};\n      },\n      clearField: function clearField(name) {\n        this.fieldsStore.clearField(name);\n        delete this.instances[name];\n        delete this.cachedBind[name];\n      },\n      resetFields: function resetFields(ns) {\n        var _this6 = this;\n\n        var newFields = this.fieldsStore.resetFields(ns);\n        if (Object.keys(newFields).length > 0) {\n          this.setFields(newFields);\n        }\n        if (ns) {\n          var names = Array.isArray(ns) ? ns : [ns];\n          names.forEach(function (name) {\n            return delete _this6.clearedFieldMetaCache[name];\n          });\n        } else {\n          this.clearedFieldMetaCache = {};\n        }\n      },\n      recoverClearedField: function recoverClearedField(name) {\n        if (this.clearedFieldMetaCache[name]) {\n          this.fieldsStore.setFields(_defineProperty({}, name, this.clearedFieldMetaCache[name].field));\n          this.fieldsStore.setFieldMeta(name, this.clearedFieldMetaCache[name].meta);\n          delete this.clearedFieldMetaCache[name];\n        }\n      },\n      validateFieldsInternal: function validateFieldsInternal(fields, _ref, callback) {\n        var _this7 = this;\n\n        var fieldNames = _ref.fieldNames,\n            action = _ref.action,\n            _ref$options = _ref.options,\n            options = _ref$options === undefined ? {} : _ref$options;\n\n        var allRules = {};\n        var allValues = {};\n        var allFields = {};\n        var alreadyErrors = {};\n        fields.forEach(function (field) {\n          var name = field.name;\n          if (options.force !== true && field.dirty === false) {\n            if (field.errors) {\n              set(alreadyErrors, name, { errors: field.errors });\n            }\n            return;\n          }\n          var fieldMeta = _this7.fieldsStore.getFieldMeta(name);\n          var newField = _extends({}, field);\n          newField.errors = undefined;\n          newField.validating = true;\n          newField.dirty = true;\n          allRules[name] = _this7.getRules(fieldMeta, action);\n          allValues[name] = newField.value;\n          allFields[name] = newField;\n        });\n        this.setFields(allFields);\n        // in case normalize\n        Object.keys(allValues).forEach(function (f) {\n          allValues[f] = _this7.fieldsStore.getFieldValue(f);\n        });\n        if (callback && isEmptyObject(allFields)) {\n          callback(isEmptyObject(alreadyErrors) ? null : alreadyErrors, this.fieldsStore.getFieldsValue(fieldNames));\n          return;\n        }\n        var validator = new AsyncValidator(allRules);\n        if (validateMessages) {\n          validator.messages(validateMessages);\n        }\n        validator.validate(allValues, options, function (errors) {\n          var errorsGroup = _extends({}, alreadyErrors);\n          if (errors && errors.length) {\n            errors.forEach(function (e) {\n              var errorFieldName = e.field;\n              var fieldName = errorFieldName;\n\n              // Handle using array validation rule.\n              // ref: https://github.com/ant-design/ant-design/issues/14275\n              Object.keys(allRules).some(function (ruleFieldName) {\n                var rules = allRules[ruleFieldName] || [];\n\n                // Exist if match rule\n                if (ruleFieldName === errorFieldName) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n\n                // Skip if not match array type\n                if (rules.every(function (_ref2) {\n                  var type = _ref2.type;\n                  return type !== 'array';\n                }) || errorFieldName.indexOf(ruleFieldName + '.') !== 0) {\n                  return false;\n                }\n\n                // Exist if match the field name\n                var restPath = errorFieldName.slice(ruleFieldName.length + 1);\n                if (/^\\d+$/.test(restPath)) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n\n                return false;\n              });\n\n              var field = get(errorsGroup, fieldName);\n              if (typeof field !== 'object' || Array.isArray(field)) {\n                set(errorsGroup, fieldName, { errors: [] });\n              }\n              var fieldErrors = get(errorsGroup, fieldName.concat('.errors'));\n              fieldErrors.push(e);\n            });\n          }\n          var expired = [];\n          var nowAllFields = {};\n          Object.keys(allRules).forEach(function (name) {\n            var fieldErrors = get(errorsGroup, name);\n            var nowField = _this7.fieldsStore.getField(name);\n            // avoid concurrency problems\n            if (!eq(nowField.value, allValues[name])) {\n              expired.push({\n                name: name\n              });\n            } else {\n              nowField.errors = fieldErrors && fieldErrors.errors;\n              nowField.value = allValues[name];\n              nowField.validating = false;\n              nowField.dirty = false;\n              nowAllFields[name] = nowField;\n            }\n          });\n          _this7.setFields(nowAllFields);\n          if (callback) {\n            if (expired.length) {\n              expired.forEach(function (_ref3) {\n                var name = _ref3.name;\n\n                var fieldErrors = [{\n                  message: name + ' need to revalidate',\n                  field: name\n                }];\n                set(errorsGroup, name, {\n                  expired: true,\n                  errors: fieldErrors\n                });\n              });\n            }\n\n            callback(isEmptyObject(errorsGroup) ? null : errorsGroup, _this7.fieldsStore.getFieldsValue(fieldNames));\n          }\n        });\n      },\n      validateFields: function validateFields(ns, opt, cb) {\n        var _this8 = this;\n\n        var pending = new Promise(function (resolve, reject) {\n          var _getParams = getParams(ns, opt, cb),\n              names = _getParams.names,\n              options = _getParams.options;\n\n          var _getParams2 = getParams(ns, opt, cb),\n              callback = _getParams2.callback;\n\n          if (!callback || typeof callback === 'function') {\n            var oldCb = callback;\n            callback = function callback(errors, values) {\n              if (oldCb) {\n                oldCb(errors, values);\n              }\n              if (errors) {\n                reject({ errors: errors, values: values });\n              } else {\n                resolve(values);\n              }\n            };\n          }\n          var fieldNames = names ? _this8.fieldsStore.getValidFieldsFullName(names) : _this8.fieldsStore.getValidFieldsName();\n          var fields = fieldNames.filter(function (name) {\n            var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n            return hasRules(fieldMeta.validate);\n          }).map(function (name) {\n            var field = _this8.fieldsStore.getField(name);\n            field.value = _this8.fieldsStore.getFieldValue(name);\n            return field;\n          });\n          if (!fields.length) {\n            callback(null, _this8.fieldsStore.getFieldsValue(fieldNames));\n            return;\n          }\n          if (!('firstFields' in options)) {\n            options.firstFields = fieldNames.filter(function (name) {\n              var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n              return !!fieldMeta.validateFirst;\n            });\n          }\n          _this8.validateFieldsInternal(fields, {\n            fieldNames: fieldNames,\n            options: options\n          }, callback);\n        });\n        pending['catch'](function (e) {\n          // eslint-disable-next-line no-console\n          if (console.error && process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.error(e);\n          }\n          return e;\n        });\n        return pending;\n      },\n      isSubmitting: function isSubmitting() {\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          warning(false, '`isSubmitting` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        return this.state.submitting;\n      },\n      submit: function submit(callback) {\n        var _this9 = this;\n\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          warning(false, '`submit` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        var fn = function fn() {\n          _this9.setState({\n            submitting: false\n          });\n        };\n        this.setState({\n          submitting: true\n        });\n        callback(fn);\n      },\n      render: function render() {\n        var _props = this.props,\n            wrappedComponentRef = _props.wrappedComponentRef,\n            restProps = _objectWithoutProperties(_props, ['wrappedComponentRef']); // eslint-disable-line\n\n\n        var formProps = _defineProperty({}, formPropName, this.getForm());\n        if (withRef) {\n          if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n            warning(false, '`withRef` is deprecated, please use `wrappedComponentRef` instead. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n          }\n          formProps.ref = 'wrappedComponent';\n        } else if (wrappedComponentRef) {\n          formProps.ref = wrappedComponentRef;\n        }\n        var props = mapProps.call(this, _extends({}, formProps, restProps));\n        return React.createElement(WrappedComponent, props);\n      }\n    });\n\n    return argumentContainer(unsafeLifecyclesPolyfill(Form), WrappedComponent);\n  };\n}\n\nexport default createBaseForm;","import createBaseForm from './createBaseForm';\n\nexport var mixin = {\n  getForm: function getForm() {\n    return {\n      getFieldsValue: this.fieldsStore.getFieldsValue,\n      getFieldValue: this.fieldsStore.getFieldValue,\n      getFieldInstance: this.getFieldInstance,\n      setFieldsValue: this.setFieldsValue,\n      setFields: this.setFields,\n      setFieldsInitialValue: this.fieldsStore.setFieldsInitialValue,\n      getFieldDecorator: this.getFieldDecorator,\n      getFieldProps: this.getFieldProps,\n      getFieldsError: this.fieldsStore.getFieldsError,\n      getFieldError: this.fieldsStore.getFieldError,\n      isFieldValidating: this.fieldsStore.isFieldValidating,\n      isFieldsValidating: this.fieldsStore.isFieldsValidating,\n      isFieldsTouched: this.fieldsStore.isFieldsTouched,\n      isFieldTouched: this.fieldsStore.isFieldTouched,\n      isSubmitting: this.isSubmitting,\n      submit: this.submit,\n      validateFields: this.validateFields,\n      resetFields: this.resetFields\n    };\n  }\n};\n\nfunction createForm(options) {\n  return createBaseForm(options, [mixin]);\n}\n\nexport default createForm;","import _extends from 'babel-runtime/helpers/extends';\nimport ReactDOM from 'react-dom';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport has from 'lodash/has';\nimport createBaseForm from './createBaseForm';\nimport { mixin as formMixin } from './createForm';\nimport { getParams } from './utils';\n\nfunction computedStyle(el, prop) {\n  var getComputedStyle = window.getComputedStyle;\n  var style =\n  // If we have getComputedStyle\n  getComputedStyle ?\n  // Query it\n  // TODO: From CSS-Query notes, we might need (node, null) for FF\n  getComputedStyle(el) :\n\n  // Otherwise, we are in IE and use currentStyle\n  el.currentStyle;\n  if (style) {\n    return style[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })];\n  }\n  return undefined;\n}\n\nfunction getScrollableContainer(n) {\n  var node = n;\n  var nodeName = void 0;\n  /* eslint no-cond-assign:0 */\n  while ((nodeName = node.nodeName.toLowerCase()) !== 'body') {\n    var overflowY = computedStyle(node, 'overflowY');\n    // https://stackoverflow.com/a/36900407/3040605\n    if (node !== n && (overflowY === 'auto' || overflowY === 'scroll') && node.scrollHeight > node.clientHeight) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n  return nodeName === 'body' ? node.ownerDocument : node;\n}\n\nvar mixin = {\n  getForm: function getForm() {\n    return _extends({}, formMixin.getForm.call(this), {\n      validateFieldsAndScroll: this.validateFieldsAndScroll\n    });\n  },\n  validateFieldsAndScroll: function validateFieldsAndScroll(ns, opt, cb) {\n    var _this = this;\n\n    var _getParams = getParams(ns, opt, cb),\n        names = _getParams.names,\n        callback = _getParams.callback,\n        options = _getParams.options;\n\n    var newCb = function newCb(error, values) {\n      if (error) {\n        var validNames = _this.fieldsStore.getValidFieldsName();\n        var firstNode = void 0;\n        var firstTop = void 0;\n\n        validNames.forEach(function (name) {\n          if (has(error, name)) {\n            var instance = _this.getFieldInstance(name);\n            if (instance) {\n              var node = ReactDOM.findDOMNode(instance);\n              var top = node.getBoundingClientRect().top;\n              if (node.type !== 'hidden' && (firstTop === undefined || firstTop > top)) {\n                firstTop = top;\n                firstNode = node;\n              }\n            }\n          }\n        });\n\n        if (firstNode) {\n          var c = options.container || getScrollableContainer(firstNode);\n          scrollIntoView(firstNode, c, _extends({\n            onlyScrollIfNeeded: true\n          }, options.scroll));\n        }\n      }\n\n      if (typeof callback === 'function') {\n        callback(error, values);\n      }\n    };\n\n    return this.validateFields(names, options, newCb);\n  }\n};\n\nfunction createDOMForm(option) {\n  return createBaseForm(_extends({}, option), [mixin]);\n}\n\nexport default createDOMForm;","import _extends from \"babel-runtime/helpers/extends\";\nfunction omit(obj, fields) {\n  var shallowCopy = _extends({}, obj);\n  for (var i = 0; i < fields.length; i++) {\n    var key = fields[i];\n    delete shallowCopy[key];\n  }\n  return shallowCopy;\n}\n\nexport default omit;","export var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};","/* eslint-disable no-console */\nvar warned = {};\nexport function warning(valid, message) {\n  // Support uglify\n  if (process.env.NODE_ENV !== 'production' && !valid && console !== undefined) {\n    console.error(\"Warning: \".concat(message));\n  }\n}\nexport function note(valid, message) {\n  // Support uglify\n  if (process.env.NODE_ENV !== 'production' && !valid && console !== undefined) {\n    console.warn(\"Note: \".concat(message));\n  }\n}\nexport function resetWarned() {\n  warned = {};\n}\nexport function call(method, valid, message) {\n  if (!valid && !warned[message]) {\n    method(false, message);\n    warned[message] = true;\n  }\n}\nexport function warningOnce(valid, message) {\n  call(warning, valid, message);\n}\nexport function noteOnce(valid, message) {\n  call(note, valid, message);\n}\nexport default warningOnce;\n/* eslint-enable */","var _ConfigProvider$Confi;\n\nimport { ConfigProvider } from 'antd';\nimport { ConfigConsumer } from \"antd/es/config-provider\";\nvar MergedConfigConsumer = (ConfigProvider === null || ConfigProvider === void 0 ? void 0 : (_ConfigProvider$Confi = ConfigProvider.ConfigContext) === null || _ConfigProvider$Confi === void 0 ? void 0 : _ConfigProvider$Confi.Consumer) || ConfigConsumer;\nexport default MergedConfigConsumer;","import warning from \"rc-util/es/warning\";\nexport default (function (valid, component, message) {\n  warning(valid, \"[antd-compatible: \".concat(component, \"] \").concat(message));\n});","import * as React from 'react';\nvar FormContext = /*#__PURE__*/React.createContext({\n  labelAlign: 'right',\n  vertical: false\n});\nexport default FormContext;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _excluded = [\"prefixCls\", \"style\", \"className\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport Animate from 'rc-animate';\nimport omit from 'omit.js';\nimport { Row, Col } from 'antd';\nimport { CheckCircleFilled, CloseCircleFilled, ExclamationCircleFilled, LoadingOutlined } from '@ant-design/icons';\nimport CompatibleConsumer from '../CompatibleConsumer';\nimport warning from '../_util/warning';\nimport { tuple } from '../_util/types';\nimport { FIELD_META_PROP, FIELD_DATA_PROP } from './constants';\nimport FormContext from './context';\nvar ValidateStatuses = tuple('success', 'warning', 'error', 'validating', '');\nvar FormLabelAligns = tuple('left', 'right');\n\nfunction intersperseSpace(list) {\n  return list.reduce(function (current, item) {\n    return [].concat(_toConsumableArray(current), [' ', item]);\n  }, []).slice(1);\n}\n\nvar FormItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(FormItem, _React$Component);\n\n  var _super = _createSuper(FormItem);\n\n  function FormItem() {\n    var _this;\n\n    _classCallCheck(this, FormItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.helpShow = false;\n\n    _this.onLabelClick = function () {\n      var id = _this.props.id || _this.getId();\n\n      if (!id) {\n        return;\n      }\n\n      var formItemNode = ReactDOM.findDOMNode(_assertThisInitialized(_this));\n      var control = formItemNode.querySelector(\"[id=\\\"\".concat(id, \"\\\"]\"));\n\n      if (control && control.focus) {\n        control.focus();\n      }\n    };\n\n    _this.onHelpAnimEnd = function (_key, helpShow) {\n      _this.helpShow = helpShow;\n\n      if (!helpShow) {\n        _this.setState({});\n      }\n    };\n\n    _this.renderFormItem = function (_ref) {\n      var _itemClassName;\n\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          style = _this$props.style,\n          className = _this$props.className,\n          restProps = _objectWithoutProperties(_this$props, _excluded);\n\n      var prefixCls = getPrefixCls('legacy-form', customizePrefixCls);\n\n      var children = _this.renderChildren(prefixCls);\n\n      var itemClassName = (_itemClassName = {}, _defineProperty(_itemClassName, \"\".concat(prefixCls, \"-item\"), true), _defineProperty(_itemClassName, \"\".concat(prefixCls, \"-item-with-help\"), _this.helpShow), _defineProperty(_itemClassName, \"\".concat(className), !!className), _itemClassName);\n      return /*#__PURE__*/React.createElement(Row, _objectSpread(_objectSpread({\n        className: classNames(itemClassName),\n        style: style\n      }, omit(restProps, ['id', 'htmlFor', 'label', 'labelAlign', 'labelCol', 'wrapperCol', 'help', 'extra', 'validateStatus', 'hasFeedback', 'required', 'colon'])), {}, {\n        key: \"row\"\n      }), children);\n    };\n\n    return _this;\n  }\n\n  _createClass(FormItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          help = _this$props2.help,\n          validateStatus = _this$props2.validateStatus,\n          id = _this$props2.id;\n      warning(this.getControls(children, true).length <= 1 || help !== undefined || validateStatus !== undefined, 'Form.Item', 'Cannot generate `validateStatus` and `help` automatically, ' + 'while there are more than one `getFieldDecorator` in it.');\n      warning(!id, 'Form.Item', '`id` is deprecated for its label `htmlFor`. Please use `htmlFor` directly.');\n    }\n  }, {\n    key: \"getHelpMessage\",\n    value: function getHelpMessage() {\n      var help = this.props.help;\n\n      if (help === undefined && this.getOnlyControl()) {\n        var _this$getField = this.getField(),\n            errors = _this$getField.errors;\n\n        if (errors) {\n          return intersperseSpace(errors.map(function (e, index) {\n            var node = null;\n\n            if ( /*#__PURE__*/React.isValidElement(e)) {\n              node = e;\n            } else if ( /*#__PURE__*/React.isValidElement(e.message)) {\n              node = e.message;\n            } // eslint-disable-next-line react/no-array-index-key\n\n\n            return node ? /*#__PURE__*/React.cloneElement(node, {\n              key: index\n            }) : e.message;\n          }));\n        }\n\n        return '';\n      }\n\n      return help;\n    }\n  }, {\n    key: \"getControls\",\n    value: function getControls(children, recursively) {\n      var controls = [];\n      var childrenArray = React.Children.toArray(children);\n\n      for (var i = 0; i < childrenArray.length; i += 1) {\n        if (!recursively && controls.length > 0) {\n          break;\n        }\n\n        var child = childrenArray[i];\n\n        if (child.type && (child.type === FormItem || child.type.displayName === 'FormItem')) {\n          continue;\n        }\n\n        if (!child.props) {\n          continue;\n        }\n\n        if (FIELD_META_PROP in child.props) {\n          // And means FIELD_DATA_PROP in child.props, too.\n          controls.push(child);\n        } else if (child.props.children) {\n          controls = controls.concat(this.getControls(child.props.children, recursively));\n        }\n      }\n\n      return controls;\n    }\n  }, {\n    key: \"getOnlyControl\",\n    value: function getOnlyControl() {\n      var child = this.getControls(this.props.children, false)[0];\n      return child !== undefined ? child : null;\n    }\n  }, {\n    key: \"getChildProp\",\n    value: function getChildProp(prop) {\n      var child = this.getOnlyControl();\n      return child && child.props && child.props[prop];\n    }\n  }, {\n    key: \"getId\",\n    value: function getId() {\n      return this.getChildProp('id');\n    }\n  }, {\n    key: \"getMeta\",\n    value: function getMeta() {\n      return this.getChildProp(FIELD_META_PROP);\n    }\n  }, {\n    key: \"getField\",\n    value: function getField() {\n      return this.getChildProp(FIELD_DATA_PROP);\n    }\n  }, {\n    key: \"getValidateStatus\",\n    value: function getValidateStatus() {\n      var onlyControl = this.getOnlyControl();\n\n      if (!onlyControl) {\n        return '';\n      }\n\n      var field = this.getField();\n\n      if (field.validating) {\n        return 'validating';\n      }\n\n      if (field.errors) {\n        return 'error';\n      }\n\n      var fieldValue = 'value' in field ? field.value : this.getMeta().initialValue;\n\n      if (fieldValue !== undefined && fieldValue !== null && fieldValue !== '') {\n        return 'success';\n      }\n\n      return '';\n    } // Resolve duplicated ids bug between different forms\n    // https://github.com/ant-design/ant-design/issues/7351\n\n  }, {\n    key: \"isRequired\",\n    value: function isRequired() {\n      var required = this.props.required;\n\n      if (required !== undefined) {\n        return required;\n      }\n\n      if (this.getOnlyControl()) {\n        var meta = this.getMeta() || {};\n        var validate = meta.validate || [];\n        return validate.filter(function (item) {\n          return !!item.rules;\n        }).some(function (item) {\n          return item.rules.some(function (rule) {\n            return rule.required;\n          });\n        });\n      }\n\n      return false;\n    }\n  }, {\n    key: \"renderHelp\",\n    value: function renderHelp(prefixCls) {\n      var help = this.getHelpMessage();\n      var children = help ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-explain\"),\n        key: \"help\"\n      }, help) : null;\n\n      if (children) {\n        this.helpShow = !!children;\n      }\n\n      return /*#__PURE__*/React.createElement(Animate, {\n        transitionName: \"show-help\",\n        component: \"\",\n        transitionAppear: true,\n        key: \"help\",\n        onEnd: this.onHelpAnimEnd\n      }, children);\n    }\n  }, {\n    key: \"renderExtra\",\n    value: function renderExtra(prefixCls) {\n      var extra = this.props.extra;\n      return extra ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-extra\")\n      }, extra) : null;\n    }\n  }, {\n    key: \"renderValidateWrapper\",\n    value: function renderValidateWrapper(prefixCls, c1, c2, c3) {\n      var props = this.props;\n      var onlyControl = this.getOnlyControl;\n      var validateStatus = props.validateStatus === undefined && onlyControl ? this.getValidateStatus() : props.validateStatus;\n      var classes = \"\".concat(prefixCls, \"-item-control\");\n\n      if (validateStatus) {\n        classes = classNames(\"\".concat(prefixCls, \"-item-control\"), {\n          'has-feedback': props.hasFeedback || validateStatus === 'validating',\n          'has-success': validateStatus === 'success',\n          'has-warning': validateStatus === 'warning',\n          'has-error': validateStatus === 'error',\n          'is-validating': validateStatus === 'validating'\n        });\n      }\n\n      var iconType = null;\n\n      switch (validateStatus) {\n        case 'success':\n          iconType = /*#__PURE__*/React.createElement(CheckCircleFilled, null);\n          break;\n\n        case 'warning':\n          iconType = /*#__PURE__*/React.createElement(ExclamationCircleFilled, null);\n          break;\n\n        case 'error':\n          iconType = /*#__PURE__*/React.createElement(CloseCircleFilled, null);\n          break;\n\n        case 'validating':\n          iconType = /*#__PURE__*/React.createElement(LoadingOutlined, null);\n          break;\n\n        default:\n          break;\n      }\n\n      var icon = props.hasFeedback && iconType ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-item-children-icon\")\n      }, iconType) : null;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-item-children\")\n      }, c1, icon), c2, c3);\n    }\n  }, {\n    key: \"renderWrapper\",\n    value: function renderWrapper(prefixCls, children) {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(FormContext.Consumer, {\n        key: \"wrapper\"\n      }, function (_ref2) {\n        var contextWrapperCol = _ref2.wrapperCol,\n            vertical = _ref2.vertical;\n        var wrapperCol = _this2.props.wrapperCol;\n        var mergedWrapperCol = ('wrapperCol' in _this2.props ? wrapperCol : contextWrapperCol) || {};\n        var className = classNames(\"\".concat(prefixCls, \"-item-control-wrapper\"), mergedWrapperCol.className); // No pass FormContext since it's useless\n\n        return /*#__PURE__*/React.createElement(FormContext.Provider, {\n          value: {\n            vertical: vertical\n          }\n        }, /*#__PURE__*/React.createElement(Col, _objectSpread(_objectSpread({}, mergedWrapperCol), {}, {\n          className: className\n        }), children));\n      });\n    }\n  }, {\n    key: \"renderLabel\",\n    value: function renderLabel(prefixCls) {\n      var _this3 = this;\n\n      return /*#__PURE__*/React.createElement(FormContext.Consumer, {\n        key: \"label\"\n      }, function (_ref3) {\n        var _classNames;\n\n        var vertical = _ref3.vertical,\n            contextLabelAlign = _ref3.labelAlign,\n            contextLabelCol = _ref3.labelCol,\n            contextColon = _ref3.colon;\n        var _this3$props = _this3.props,\n            label = _this3$props.label,\n            labelCol = _this3$props.labelCol,\n            labelAlign = _this3$props.labelAlign,\n            colon = _this3$props.colon,\n            id = _this3$props.id,\n            htmlFor = _this3$props.htmlFor;\n\n        var required = _this3.isRequired();\n\n        var mergedLabelCol = ('labelCol' in _this3.props ? labelCol : contextLabelCol) || {};\n        var mergedLabelAlign = 'labelAlign' in _this3.props ? labelAlign : contextLabelAlign;\n        var labelClsBasic = \"\".concat(prefixCls, \"-item-label\");\n        var labelColClassName = classNames(labelClsBasic, mergedLabelAlign === 'left' && \"\".concat(labelClsBasic, \"-left\"), mergedLabelCol.className);\n        var labelChildren = label; // Keep label is original where there should have no colon\n\n        var computedColon = colon === true || contextColon !== false && colon !== false;\n        var haveColon = computedColon && !vertical; // Remove duplicated user input colon\n\n        if (haveColon && typeof label === 'string' && label.trim() !== '') {\n          labelChildren = label.replace(/[:]\\s*$/, '');\n        }\n\n        var labelClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-item-required\"), required), _defineProperty(_classNames, \"\".concat(prefixCls, \"-item-no-colon\"), !computedColon), _classNames));\n        return label ? /*#__PURE__*/React.createElement(Col, _objectSpread(_objectSpread({}, mergedLabelCol), {}, {\n          className: labelColClassName\n        }), /*#__PURE__*/React.createElement(\"label\", {\n          htmlFor: htmlFor || id || _this3.getId(),\n          className: labelClassName,\n          title: typeof label === 'string' ? label : '',\n          onClick: _this3.onLabelClick\n        }, labelChildren)) : null;\n      });\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren(prefixCls) {\n      var children = this.props.children;\n      return [this.renderLabel(prefixCls), this.renderWrapper(prefixCls, this.renderValidateWrapper(prefixCls, children, this.renderHelp(prefixCls), this.renderExtra(prefixCls)))];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(CompatibleConsumer, null, this.renderFormItem);\n    }\n  }]);\n\n  return FormItem;\n}(React.Component);\n\nFormItem.defaultProps = {\n  hasFeedback: false\n};\nexport { FormItem as default };","export var FIELD_META_PROP = 'data-__meta';\nexport var FIELD_DATA_PROP = 'data-__field';","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport createDOMForm from \"rc-form/es/createDOMForm\";\nimport createFormField from \"rc-form/es/createFormField\";\nimport omit from 'omit.js';\nimport { tuple } from '../_util/types';\nimport warning from '../_util/warning';\nimport FormItem from './FormItem';\nimport { FIELD_META_PROP, FIELD_DATA_PROP } from './constants';\nimport FormContext from './context';\nimport upgradeMessage from '../_util/upgradeMessage';\nimport CompatibleConsumer from '../CompatibleConsumer';\nvar FormLayouts = tuple('horizontal', 'inline', 'vertical');\n\nvar Form = /*#__PURE__*/function (_React$Component) {\n  _inherits(Form, _React$Component);\n\n  var _super = _createSuper(Form);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _super.call(this, props);\n\n    _this.renderForm = function (_ref) {\n      var _classNames;\n\n      var getPrefixCls = _ref.getPrefixCls;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          hideRequiredMark = _this$props.hideRequiredMark,\n          _this$props$className = _this$props.className,\n          className = _this$props$className === void 0 ? '' : _this$props$className,\n          layout = _this$props.layout;\n      var prefixCls = getPrefixCls('legacy-form', customizePrefixCls);\n      var formClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-horizontal\"), layout === 'horizontal'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-vertical\"), layout === 'vertical'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-inline\"), layout === 'inline'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hide-required-mark\"), hideRequiredMark), _classNames), className);\n      var formProps = omit(_this.props, ['prefixCls', 'className', 'layout', 'form', 'hideRequiredMark', 'wrapperCol', 'labelAlign', 'labelCol', 'colon']);\n      return /*#__PURE__*/React.createElement(\"form\", _objectSpread(_objectSpread({}, formProps), {}, {\n        className: formClassName\n      }));\n    };\n\n    warning(!props.form, 'Form', 'It is unnecessary to pass `form` to `Form` after antd@1.7.0.');\n    upgradeMessage('Form');\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      try {\n        warning(getComputedStyle(document.querySelector('.ant-col'), null).getPropertyValue('position') === 'relative', 'Form', 'If missing `Grid` style, you should import it, Please follow https://github.com/ant-design/compatible#faq.');\n      } catch (error) {\n        warning(false, 'Form', error);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          wrapperCol = _this$props2.wrapperCol,\n          labelAlign = _this$props2.labelAlign,\n          labelCol = _this$props2.labelCol,\n          layout = _this$props2.layout,\n          colon = _this$props2.colon;\n      return /*#__PURE__*/React.createElement(FormContext.Provider, {\n        value: {\n          wrapperCol: wrapperCol,\n          labelAlign: labelAlign,\n          labelCol: labelCol,\n          vertical: layout === 'vertical',\n          colon: colon\n        }\n      }, /*#__PURE__*/React.createElement(CompatibleConsumer, null, this.renderForm));\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nForm.defaultProps = {\n  colon: true,\n  layout: 'horizontal',\n  hideRequiredMark: false,\n  onSubmit: function onSubmit(e) {\n    e.preventDefault();\n  }\n};\nForm.Item = FormItem;\nForm.createFormField = createFormField;\n\nForm.create = function create() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return createDOMForm(_objectSpread(_objectSpread({\n    fieldNameProp: 'id'\n  }, options), {}, {\n    fieldMetaProp: FIELD_META_PROP,\n    fieldDataProp: FIELD_DATA_PROP\n  }));\n};\n\nexport { Form as default };","import warning from './warning';\nexport default (function (component) {\n  return warning(false, component, \"The legacy component has been deprecated, and ant design 4.0 now released! Please follow https://ant.design/components/\".concat(component.toLowerCase()).concat(component === 'Mention' ? 's' : '', \" to upgrade.\"));\n});","import Form from './Form';\nexport default Form;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function lower(tagName) {\n    return tagName && tagName.toLowerCase();\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName || \"\";\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(lower(parentTagName)) ||\n          !config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName))) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(lower(tagName))) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(lower(context.tagName))) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[lower(context.tagName)];\n          if (grabbers && grabbers.hasOwnProperty(lower(tagAfter[2])))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var trackScope = parserConfig.trackScope !== false\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\" && stream.peek() == \"!\") {\n      stream.skipToEnd();\n      return ret(\"meta\", \"meta\");\n    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n      return ret(\"variable\", \"property\")\n    } else if (ch == \"<\" && stream.match(\"!--\") ||\n               (ch == \"-\" && stream.match(\"->\") && !/\\S/.test(stream.string.slice(0, stream.start)))) {\n      stream.skipToEnd()\n      return ret(\"comment\", \"comment\")\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\")\n        } else if (/[<>*+\\-|&?]/.test(ch)) {\n          stream.eat(ch)\n          if (ch == \">\") stream.eat(ch)\n        }\n      }\n      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current()\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word]\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow))\n      if (m) arrow = m.index\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/`]/.test(ch)) {\n        for (;; --pos) {\n          if (pos == 0) return\n          var next = stream.string.charAt(pos - 1)\n          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n        }\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true,\n                     \"regexp\": true, \"this\": true, \"import\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    if (!trackScope) return false\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function inList(name, list) {\n    for (var v = list; v; v = v.next) if (v.name == name) return true\n    return false;\n  }\n  function register(varname) {\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (!trackScope) return\n    if (state.context) {\n      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n        // FIXME function decls are also not block scoped\n        var newContext = registerVarScoped(varname, state.context)\n        if (newContext != null) {\n          state.context = newContext\n          return\n        }\n      } else if (!inList(varname, state.localVars)) {\n        state.localVars = new Var(varname, state.localVars)\n        return\n      }\n    }\n    // Fall through means this is global\n    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n      state.globalVars = new Var(varname, state.globalVars)\n  }\n  function registerVarScoped(varname, context) {\n    if (!context) {\n      return null\n    } else if (context.block) {\n      var inner = registerVarScoped(varname, context.prev)\n      if (!inner) return null\n      if (inner == context.prev) return context\n      return new Context(inner, context.vars, true)\n    } else if (inList(varname, context.vars)) {\n      return context\n    } else {\n      return new Context(context.prev, new Var(varname, context.vars), false)\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block }\n  function Var(name, next) { this.name = name; this.next = next }\n\n  var defaultVars = new Var(\"this\", new Var(\"arguments\", null))\n  function pushcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, false)\n    cx.state.localVars = defaultVars\n  }\n  function pushblockcontext() {\n    cx.state.context = new Context(cx.state.context, cx.state.localVars, true)\n    cx.state.localVars = null\n  }\n  pushcontext.lex = pushblockcontext.lex = true\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars\n    cx.state.context = cx.state.context.prev\n  }\n  popcontext.lex = true\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), pushblockcontext, forspec, statement, popcontext, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) {\n      cx.marked = \"keyword\"\n      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n    }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\"\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\"\n        return cont(pushlex(\"form\"), expression, statement, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\"\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n                                      block, poplex, poplex, popcontext);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function maybeCatchBinding(type) {\n    if (type == \"(\") return cont(funarg, expect(\")\"))\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(maybeexpression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\"\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1)\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(maybeexpression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\"\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function maybetypeOrIn(type, value) {\n    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\"\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\" || value == \"readonly\") {\n      cx.marked = \"keyword\"\n      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\"\n      return cont(afterType)\n    }\n    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n    if (type == \"quasi\") { return pass(quasiType, afterType); }\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprops(type) {\n    if (type.match(/[\\}\\)\\]]/)) return cont()\n    if (type == \",\" || type == \";\") return cont(typeprops)\n    return pass(typeprop, typeprops)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\"\n      return cont(typeprop)\n    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n    } else if (type == \"(\") {\n      return pass(functiondecl, typeprop)\n    } else if (!type.match(/[;\\}\\)\\],]/)) {\n      return cont()\n    }\n  }\n  function quasiType(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasiType);\n    return cont(typeexpr, continueQuasiType);\n  }\n  function continueQuasiType(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasiType);\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    if (type == \"spread\") return cont(typearg)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function eltpattern() {\n    return pass(pattern, maybeAssign)\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, forspec2);\n    if (type == \"variable\") return cont(forspec2);\n    return pass(forspec2)\n  }\n  function forspec2(type, value) {\n    if (type == \")\") return cont()\n    if (type == \";\") return cont(forspec2)\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n    return pass(expression, forspec2)\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function functiondecl(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n    if (type == \"variable\") {register(value); return cont(functiondecl);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n  }\n  function typename(type, value) {\n    if (type == \"keyword\" || type == \"variable\") {\n      cx.marked = \"type\"\n      return cont(typename)\n    } else if (value == \"<\") {\n      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n    }\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg)\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(classfield, classBody);\n    }\n    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n    if (type == \";\" || type == \",\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"!\") return cont(classfield)\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\"\n    return pass(isInterface ? functiondecl : functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    if (type == \".\") return pass(maybeoperatorComma);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && new Context(null, null, false),\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse && c != popcontext) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      parseJS(state, \"atom\", \"atom\", \"true\", new CodeMirror.StringStream(\"\", 2, null))\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/x-json\", { name: \"javascript\", json: true });\nCodeMirror.defineMIME(\"application/manifest+json\", { name: \"javascript\", json: true })\nCodeMirror.defineMIME(\"application/ld+json\", { name: \"javascript\", jsonld: true });\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n","'use strict';\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar PropTypes = require('prop-types');\nvar className = require('classnames');\nvar debounce = require('lodash.debounce');\nvar isEqual = require('lodash.isequal');\nvar createReactClass = require('create-react-class');\n\nfunction normalizeLineEndings(str) {\n\tif (!str) return str;\n\treturn str.replace(/\\r\\n|\\r/g, '\\n');\n}\n\nvar CodeMirror = createReactClass({\n\tpropTypes: {\n\t\tautoFocus: PropTypes.bool,\n\t\tclassName: PropTypes.any,\n\t\tcodeMirrorInstance: PropTypes.func,\n\t\tdefaultValue: PropTypes.string,\n\t\tname: PropTypes.string,\n\t\tonChange: PropTypes.func,\n\t\tonCursorActivity: PropTypes.func,\n\t\tonFocusChange: PropTypes.func,\n\t\tonScroll: PropTypes.func,\n\t\toptions: PropTypes.object,\n\t\tpath: PropTypes.string,\n\t\tvalue: PropTypes.string,\n\t\tpreserveScrollPosition: PropTypes.bool\n\t},\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\tpreserveScrollPosition: false\n\t\t};\n\t},\n\tgetCodeMirrorInstance: function getCodeMirrorInstance() {\n\t\treturn this.props.codeMirrorInstance || require('codemirror');\n\t},\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tisFocused: false\n\t\t};\n\t},\n\tcomponentWillMount: function componentWillMount() {\n\t\tthis.componentWillReceiveProps = debounce(this.componentWillReceiveProps, 0);\n\t\tif (this.props.path) {\n\t\t\tconsole.error('Warning: react-codemirror: the `path` prop has been changed to `name`');\n\t\t}\n\t},\n\tcomponentDidMount: function componentDidMount() {\n\t\tvar codeMirrorInstance = this.getCodeMirrorInstance();\n\t\tthis.codeMirror = codeMirrorInstance.fromTextArea(this.textareaNode, this.props.options);\n\t\tthis.codeMirror.on('change', this.codemirrorValueChanged);\n\t\tthis.codeMirror.on('cursorActivity', this.cursorActivity);\n\t\tthis.codeMirror.on('focus', this.focusChanged.bind(this, true));\n\t\tthis.codeMirror.on('blur', this.focusChanged.bind(this, false));\n\t\tthis.codeMirror.on('scroll', this.scrollChanged);\n\t\tthis.codeMirror.setValue(this.props.defaultValue || this.props.value || '');\n\t},\n\tcomponentWillUnmount: function componentWillUnmount() {\n\t\t// is there a lighter-weight way to remove the cm instance?\n\t\tif (this.codeMirror) {\n\t\t\tthis.codeMirror.toTextArea();\n\t\t}\n\t},\n\tcomponentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n\t\tif (this.codeMirror && nextProps.value !== undefined && nextProps.value !== this.props.value && normalizeLineEndings(this.codeMirror.getValue()) !== normalizeLineEndings(nextProps.value)) {\n\t\t\tif (this.props.preserveScrollPosition) {\n\t\t\t\tvar prevScrollPosition = this.codeMirror.getScrollInfo();\n\t\t\t\tthis.codeMirror.setValue(nextProps.value);\n\t\t\t\tthis.codeMirror.scrollTo(prevScrollPosition.left, prevScrollPosition.top);\n\t\t\t} else {\n\t\t\t\tthis.codeMirror.setValue(nextProps.value);\n\t\t\t}\n\t\t}\n\t\tif (typeof nextProps.options === 'object') {\n\t\t\tfor (var optionName in nextProps.options) {\n\t\t\t\tif (nextProps.options.hasOwnProperty(optionName)) {\n\t\t\t\t\tthis.setOptionIfChanged(optionName, nextProps.options[optionName]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tsetOptionIfChanged: function setOptionIfChanged(optionName, newValue) {\n\t\tvar oldValue = this.codeMirror.getOption(optionName);\n\t\tif (!isEqual(oldValue, newValue)) {\n\t\t\tthis.codeMirror.setOption(optionName, newValue);\n\t\t}\n\t},\n\tgetCodeMirror: function getCodeMirror() {\n\t\treturn this.codeMirror;\n\t},\n\tfocus: function focus() {\n\t\tif (this.codeMirror) {\n\t\t\tthis.codeMirror.focus();\n\t\t}\n\t},\n\tfocusChanged: function focusChanged(focused) {\n\t\tthis.setState({\n\t\t\tisFocused: focused\n\t\t});\n\t\tthis.props.onFocusChange && this.props.onFocusChange(focused);\n\t},\n\tcursorActivity: function cursorActivity(cm) {\n\t\tthis.props.onCursorActivity && this.props.onCursorActivity(cm);\n\t},\n\tscrollChanged: function scrollChanged(cm) {\n\t\tthis.props.onScroll && this.props.onScroll(cm.getScrollInfo());\n\t},\n\tcodemirrorValueChanged: function codemirrorValueChanged(doc, change) {\n\t\tif (this.props.onChange && change.origin !== 'setValue') {\n\t\t\tthis.props.onChange(doc.getValue(), change);\n\t\t}\n\t},\n\trender: function render() {\n\t\tvar _this = this;\n\n\t\tvar editorClassName = className('ReactCodeMirror', this.state.isFocused ? 'ReactCodeMirror--focused' : null, this.props.className);\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ className: editorClassName },\n\t\t\tReact.createElement('textarea', {\n\t\t\t\tref: function (ref) {\n\t\t\t\t\treturn _this.textareaNode = ref;\n\t\t\t\t},\n\t\t\t\tname: this.props.name || this.props.path,\n\t\t\t\tdefaultValue: this.props.value,\n\t\t\t\tautoComplete: 'off',\n\t\t\t\tautoFocus: this.props.autoFocus\n\t\t\t})\n\t\t);\n\t}\n});\n\nmodule.exports = CodeMirror;","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../meta\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../meta\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"markdown\", function(cmCfg, modeCfg) {\n\n  var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n  var htmlModeMissing = htmlMode.name == \"null\"\n\n  function getMode(name) {\n    if (CodeMirror.findModeByName) {\n      var found = CodeMirror.findModeByName(name);\n      if (found) name = found.mime || found.mimes[0];\n    }\n    var mode = CodeMirror.getMode(cmCfg, name);\n    return mode.name == \"null\" ? null : mode;\n  }\n\n  // Should characters that affect highlighting be highlighted separate?\n  // Does not include characters that will be output (such as `1.` and `-` for lists)\n  if (modeCfg.highlightFormatting === undefined)\n    modeCfg.highlightFormatting = false;\n\n  // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n  // Excess `>` will emit `error` token.\n  if (modeCfg.maxBlockquoteDepth === undefined)\n    modeCfg.maxBlockquoteDepth = 0;\n\n  // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n  if (modeCfg.taskLists === undefined) modeCfg.taskLists = false;\n\n  // Turn on strikethrough syntax\n  if (modeCfg.strikethrough === undefined)\n    modeCfg.strikethrough = false;\n\n  if (modeCfg.emoji === undefined)\n    modeCfg.emoji = false;\n\n  if (modeCfg.fencedCodeBlockHighlighting === undefined)\n    modeCfg.fencedCodeBlockHighlighting = true;\n\n  if (modeCfg.fencedCodeBlockDefaultMode === undefined)\n    modeCfg.fencedCodeBlockDefaultMode = 'text/plain';\n\n  if (modeCfg.xml === undefined)\n    modeCfg.xml = true;\n\n  // Allow token types to be overridden by user-provided token types.\n  if (modeCfg.tokenTypeOverrides === undefined)\n    modeCfg.tokenTypeOverrides = {};\n\n  var tokenTypes = {\n    header: \"header\",\n    code: \"comment\",\n    quote: \"quote\",\n    list1: \"variable-2\",\n    list2: \"variable-3\",\n    list3: \"keyword\",\n    hr: \"hr\",\n    image: \"image\",\n    imageAltText: \"image-alt-text\",\n    imageMarker: \"image-marker\",\n    formatting: \"formatting\",\n    linkInline: \"link\",\n    linkEmail: \"link\",\n    linkText: \"link\",\n    linkHref: \"string\",\n    em: \"em\",\n    strong: \"strong\",\n    strikethrough: \"strikethrough\",\n    emoji: \"builtin\"\n  };\n\n  for (var tokenType in tokenTypes) {\n    if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n      tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n    }\n  }\n\n  var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/\n  ,   listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/\n  ,   taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n  ,   atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/\n  ,   setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/\n  ,   textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/\n  ,   fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w\\/+#-]*)[^\\n`]*$/\n  ,   linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n  ,   punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/\n  ,   expandedTab = \"    \" // CommonMark specifies tab as 4 spaces\n\n  function switchInline(stream, state, f) {\n    state.f = state.inline = f;\n    return f(stream, state);\n  }\n\n  function switchBlock(stream, state, f) {\n    state.f = state.block = f;\n    return f(stream, state);\n  }\n\n  function lineIsEmpty(line) {\n    return !line || !/\\S/.test(line.string)\n  }\n\n  // Blocks\n\n  function blankLine(state) {\n    // Reset linkTitle state\n    state.linkTitle = false;\n    state.linkHref = false;\n    state.linkText = false;\n    // Reset EM state\n    state.em = false;\n    // Reset STRONG state\n    state.strong = false;\n    // Reset strikethrough state\n    state.strikethrough = false;\n    // Reset state.quote\n    state.quote = 0;\n    // Reset state.indentedCode\n    state.indentedCode = false;\n    if (state.f == htmlBlock) {\n      var exit = htmlModeMissing\n      if (!exit) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n        exit = inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n          (!inner.state.context && inner.state.tokenize.isInText)\n      }\n      if (exit) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    // Reset state.trailingSpace\n    state.trailingSpace = 0;\n    state.trailingSpaceNewLine = false;\n    // Mark this line as blank\n    state.prevLine = state.thisLine\n    state.thisLine = {stream: null}\n    return null;\n  }\n\n  function blockNormal(stream, state) {\n    var firstTokenOnLine = stream.column() === state.indentation;\n    var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n    var prevLineIsIndentedCode = state.indentedCode;\n    var prevLineIsHr = state.prevLine.hr;\n    var prevLineIsList = state.list !== false;\n    var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n\n    state.indentedCode = false;\n\n    var lineIndentation = state.indentation;\n    // compute once per line (on first token)\n    if (state.indentationDiff === null) {\n      state.indentationDiff = state.indentation;\n      if (prevLineIsList) {\n        state.list = null;\n        // While this list item's marker's indentation is less than the deepest\n        //  list item's content's indentation,pop the deepest list item\n        //  indentation off the stack, and update block indentation state\n        while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n          state.listStack.pop();\n          if (state.listStack.length) {\n            state.indentation = state.listStack[state.listStack.length - 1];\n          // less than the first list's indent -> the line is no longer a list\n          } else {\n            state.list = false;\n          }\n        }\n        if (state.list !== false) {\n          state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1]\n        }\n      }\n    }\n\n    // not comprehensive (currently only for setext detection purposes)\n    var allowsInlineContinuation = (\n        !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header &&\n        (!prevLineIsList || !prevLineIsIndentedCode) &&\n        !state.prevLine.fencedCodeEnd\n    );\n\n    var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) &&\n      state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n\n    var match = null;\n    if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd ||\n         state.prevLine.header || prevLineLineIsEmpty)) {\n      stream.skipToEnd();\n      state.indentedCode = true;\n      return tokenTypes.code;\n    } else if (stream.eatSpace()) {\n      return null;\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n      state.quote = 0;\n      state.header = match[1].length;\n      state.thisLine.header = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      state.f = state.inline;\n      return getType(state);\n    } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n      state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n      if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n      stream.eatSpace();\n      return getType(state);\n    } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n      var listType = match[1] ? \"ol\" : \"ul\";\n\n      state.indentation = lineIndentation + stream.current().length;\n      state.list = true;\n      state.quote = 0;\n\n      // Add this list item's content's indentation to the stack\n      state.listStack.push(state.indentation);\n      // Reset inline styles which shouldn't propagate across list items\n      state.em = false;\n      state.strong = false;\n      state.code = false;\n      state.strikethrough = false;\n\n      if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n        state.taskList = true;\n      }\n      state.f = state.inline;\n      if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n      return getType(state);\n    } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n      state.quote = 0;\n      state.fencedEndRE = new RegExp(match[1] + \"+ *$\");\n      // try switching mode\n      state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode );\n      if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n      state.f = state.block = local;\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      state.code = -1\n      return getType(state);\n    // SETEXT has lowest block-scope precedence after HR, so check it after\n    //  the others (code, blockquote, list...)\n    } else if (\n      // if setext set, indicates line after ---/===\n      state.setext || (\n        // line before ---/===\n        (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false &&\n        !state.code && !isHr && !linkDefRE.test(stream.string) &&\n        (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))\n      )\n    ) {\n      if ( !state.setext ) {\n        state.header = match[0].charAt(0) == '=' ? 1 : 2;\n        state.setext = state.header;\n      } else {\n        state.header = state.setext;\n        // has no effect on type so we can reset it now\n        state.setext = 0;\n        stream.skipToEnd();\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      }\n      state.thisLine.header = true;\n      state.f = state.inline;\n      return getType(state);\n    } else if (isHr) {\n      stream.skipToEnd();\n      state.hr = true;\n      state.thisLine.hr = true;\n      return tokenTypes.hr;\n    } else if (stream.peek() === '[') {\n      return switchInline(stream, state, footnoteLink);\n    }\n\n    return switchInline(stream, state, state.inline);\n  }\n\n  function htmlBlock(stream, state) {\n    var style = htmlMode.token(stream, state.htmlState);\n    if (!htmlModeMissing) {\n      var inner = CodeMirror.innerMode(htmlMode, state.htmlState)\n      if ((inner.mode.name == \"xml\" && inner.state.tagStart === null &&\n           (!inner.state.context && inner.state.tokenize.isInText)) ||\n          (state.md_inside && stream.current().indexOf(\">\") > -1)) {\n        state.f = inlineNormal;\n        state.block = blockNormal;\n        state.htmlState = null;\n      }\n    }\n    return style;\n  }\n\n  function local(stream, state) {\n    var currListInd = state.listStack[state.listStack.length - 1] || 0;\n    var hasExitedList = state.indentation < currListInd;\n    var maxFencedEndInd = currListInd + 3;\n    if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n      if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n      var returnType;\n      if (!hasExitedList) returnType = getType(state)\n      state.localMode = state.localState = null;\n      state.block = blockNormal;\n      state.f = inlineNormal;\n      state.fencedEndRE = null;\n      state.code = 0\n      state.thisLine.fencedCodeEnd = true;\n      if (hasExitedList) return switchBlock(stream, state, state.block);\n      return returnType;\n    } else if (state.localMode) {\n      return state.localMode.token(stream, state.localState);\n    } else {\n      stream.skipToEnd();\n      return tokenTypes.code;\n    }\n  }\n\n  // Inline\n  function getType(state) {\n    var styles = [];\n\n    if (state.formatting) {\n      styles.push(tokenTypes.formatting);\n\n      if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n      for (var i = 0; i < state.formatting.length; i++) {\n        styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n        if (state.formatting[i] === \"header\") {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n        }\n\n        // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n        // Add `error` instead if the maximum blockquote nesting depth is passed\n        if (state.formatting[i] === \"quote\") {\n          if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n          } else {\n            styles.push(\"error\");\n          }\n        }\n      }\n    }\n\n    if (state.taskOpen) {\n      styles.push(\"meta\");\n      return styles.length ? styles.join(' ') : null;\n    }\n    if (state.taskClosed) {\n      styles.push(\"property\");\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    if (state.linkHref) {\n      styles.push(tokenTypes.linkHref, \"url\");\n    } else { // Only apply inline styles to non-url text\n      if (state.strong) { styles.push(tokenTypes.strong); }\n      if (state.em) { styles.push(tokenTypes.em); }\n      if (state.strikethrough) { styles.push(tokenTypes.strikethrough); }\n      if (state.emoji) { styles.push(tokenTypes.emoji); }\n      if (state.linkText) { styles.push(tokenTypes.linkText); }\n      if (state.code) { styles.push(tokenTypes.code); }\n      if (state.image) { styles.push(tokenTypes.image); }\n      if (state.imageAltText) { styles.push(tokenTypes.imageAltText, \"link\"); }\n      if (state.imageMarker) { styles.push(tokenTypes.imageMarker); }\n    }\n\n    if (state.header) { styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header); }\n\n    if (state.quote) {\n      styles.push(tokenTypes.quote);\n\n      // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n      if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n        styles.push(tokenTypes.quote + \"-\" + state.quote);\n      } else {\n        styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n      }\n    }\n\n    if (state.list !== false) {\n      var listMod = (state.listStack.length - 1) % 3;\n      if (!listMod) {\n        styles.push(tokenTypes.list1);\n      } else if (listMod === 1) {\n        styles.push(tokenTypes.list2);\n      } else {\n        styles.push(tokenTypes.list3);\n      }\n    }\n\n    if (state.trailingSpaceNewLine) {\n      styles.push(\"trailing-space-new-line\");\n    } else if (state.trailingSpace) {\n      styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n    }\n\n    return styles.length ? styles.join(' ') : null;\n  }\n\n  function handleText(stream, state) {\n    if (stream.match(textRE, true)) {\n      return getType(state);\n    }\n    return undefined;\n  }\n\n  function inlineNormal(stream, state) {\n    var style = state.text(stream, state);\n    if (typeof style !== 'undefined')\n      return style;\n\n    if (state.list) { // List marker (*, +, -, 1., etc)\n      state.list = null;\n      return getType(state);\n    }\n\n    if (state.taskList) {\n      var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n      if (taskOpen) state.taskOpen = true;\n      else state.taskClosed = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"task\";\n      state.taskList = false;\n      return getType(state);\n    }\n\n    state.taskOpen = false;\n    state.taskClosed = false;\n\n    if (state.header && stream.match(/^#+$/, true)) {\n      if (modeCfg.highlightFormatting) state.formatting = \"header\";\n      return getType(state);\n    }\n\n    var ch = stream.next();\n\n    // Matches link titles present on next line\n    if (state.linkTitle) {\n      state.linkTitle = false;\n      var matchCh = ch;\n      if (ch === '(') {\n        matchCh = ')';\n      }\n      matchCh = (matchCh+'').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n      var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n      if (stream.match(new RegExp(regex), true)) {\n        return tokenTypes.linkHref;\n      }\n    }\n\n    // If this block is changed, it may need to be updated in GFM mode\n    if (ch === '`') {\n      var previousFormatting = state.formatting;\n      if (modeCfg.highlightFormatting) state.formatting = \"code\";\n      stream.eatWhile('`');\n      var count = stream.current().length\n      if (state.code == 0 && (!state.quote || count == 1)) {\n        state.code = count\n        return getType(state)\n      } else if (count == state.code) { // Must be exact\n        var t = getType(state)\n        state.code = 0\n        return t\n      } else {\n        state.formatting = previousFormatting\n        return getType(state)\n      }\n    } else if (state.code) {\n      return getType(state);\n    }\n\n    if (ch === '\\\\') {\n      stream.next();\n      if (modeCfg.highlightFormatting) {\n        var type = getType(state);\n        var formattingEscape = tokenTypes.formatting + \"-escape\";\n        return type ? type + \" \" + formattingEscape : formattingEscape;\n      }\n    }\n\n    if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n      state.imageMarker = true;\n      state.image = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n      state.imageMarker = false;\n      state.imageAltText = true\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.imageAltText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"image\";\n      var type = getType(state);\n      state.imageAltText = false;\n      state.image = false;\n      state.inline = state.f = linkHref;\n      return type;\n    }\n\n    if (ch === '[' && !state.image) {\n      if (state.linkText && stream.match(/^.*?\\]/)) return getType(state)\n      state.linkText = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      return getType(state);\n    }\n\n    if (ch === ']' && state.linkText) {\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      state.linkText = false;\n      state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal\n      return type;\n    }\n\n    if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n      state.f = state.inline = linkInline;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkEmail;\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n      var end = stream.string.indexOf(\">\", stream.pos);\n      if (end != -1) {\n        var atts = stream.string.substring(stream.start, end);\n        if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n      }\n      stream.backUp(1);\n      state.htmlState = CodeMirror.startState(htmlMode);\n      return switchBlock(stream, state, htmlBlock);\n    }\n\n    if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n      state.md_inside = false;\n      return \"tag\";\n    } else if (ch === \"*\" || ch === \"_\") {\n      var len = 1, before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2)\n      while (len < 3 && stream.eat(ch)) len++\n      var after = stream.peek() || \" \"\n      // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n      var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before))\n      var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after))\n      var setEm = null, setStrong = null\n      if (len % 2) { // Em\n        if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setEm = true\n        else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setEm = false\n      }\n      if (len > 1) { // Strong\n        if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before)))\n          setStrong = true\n        else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after)))\n          setStrong = false\n      }\n      if (setStrong != null || setEm != null) {\n        if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\"\n        if (setEm === true) state.em = ch\n        if (setStrong === true) state.strong = ch\n        var t = getType(state)\n        if (setEm === false) state.em = false\n        if (setStrong === false) state.strong = false\n        return t\n      }\n    } else if (ch === ' ') {\n      if (stream.eat('*') || stream.eat('_')) { // Probably surrounded by spaces\n        if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n          return getType(state);\n        } else { // Not surrounded by spaces, back up pointer\n          stream.backUp(1);\n        }\n      }\n    }\n\n    if (modeCfg.strikethrough) {\n      if (ch === '~' && stream.eatWhile(ch)) {\n        if (state.strikethrough) {// Remove strikethrough\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          var t = getType(state);\n          state.strikethrough = false;\n          return t;\n        } else if (stream.match(/^[^\\s]/, false)) {// Add strikethrough\n          state.strikethrough = true;\n          if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n          return getType(state);\n        }\n      } else if (ch === ' ') {\n        if (stream.match('~~', true)) { // Probably surrounded by space\n          if (stream.peek() === ' ') { // Surrounded by spaces, ignore\n            return getType(state);\n          } else { // Not surrounded by spaces, back up pointer\n            stream.backUp(2);\n          }\n        }\n      }\n    }\n\n    if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n      state.emoji = true;\n      if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n      var retType = getType(state);\n      state.emoji = false;\n      return retType;\n    }\n\n    if (ch === ' ') {\n      if (stream.match(/^ +$/, false)) {\n        state.trailingSpace++;\n      } else if (state.trailingSpace) {\n        state.trailingSpaceNewLine = true;\n      }\n    }\n\n    return getType(state);\n  }\n\n  function linkInline(stream, state) {\n    var ch = stream.next();\n\n    if (ch === \">\") {\n      state.f = state.inline = inlineNormal;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var type = getType(state);\n      if (type){\n        type += \" \";\n      } else {\n        type = \"\";\n      }\n      return type + tokenTypes.linkInline;\n    }\n\n    stream.match(/^[^>]+/, true);\n\n    return tokenTypes.linkInline;\n  }\n\n  function linkHref(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    var ch = stream.next();\n    if (ch === '(' || ch === '[') {\n      state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n      if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n      state.linkHref = true;\n      return getType(state);\n    }\n    return 'error';\n  }\n\n  var linkRE = {\n    \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n    \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n  }\n\n  function getLinkHrefInside(endChar) {\n    return function(stream, state) {\n      var ch = stream.next();\n\n      if (ch === endChar) {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        var returnState = getType(state);\n        state.linkHref = false;\n        return returnState;\n      }\n\n      stream.match(linkRE[endChar])\n      state.linkHref = true;\n      return getType(state);\n    };\n  }\n\n  function footnoteLink(stream, state) {\n    if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n      state.f = footnoteLinkInside;\n      stream.next(); // Consume [\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      state.linkText = true;\n      return getType(state);\n    }\n    return switchInline(stream, state, inlineNormal);\n  }\n\n  function footnoteLinkInside(stream, state) {\n    if (stream.match(']:', true)) {\n      state.f = state.inline = footnoteUrl;\n      if (modeCfg.highlightFormatting) state.formatting = \"link\";\n      var returnType = getType(state);\n      state.linkText = false;\n      return returnType;\n    }\n\n    stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n\n    return tokenTypes.linkText;\n  }\n\n  function footnoteUrl(stream, state) {\n    // Check if space, and return NULL if so (to avoid marking the space)\n    if(stream.eatSpace()){\n      return null;\n    }\n    // Match URL\n    stream.match(/^[^\\s]+/, true);\n    // Check for link title\n    if (stream.peek() === undefined) { // End of line, set flag to check next line\n      state.linkTitle = true;\n    } else { // More content on line, check if link title\n      stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\.)+\"|'(?:[^'\\\\]|\\\\.)+'|\\((?:[^)\\\\]|\\\\.)+\\)))?/, true);\n    }\n    state.f = state.inline = inlineNormal;\n    return tokenTypes.linkHref + \" url\";\n  }\n\n  var mode = {\n    startState: function() {\n      return {\n        f: blockNormal,\n\n        prevLine: {stream: null},\n        thisLine: {stream: null},\n\n        block: blockNormal,\n        htmlState: null,\n        indentation: 0,\n\n        inline: inlineNormal,\n        text: handleText,\n\n        formatting: false,\n        linkText: false,\n        linkHref: false,\n        linkTitle: false,\n        code: 0,\n        em: false,\n        strong: false,\n        header: 0,\n        setext: 0,\n        hr: false,\n        taskList: false,\n        list: false,\n        listStack: [],\n        quote: 0,\n        trailingSpace: 0,\n        trailingSpaceNewLine: false,\n        strikethrough: false,\n        emoji: false,\n        fencedEndRE: null\n      };\n    },\n\n    copyState: function(s) {\n      return {\n        f: s.f,\n\n        prevLine: s.prevLine,\n        thisLine: s.thisLine,\n\n        block: s.block,\n        htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n        indentation: s.indentation,\n\n        localMode: s.localMode,\n        localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n\n        inline: s.inline,\n        text: s.text,\n        formatting: false,\n        linkText: s.linkText,\n        linkTitle: s.linkTitle,\n        linkHref: s.linkHref,\n        code: s.code,\n        em: s.em,\n        strong: s.strong,\n        strikethrough: s.strikethrough,\n        emoji: s.emoji,\n        header: s.header,\n        setext: s.setext,\n        hr: s.hr,\n        taskList: s.taskList,\n        list: s.list,\n        listStack: s.listStack.slice(0),\n        quote: s.quote,\n        indentedCode: s.indentedCode,\n        trailingSpace: s.trailingSpace,\n        trailingSpaceNewLine: s.trailingSpaceNewLine,\n        md_inside: s.md_inside,\n        fencedEndRE: s.fencedEndRE\n      };\n    },\n\n    token: function(stream, state) {\n\n      // Reset state.formatting\n      state.formatting = false;\n\n      if (stream != state.thisLine.stream) {\n        state.header = 0;\n        state.hr = false;\n\n        if (stream.match(/^\\s*$/, true)) {\n          blankLine(state);\n          return null;\n        }\n\n        state.prevLine = state.thisLine\n        state.thisLine = {stream: stream}\n\n        // Reset state.taskList\n        state.taskList = false;\n\n        // Reset state.trailingSpace\n        state.trailingSpace = 0;\n        state.trailingSpaceNewLine = false;\n\n        if (!state.localState) {\n          state.f = state.block;\n          if (state.f != htmlBlock) {\n            var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n            state.indentation = indentation;\n            state.indentationDiff = null;\n            if (indentation > 0) return null;\n          }\n        }\n      }\n      return state.f(stream, state);\n    },\n\n    innerMode: function(state) {\n      if (state.block == htmlBlock) return {state: state.htmlState, mode: htmlMode};\n      if (state.localState) return {state: state.localState, mode: state.localMode};\n      return {state: state, mode: mode};\n    },\n\n    indent: function(state, textAfter, line) {\n      if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line)\n      if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line)\n      return CodeMirror.Pass\n    },\n\n    blankLine: blankLine,\n\n    getType: getType,\n\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n    fold: \"markdown\"\n  };\n  return mode;\n}, \"xml\");\n\nCodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n\nCodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"asc\", \"pgp\", \"sig\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\", \"ino\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\", \"cbl\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\", \"cs\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists\\.txt$/},\n    {name: \"CoffeeScript\", mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"], mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded JavaScript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Esper\", mime: \"text/x-esper\", mode: \"sql\"},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history)\\.md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"], file: /^Jenkinsfile$/},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Pug\", mime: \"text/x-pug\", mode: \"pug\", ext: [\"jade\", \"pug\"], alias: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"text/jinja2\", mode: \"jinja2\", ext: [\"j2\", \"jinja\", \"jinja2\"]},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"], alias: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\", \"wl\", \"wls\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n     mode: \"ntriples\", ext: [\"nt\", \"nq\"]},\n    {name: \"Objective-C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"Objective-C++\", mime: \"text/x-objectivec++\", mode: \"clike\", ext: [\"mm\"], alias: [\"objective-c++\", \"objc++\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"], mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PostgreSQL\", mime: \"text/x-pgsql\", mode: \"sql\"},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\", \"R\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mimes: [\"text/x-sh\", \"application/x-sh\"], mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"SML\", mime: \"text/x-sml\", mode: \"mllike\", ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"SQLite\", mime: \"text/x-sqlite\", mode: \"sql\"},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Stylus\", mime: \"text/x-styl\", mode: \"stylus\", ext: [\"styl\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\", \"tex\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\", \"sv\", \"svh\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki\", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"TypeScript-JSX\", mime: \"text/typescript-jsx\", mode: \"jsx\", ext: [\"tsx\"], alias: [\"tsx\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"Vue.js Component\", mimes: [\"script/x-vue\", \"text/x-vue\"], mode: \"vue\", ext: [\"vue\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mimes: [\"text/x-yaml\", \"text/yaml\"], mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]},\n    {name: \"WebAssembly\", mime: \"text/webassembly\", mode: \"wast\", ext: [\"wat\", \"wast\"]},\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\")\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\")\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    ext = ext.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../htmlmixed/htmlmixed\"), require(\"../clike/clike\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../htmlmixed/htmlmixed\", \"../clike/clike\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function keywords(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  // Helper for phpString\n  function matchSequence(list, end, escapes) {\n    if (list.length == 0) return phpString(end);\n    return function (stream, state) {\n      var patterns = list[0];\n      for (var i = 0; i < patterns.length; i++) if (stream.match(patterns[i][0])) {\n        state.tokenize = matchSequence(list.slice(1), end);\n        return patterns[i][1];\n      }\n      state.tokenize = phpString(end, escapes);\n      return \"string\";\n    };\n  }\n  function phpString(closing, escapes) {\n    return function(stream, state) { return phpString_(stream, state, closing, escapes); };\n  }\n  function phpString_(stream, state, closing, escapes) {\n    // \"Complex\" syntax\n    if (escapes !== false && stream.match(\"${\", false) || stream.match(\"{$\", false)) {\n      state.tokenize = null;\n      return \"string\";\n    }\n\n    // Simple syntax\n    if (escapes !== false && stream.match(/^\\$[a-zA-Z_][a-zA-Z0-9_]*/)) {\n      // After the variable name there may appear array or object operator.\n      if (stream.match(\"[\", false)) {\n        // Match array operator\n        state.tokenize = matchSequence([\n          [[\"[\", null]],\n          [[/\\d[\\w\\.]*/, \"number\"],\n           [/\\$[a-zA-Z_][a-zA-Z0-9_]*/, \"variable-2\"],\n           [/[\\w\\$]+/, \"variable\"]],\n          [[\"]\", null]]\n        ], closing, escapes);\n      }\n      if (stream.match(/^->\\w/, false)) {\n        // Match object operator\n        state.tokenize = matchSequence([\n          [[\"->\", null]],\n          [[/[\\w]+/, \"variable\"]]\n        ], closing, escapes);\n      }\n      return \"variable-2\";\n    }\n\n    var escaped = false;\n    // Normal string\n    while (!stream.eol() &&\n           (escaped || escapes === false ||\n            (!stream.match(\"{$\", false) &&\n             !stream.match(/^(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\$\\{)/, false)))) {\n      if (!escaped && stream.match(closing)) {\n        state.tokenize = null;\n        state.tokStack.pop(); state.tokStack.pop();\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  var phpKeywords = \"abstract and array as break case catch class clone const continue declare default \" +\n    \"do else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final \" +\n    \"for foreach function global goto if implements interface instanceof namespace \" +\n    \"new or private protected public static switch throw trait try use var while xor \" +\n    \"die echo empty exit eval include include_once isset list require require_once return \" +\n    \"print unset __halt_compiler self static parent yield insteadof finally readonly match\";\n  var phpAtoms = \"true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__\";\n  var phpBuiltin = \"func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage memory_get_peak_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count\";\n  CodeMirror.registerHelper(\"hintWords\", \"php\", [phpKeywords, phpAtoms, phpBuiltin].join(\" \").split(\" \"));\n  CodeMirror.registerHelper(\"wordChars\", \"php\", /[\\w$]/);\n\n  var phpConfig = {\n    name: \"clike\",\n    helperType: \"php\",\n    keywords: keywords(phpKeywords),\n    blockKeywords: keywords(\"catch do else elseif for foreach if switch try while finally\"),\n    defKeywords: keywords(\"class enum function interface namespace trait\"),\n    atoms: keywords(phpAtoms),\n    builtin: keywords(phpBuiltin),\n    multiLineStrings: true,\n    hooks: {\n      \"$\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"variable-2\";\n      },\n      \"<\": function(stream, state) {\n        var before;\n        if (before = stream.match(/^<<\\s*/)) {\n          var quoted = stream.eat(/['\"]/);\n          stream.eatWhile(/[\\w\\.]/);\n          var delim = stream.current().slice(before[0].length + (quoted ? 2 : 1));\n          if (quoted) stream.eat(quoted);\n          if (delim) {\n            (state.tokStack || (state.tokStack = [])).push(delim, 0);\n            state.tokenize = phpString(delim, quoted != \"'\");\n            return \"string\";\n          }\n        }\n        return false;\n      },\n      \"#\": function(stream) {\n        while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n        return \"comment\";\n      },\n      \"/\": function(stream) {\n        if (stream.eat(\"/\")) {\n          while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n          return \"comment\";\n        }\n        return false;\n      },\n      '\"': function(_stream, state) {\n        (state.tokStack || (state.tokStack = [])).push('\"', 0);\n        state.tokenize = phpString('\"');\n        return \"string\";\n      },\n      \"{\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length)\n          state.tokStack[state.tokStack.length - 1]++;\n        return false;\n      },\n      \"}\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length > 0 &&\n            !--state.tokStack[state.tokStack.length - 1]) {\n          state.tokenize = phpString(state.tokStack[state.tokStack.length - 2]);\n        }\n        return false;\n      }\n    }\n  };\n\n  CodeMirror.defineMode(\"php\", function(config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, (parserConfig && parserConfig.htmlMode) || \"text/html\");\n    var phpMode = CodeMirror.getMode(config, phpConfig);\n\n    function dispatch(stream, state) {\n      var isPHP = state.curMode == phpMode;\n      if (stream.sol() && state.pending && state.pending != '\"' && state.pending != \"'\") state.pending = null;\n      if (!isPHP) {\n        if (stream.match(/^<\\?\\w*/)) {\n          state.curMode = phpMode;\n          if (!state.php) state.php = CodeMirror.startState(phpMode, htmlMode.indent(state.html, \"\", \"\"))\n          state.curState = state.php;\n          return \"meta\";\n        }\n        if (state.pending == '\"' || state.pending == \"'\") {\n          while (!stream.eol() && stream.next() != state.pending) {}\n          var style = \"string\";\n        } else if (state.pending && stream.pos < state.pending.end) {\n          stream.pos = state.pending.end;\n          var style = state.pending.style;\n        } else {\n          var style = htmlMode.token(stream, state.curState);\n        }\n        if (state.pending) state.pending = null;\n        var cur = stream.current(), openPHP = cur.search(/<\\?/), m;\n        if (openPHP != -1) {\n          if (style == \"string\" && (m = cur.match(/[\\'\\\"]$/)) && !/\\?>/.test(cur)) state.pending = m[0];\n          else state.pending = {end: stream.pos, style: style};\n          stream.backUp(cur.length - openPHP);\n        }\n        return style;\n      } else if (isPHP && state.php.tokenize == null && stream.match(\"?>\")) {\n        state.curMode = htmlMode;\n        state.curState = state.html;\n        if (!state.php.context.prev) state.php = null;\n        return \"meta\";\n      } else {\n        return phpMode.token(stream, state.curState);\n      }\n    }\n\n    return {\n      startState: function() {\n        var html = CodeMirror.startState(htmlMode)\n        var php = parserConfig.startOpen ? CodeMirror.startState(phpMode) : null\n        return {html: html,\n                php: php,\n                curMode: parserConfig.startOpen ? phpMode : htmlMode,\n                curState: parserConfig.startOpen ? php : html,\n                pending: null};\n      },\n\n      copyState: function(state) {\n        var html = state.html, htmlNew = CodeMirror.copyState(htmlMode, html),\n            php = state.php, phpNew = php && CodeMirror.copyState(phpMode, php), cur;\n        if (state.curMode == htmlMode) cur = htmlNew;\n        else cur = phpNew;\n        return {html: htmlNew, php: phpNew, curMode: state.curMode, curState: cur,\n                pending: state.pending};\n      },\n\n      token: dispatch,\n\n      indent: function(state, textAfter, line) {\n        if ((state.curMode != phpMode && /^\\s*<\\//.test(textAfter)) ||\n            (state.curMode == phpMode && /^\\?>/.test(textAfter)))\n          return htmlMode.indent(state.html, textAfter, line);\n        return state.curMode.indent(state.curState, textAfter, line);\n      },\n\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      lineComment: \"//\",\n\n      innerMode: function(state) { return {state: state.curState, mode: state.curMode}; }\n    };\n  }, \"htmlmixed\", \"clike\");\n\n  CodeMirror.defineMIME(\"application/x-httpd-php\", \"php\");\n  CodeMirror.defineMIME(\"application/x-httpd-php-open\", {name: \"php\", startOpen: true});\n  CodeMirror.defineMIME(\"text/x-php\", phpConfig);\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../javascript/javascript\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../javascript/javascript\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, \"javascript\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", /^css$/i, \"css\"],\n      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(/<\\/?$/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? /^\\s*(.*?)\\s*$/.exec(match[2])[1] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\\\s*\" + tagName + \"\\\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag,\n      allowMissingTagName: parserConfig.allowMissingTagName,\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName\n      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && />$/.test(stream.current())) {\n        var inTag = /^([\\S]+) (.*)/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\", \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter, line) {\n        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter, line);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter, line);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      lineComment = parserConfig.lineComment,\n      supportsAtComponent = parserConfig.supportsAtComponent === true,\n      highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]*/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if (stream.match(/^[\\w-.]+(?=\\()/)) {\n      if (/^(url(-prefix)?|domain|regexp)$/i.test(stream.current())) {\n        state.tokenize = tokenParenthesized;\n      }\n      return ret(\"variable callee\", \"variable\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/^\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/i.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/i.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/i.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"meta\") return \"pseudo\";\n\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      if (type != \"comment\")\n        state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: lineComment,\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i].toLowerCase()] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\", \"prefers-color-scheme\",\n    \"dynamic-range\", \"video-dynamic-range\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\",\n    \"dark\", \"light\",\n    \"standard\", \"high\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"all\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backdrop-filter\",\n    \"backface-visibility\", \"background\", \"background-attachment\",\n    \"background-blend-mode\", \"background-clip\", \"background-color\",\n    \"background-image\", \"background-origin\", \"background-position\",\n    \"background-position-x\", \"background-position-y\", \"background-repeat\",\n    \"background-size\", \"baseline-shift\", \"binding\", \"bleed\", \"block-size\",\n    \"bookmark-label\", \"bookmark-level\", \"bookmark-state\", \"bookmark-target\",\n    \"border\", \"border-bottom\", \"border-bottom-color\", \"border-bottom-left-radius\",\n    \"border-bottom-right-radius\", \"border-bottom-style\", \"border-bottom-width\",\n    \"border-collapse\", \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\", \"border-left-style\",\n    \"border-left-width\", \"border-radius\", \"border-right\", \"border-right-color\",\n    \"border-right-style\", \"border-right-width\", \"border-spacing\", \"border-style\",\n    \"border-top\", \"border-top-color\", \"border-top-left-radius\",\n    \"border-top-right-radius\", \"border-top-style\", \"border-top-width\",\n    \"border-width\", \"bottom\", \"box-decoration-break\", \"box-shadow\", \"box-sizing\",\n    \"break-after\", \"break-before\", \"break-inside\", \"caption-side\", \"caret-color\",\n    \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\", \"column-fill\",\n    \"column-gap\", \"column-rule\", \"column-rule-color\", \"column-rule-style\",\n    \"column-rule-width\", \"column-span\", \"column-width\", \"columns\", \"contain\",\n    \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\", \"cue-after\",\n    \"cue-before\", \"cursor\", \"direction\", \"display\", \"dominant-baseline\",\n    \"drop-initial-after-adjust\", \"drop-initial-after-align\",\n    \"drop-initial-before-adjust\", \"drop-initial-before-align\", \"drop-initial-size\",\n    \"drop-initial-value\", \"elevation\", \"empty-cells\", \"fit\", \"fit-content\", \"fit-position\",\n    \"flex\", \"flex-basis\", \"flex-direction\", \"flex-flow\", \"flex-grow\",\n    \"flex-shrink\", \"flex-wrap\", \"float\", \"float-offset\", \"flow-from\", \"flow-into\",\n    \"font\", \"font-family\", \"font-feature-settings\", \"font-kerning\",\n    \"font-language-override\", \"font-optical-sizing\", \"font-size\",\n    \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-synthesis\",\n    \"font-variant\", \"font-variant-alternates\", \"font-variant-caps\",\n    \"font-variant-east-asian\", \"font-variant-ligatures\", \"font-variant-numeric\",\n    \"font-variant-position\", \"font-variation-settings\", \"font-weight\", \"gap\",\n    \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\", \"grid-auto-rows\",\n    \"grid-column\", \"grid-column-end\", \"grid-column-gap\", \"grid-column-start\",\n    \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\", \"grid-row-start\",\n    \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\", \"icon\",\n    \"image-orientation\", \"image-rendering\", \"image-resolution\", \"inline-box-align\",\n    \"inset\", \"inset-block\", \"inset-block-end\", \"inset-block-start\", \"inset-inline\",\n    \"inset-inline-end\", \"inset-inline-start\", \"isolation\", \"justify-content\",\n    \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\", \"line-break\",\n    \"line-height\", \"line-height-step\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\", \"marks\",\n    \"marquee-direction\", \"marquee-loop\", \"marquee-play-count\", \"marquee-speed\",\n    \"marquee-style\", \"mask-clip\", \"mask-composite\", \"mask-image\", \"mask-mode\",\n    \"mask-origin\", \"mask-position\", \"mask-repeat\", \"mask-size\",\"mask-type\",\n    \"max-block-size\", \"max-height\", \"max-inline-size\",\n    \"max-width\", \"min-block-size\", \"min-height\", \"min-inline-size\", \"min-width\",\n    \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\", \"nav-left\", \"nav-right\",\n    \"nav-up\", \"object-fit\", \"object-position\", \"offset\", \"offset-anchor\",\n    \"offset-distance\", \"offset-path\", \"offset-position\", \"offset-rotate\",\n    \"opacity\", \"order\", \"orphans\", \"outline\", \"outline-color\", \"outline-offset\",\n    \"outline-style\", \"outline-width\", \"overflow\", \"overflow-style\",\n    \"overflow-wrap\", \"overflow-x\", \"overflow-y\", \"padding\", \"padding-bottom\",\n    \"padding-left\", \"padding-right\", \"padding-top\", \"page\", \"page-break-after\",\n    \"page-break-before\", \"page-break-inside\", \"page-policy\", \"pause\",\n    \"pause-after\", \"pause-before\", \"perspective\", \"perspective-origin\", \"pitch\",\n    \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\",\n    \"position\", \"presentation-level\", \"punctuation-trim\", \"quotes\",\n    \"region-break-after\", \"region-break-before\", \"region-break-inside\",\n    \"region-fragment\", \"rendering-intent\", \"resize\", \"rest\", \"rest-after\",\n    \"rest-before\", \"richness\", \"right\", \"rotate\", \"rotation\", \"rotation-point\",\n    \"row-gap\", \"ruby-align\", \"ruby-overhang\", \"ruby-position\", \"ruby-span\",\n    \"scale\", \"scroll-behavior\", \"scroll-margin\", \"scroll-margin-block\",\n    \"scroll-margin-block-end\", \"scroll-margin-block-start\", \"scroll-margin-bottom\",\n    \"scroll-margin-inline\", \"scroll-margin-inline-end\",\n    \"scroll-margin-inline-start\", \"scroll-margin-left\", \"scroll-margin-right\",\n    \"scroll-margin-top\", \"scroll-padding\", \"scroll-padding-block\",\n    \"scroll-padding-block-end\", \"scroll-padding-block-start\",\n    \"scroll-padding-bottom\", \"scroll-padding-inline\", \"scroll-padding-inline-end\",\n    \"scroll-padding-inline-start\", \"scroll-padding-left\", \"scroll-padding-right\",\n    \"scroll-padding-top\", \"scroll-snap-align\", \"scroll-snap-type\",\n    \"shape-image-threshold\", \"shape-inside\", \"shape-margin\", \"shape-outside\",\n    \"size\", \"speak\", \"speak-as\", \"speak-header\", \"speak-numeral\",\n    \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\", \"tab-size\",\n    \"table-layout\", \"target\", \"target-name\", \"target-new\", \"target-position\",\n    \"text-align\", \"text-align-last\", \"text-combine-upright\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-skip-ink\", \"text-decoration-style\", \"text-emphasis\",\n    \"text-emphasis-color\", \"text-emphasis-position\", \"text-emphasis-style\",\n    \"text-height\", \"text-indent\", \"text-justify\", \"text-orientation\",\n    \"text-outline\", \"text-overflow\", \"text-rendering\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\",\n    \"text-underline-position\", \"text-wrap\", \"top\", \"touch-action\", \"transform\", \"transform-origin\",\n    \"transform-style\", \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"translate\",\n    \"unicode-bidi\", \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\",\n    \"voice-duration\", \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\",\n    \"voice-stress\", \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\",\n    \"will-change\", \"word-break\", \"word-spacing\", \"word-wrap\", \"writing-mode\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"paint-order\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\",\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"accent-color\", \"aspect-ratio\", \"border-block\", \"border-block-color\", \"border-block-end\",\n    \"border-block-end-color\", \"border-block-end-style\", \"border-block-end-width\",\n    \"border-block-start\", \"border-block-start-color\", \"border-block-start-style\",\n    \"border-block-start-width\", \"border-block-style\", \"border-block-width\",\n    \"border-inline\", \"border-inline-color\", \"border-inline-end\",\n    \"border-inline-end-color\", \"border-inline-end-style\",\n    \"border-inline-end-width\", \"border-inline-start\", \"border-inline-start-color\",\n    \"border-inline-start-style\", \"border-inline-start-width\",\n    \"border-inline-style\", \"border-inline-width\", \"content-visibility\", \"margin-block\",\n    \"margin-block-end\", \"margin-block-start\", \"margin-inline\", \"margin-inline-end\",\n    \"margin-inline-start\", \"overflow-anchor\", \"overscroll-behavior\", \"padding-block\", \"padding-block-end\",\n    \"padding-block-start\", \"padding-inline\", \"padding-inline-end\",\n    \"padding-inline-start\", \"scroll-snap-stop\", \"scrollbar-3d-light-color\",\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-track-color\", \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"shape-inside\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-display\", \"font-family\", \"src\", \"unicode-range\", \"font-variant\",\n     \"font-feature-settings\", \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkgrey\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkslategrey\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dimgrey\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightgrey\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\", \"lightslategrey\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"slategrey\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"blur\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"brightness\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"conic-gradient\", \"contain\", \"content\", \"contents\",\n    \"content-box\", \"context-menu\", \"continuous\", \"contrast\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"cubic-bezier\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"drop-shadow\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"grayscale\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"hue-rotate\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"manipulation\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\", \"repeating-radial-gradient\",\n    \"repeating-conic-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturate\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"sepia\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\",\n    \"subpixel-antialiased\", \"svg_masks\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/^\\s*\\{/, false))\n          return [null, null]\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    lineComment: \"//\",\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n  if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || /[\\[\\]{}\\(\\),;\\:\\.]/,\n      numberStart = parserConfig.numberStart || /[\\d\\.]/,\n      number = parserConfig.number || /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\n      isOperatorChar = parserConfig.isOperatorChar || /[+\\-*&%=<>!?|\\/]/,\n      isIdentifierChar = parserConfig.isIdentifierChar || /[\\w\\$_\\xa1-\\uffff]/,\n      // An optional function that takes a {string} token and returns true if it\n      // should be treated as a builtin.\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(/^\\/[\\/*]/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(isIdentifierChar);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(isIdentifierChar);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"type\";\n    if (contains(builtin, cur)\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\n        while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      var closing = firstChar == ctx.type;\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n        if (typeof hook == \"number\") return hook\n      }\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? /^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/ : /^\\s*[{}]$/,\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: \"//\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const \" +\n    \"volatile inline restrict asm fortran\";\n\n  // Keywords from https://en.cppreference.com/w/cpp/keyword includes C++20.\n  var cppKeywords = \"alignas alignof and and_eq audit axiom bitand bitor catch \" +\n  \"class compl concept constexpr const_cast decltype delete dynamic_cast \" +\n  \"explicit export final friend import module mutable namespace new noexcept \" +\n  \"not not_eq operator or or_eq override private protected public \" +\n  \"reinterpret_cast requires static_assert static_cast template this \" +\n  \"thread_local throw try typeid typename using virtual xor xor_eq\";\n\n  var objCKeywords = \"bycopy byref in inout oneway out self super atomic nonatomic retain copy \" +\n  \"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd \" +\n  \"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class \" +\n  \"@public @package @private @protected @required @optional @try @catch @finally @import \" +\n  \"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\";\n\n  var objCBuiltins = \"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION \" +\n  \" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER \" +\n  \"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION \" +\n  \"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\"\n\n  // Do not use this. Use the cTypes function below. This is global just to avoid\n  // excessive calls when cTypes is being called multiple times during a parse.\n  var basicCTypes = words(\"int long char short double float unsigned signed \" +\n    \"void bool\");\n\n  // Do not use this. Use the objCTypes function below. This is global just to avoid\n  // excessive calls when objCTypes is being called multiple times during a parse.\n  var basicObjCTypes = words(\"SEL instancetype id Class Protocol BOOL\");\n\n  // Returns true if identifier is a \"C\" type.\n  // C type is defined as those that are reserved by the compiler (basicTypes),\n  // and those that end in _t (Reserved by POSIX for types)\n  // http://www.gnu.org/software/libc/manual/html_node/Reserved-Names.html\n  function cTypes(identifier) {\n    return contains(basicCTypes, identifier) || /.+_t$/.test(identifier);\n  }\n\n  // Returns true if identifier is a \"Objective C\" type.\n  function objCTypes(identifier) {\n    return cTypes(identifier) || contains(basicObjCTypes, identifier);\n  }\n\n  var cBlockKeywords = \"case do else for if switch while struct enum union\";\n  var cDefKeywords = \"struct enum union\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(/^.$/)) {\n        next = cppHook\n        break\n      } else if (ch == \"/\" && stream.match(/^\\/[\\/\\*]/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"type\") return \"type\";\n    return false;\n  }\n\n  // For C and C++ (and ObjC): identifiers starting with __\n  // or _ followed by a capital letter are reserved for the compiler.\n  function cIsReservedIdentifier(token) {\n    if (!token || token.length < 2) return false;\n    if (token[0] != '_') return false;\n    return (token[1] == '_') || (token[1] !== token[1].toLowerCase());\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(/[\\w\\.']/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    // Raw strings.\n    if (stream.match(/^(?:R|u8R|uR|UR|LR)/)) {\n      var match = stream.match(/^\"([^\\s\\\\()]{0,16})\\(/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    // Unicode strings/chars.\n    if (stream.match(/^(?:u8|u|U|L)/)) {\n      if (stream.match(/^[\"']/, /* eat */ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    // Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = /(\\w+)::~?(\\w+)$/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  // C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  // <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    // Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text/x-csrc\", \"text/x-c\", \"text/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    defKeywords: words(cDefKeywords),\n    typeFirstDefinitions: true,\n    atoms: words(\"NULL true false\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text/x-c++src\", \"text/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + cppKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords + \" class try catch\"),\n    defKeywords: words(cDefKeywords + \" class namespace\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false NULL nullptr\"),\n    dontIndentStatements: /^template$/,\n    isIdentifierChar: /[\\w\\$_~\\xa1-\\uffff]/,\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while @interface\"),\n    types: words(\"var byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface enum @interface\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    hooks: {\n      \"@\": function(stream) {\n        // Don't match the @interface keyword.\n        if (stream.match('interface', false)) return false;\n\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match(/\"\"$/)) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly ref return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  def(\"text/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n      /* scala */\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ \" +\n\n      /* package scala */\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble\"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class enum def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    isOperatorChar: /[+\\-*&%=<>!?|\\/#:@]/,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      },\n\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      }\n    },\n    modeProps: {closeBrackets: {pairs: '()[]{}\"\"', triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      /*keywords*/\n      \"package as typealias class interface this super val operator \" +\n      \"var fun for is in This throw return annotation \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      /*soft keywords*/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix suspend actual expect setparam value\"\n    ),\n    types: words(\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '*': function(_stream, state) {\n        return state.prevToken == '.' ? 'variable' : 'operator';\n      },\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      },\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenNestedComment(1);\n        return state.tokenize(stream, state)\n      },\n      indent: function(state, ctx, textAfter, indentUnit) {\n        var firstChar = textAfter && textAfter.charAt(0);\n        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n          return state.indented;\n        if ((state.prevToken == \"operator\" && textAfter != \"}\" && state.context.type != \"}\") ||\n          state.prevToken == \"variable\" && firstChar == \".\" ||\n          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n          return indentUnit * 2 + ctx.indented;\n        if (ctx.align && ctx.type == \"}\")\n          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader/x-vertex\", \"x-shader/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class\"),\n    dontIndentStatements: /^@.*$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec++\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords + \" \" + cppKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class class namespace\"),\n    dontIndentStatements: /^@.*$|^template$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: cTypes,\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  // Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        // In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: /[\\[\\]{}\\(\\),;\\:\\.`]/,\n    isOperatorChar: /[+\\-*&%=<>!?|^~:\\/]/,\n    numberStart: /[\\d#$]/,\n    number: /^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"type\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\", \"is\"]);\n  var commonKeywords = [\"as\", \"assert\", \"break\", \"class\", \"continue\",\n                        \"def\", \"del\", \"elif\", \"else\", \"except\", \"finally\",\n                        \"for\", \"from\", \"global\", \"if\", \"import\",\n                        \"lambda\", \"pass\", \"raise\", \"return\",\n                        \"try\", \"while\", \"with\", \"yield\", \"in\"];\n  var commonBuiltins = [\"abs\", \"all\", \"any\", \"bin\", \"bool\", \"bytearray\", \"callable\", \"chr\",\n                        \"classmethod\", \"compile\", \"complex\", \"delattr\", \"dict\", \"dir\", \"divmod\",\n                        \"enumerate\", \"eval\", \"filter\", \"float\", \"format\", \"frozenset\",\n                        \"getattr\", \"globals\", \"hasattr\", \"hash\", \"help\", \"hex\", \"id\",\n                        \"input\", \"int\", \"isinstance\", \"issubclass\", \"iter\", \"len\",\n                        \"list\", \"locals\", \"map\", \"max\", \"memoryview\", \"min\", \"next\",\n                        \"object\", \"oct\", \"open\", \"ord\", \"pow\", \"property\", \"range\",\n                        \"repr\", \"reversed\", \"round\", \"set\", \"setattr\", \"slice\",\n                        \"sorted\", \"staticmethod\", \"str\", \"sum\", \"super\", \"tuple\",\n                        \"type\", \"vars\", \"zip\", \"__import__\", \"NotImplemented\",\n                        \"Ellipsis\", \"__debug__\"];\n  CodeMirror.registerHelper(\"hintWords\", \"python\", commonKeywords.concat(commonBuiltins));\n\n  function top(state) {\n    return state.scopes[state.scopes.length - 1];\n  }\n\n  CodeMirror.defineMode(\"python\", function(conf, parserConf) {\n    var ERRORCLASS = \"error\";\n\n    var delimiters = parserConf.delimiters || parserConf.singleDelimiters || /^[\\(\\)\\[\\]\\{\\}@,:`=;\\.\\\\]/;\n    //               (Backwards-compatibility with old, cumbersome config system)\n    var operators = [parserConf.singleOperators, parserConf.doubleOperators, parserConf.doubleDelimiters, parserConf.tripleDelimiters,\n                     parserConf.operators || /^([-+*/%\\/&|^]=?|[<>=]+|\\/\\/=?|\\*\\*=?|!=|[~!@]|\\.\\.\\.)/]\n    for (var i = 0; i < operators.length; i++) if (!operators[i]) operators.splice(i--, 1)\n\n    var hangingIndent = parserConf.hangingIndent || conf.indentUnit;\n\n    var myKeywords = commonKeywords, myBuiltins = commonBuiltins;\n    if (parserConf.extra_keywords != undefined)\n      myKeywords = myKeywords.concat(parserConf.extra_keywords);\n\n    if (parserConf.extra_builtins != undefined)\n      myBuiltins = myBuiltins.concat(parserConf.extra_builtins);\n\n    var py3 = !(parserConf.version && Number(parserConf.version) < 3)\n    if (py3) {\n      // since http://legacy.python.org/dev/peps/pep-0465/ @ is also an operator\n      var identifiers = parserConf.identifiers|| /^[_A-Za-z\\u00A1-\\uFFFF][_A-Za-z0-9\\u00A1-\\uFFFF]*/;\n      myKeywords = myKeywords.concat([\"nonlocal\", \"False\", \"True\", \"None\", \"async\", \"await\"]);\n      myBuiltins = myBuiltins.concat([\"ascii\", \"bytes\", \"exec\", \"print\"]);\n      var stringPrefixes = new RegExp(\"^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    } else {\n      var identifiers = parserConf.identifiers|| /^[_A-Za-z][_A-Za-z0-9]*/;\n      myKeywords = myKeywords.concat([\"exec\", \"print\"]);\n      myBuiltins = myBuiltins.concat([\"apply\", \"basestring\", \"buffer\", \"cmp\", \"coerce\", \"execfile\",\n                                      \"file\", \"intern\", \"long\", \"raw_input\", \"reduce\", \"reload\",\n                                      \"unichr\", \"unicode\", \"xrange\", \"False\", \"True\", \"None\"]);\n      var stringPrefixes = new RegExp(\"^(([rubf]|(ur)|(br))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    }\n    var keywords = wordRegexp(myKeywords);\n    var builtins = wordRegexp(myBuiltins);\n\n    // tokenizers\n    function tokenBase(stream, state) {\n      var sol = stream.sol() && state.lastToken != \"\\\\\"\n      if (sol) state.indent = stream.indentation()\n      // Handle scope changes\n      if (sol && top(state).type == \"py\") {\n        var scopeOffset = top(state).offset;\n        if (stream.eatSpace()) {\n          var lineOffset = stream.indentation();\n          if (lineOffset > scopeOffset)\n            pushPyScope(state);\n          else if (lineOffset < scopeOffset && dedent(stream, state) && stream.peek() != \"#\")\n            state.errorToken = true;\n          return null;\n        } else {\n          var style = tokenBaseInner(stream, state);\n          if (scopeOffset > 0 && dedent(stream, state))\n            style += \" \" + ERRORCLASS;\n          return style;\n        }\n      }\n      return tokenBaseInner(stream, state);\n    }\n\n    function tokenBaseInner(stream, state, inFormat) {\n      if (stream.eatSpace()) return null;\n\n      // Handle Comments\n      if (!inFormat && stream.match(/^#.*/)) return \"comment\";\n\n      // Handle Number Literals\n      if (stream.match(/^[0-9\\.]/, false)) {\n        var floatLiteral = false;\n        // Floats\n        if (stream.match(/^[\\d_]*\\.\\d+(e[\\+\\-]?\\d+)?/i)) { floatLiteral = true; }\n        if (stream.match(/^[\\d_]+\\.\\d*/)) { floatLiteral = true; }\n        if (stream.match(/^\\.\\d+/)) { floatLiteral = true; }\n        if (floatLiteral) {\n          // Float literals may be \"imaginary\"\n          stream.eat(/J/i);\n          return \"number\";\n        }\n        // Integers\n        var intLiteral = false;\n        // Hex\n        if (stream.match(/^0x[0-9a-f_]+/i)) intLiteral = true;\n        // Binary\n        if (stream.match(/^0b[01_]+/i)) intLiteral = true;\n        // Octal\n        if (stream.match(/^0o[0-7_]+/i)) intLiteral = true;\n        // Decimal\n        if (stream.match(/^[1-9][\\d_]*(e[\\+\\-]?[\\d_]+)?/)) {\n          // Decimal literals may be \"imaginary\"\n          stream.eat(/J/i);\n          // TODO - Can you have imaginary longs?\n          intLiteral = true;\n        }\n        // Zero by itself with no other piece of number.\n        if (stream.match(/^0(?![\\dx])/i)) intLiteral = true;\n        if (intLiteral) {\n          // Integer literals may be \"long\"\n          stream.eat(/L/i);\n          return \"number\";\n        }\n      }\n\n      // Handle Strings\n      if (stream.match(stringPrefixes)) {\n        var isFmtString = stream.current().toLowerCase().indexOf('f') !== -1;\n        if (!isFmtString) {\n          state.tokenize = tokenStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        } else {\n          state.tokenize = formatStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        }\n      }\n\n      for (var i = 0; i < operators.length; i++)\n        if (stream.match(operators[i])) return \"operator\"\n\n      if (stream.match(delimiters)) return \"punctuation\";\n\n      if (state.lastToken == \".\" && stream.match(identifiers))\n        return \"property\";\n\n      if (stream.match(keywords) || stream.match(wordOperators))\n        return \"keyword\";\n\n      if (stream.match(builtins))\n        return \"builtin\";\n\n      if (stream.match(/^(self|cls)\\b/))\n        return \"variable-2\";\n\n      if (stream.match(identifiers)) {\n        if (state.lastToken == \"def\" || state.lastToken == \"class\")\n          return \"def\";\n        return \"variable\";\n      }\n\n      // Handle non-detected items\n      stream.next();\n      return inFormat ? null :ERRORCLASS;\n    }\n\n    function formatStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenNestedExpr(depth) {\n        return function(stream, state) {\n          var inner = tokenBaseInner(stream, state, true)\n          if (inner == \"punctuation\") {\n            if (stream.current() == \"{\") {\n              state.tokenize = tokenNestedExpr(depth + 1)\n            } else if (stream.current() == \"}\") {\n              if (depth > 1) state.tokenize = tokenNestedExpr(depth - 1)\n              else state.tokenize = tokenString\n            }\n          }\n          return inner\n        }\n      }\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(/[^'\"\\{\\}\\\\]/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else if (stream.match('{{')) {\n            // ignore {{ in f-str\n            return OUTCLASS;\n          } else if (stream.match('{', false)) {\n            // switch to nested mode\n            state.tokenize = tokenNestedExpr(0)\n            if (stream.current()) return OUTCLASS;\n            else return state.tokenize(stream, state)\n          } else if (stream.match('}}')) {\n            return OUTCLASS;\n          } else if (stream.match('}')) {\n            // single } in f-string is an error\n            return ERRORCLASS;\n          } else {\n            stream.eat(/['\"]/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function tokenStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(/[^'\"\\\\]/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else {\n            stream.eat(/['\"]/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function pushPyScope(state) {\n      while (top(state).type != \"py\") state.scopes.pop()\n      state.scopes.push({offset: top(state).offset + conf.indentUnit,\n                         type: \"py\",\n                         align: null})\n    }\n\n    function pushBracketScope(stream, state, type) {\n      var align = stream.match(/^[\\s\\[\\{\\(]*(?:#|$)/, false) ? null : stream.column() + 1\n      state.scopes.push({offset: state.indent + hangingIndent,\n                         type: type,\n                         align: align})\n    }\n\n    function dedent(stream, state) {\n      var indented = stream.indentation();\n      while (state.scopes.length > 1 && top(state).offset > indented) {\n        if (top(state).type != \"py\") return true;\n        state.scopes.pop();\n      }\n      return top(state).offset != indented;\n    }\n\n    function tokenLexer(stream, state) {\n      if (stream.sol()) {\n        state.beginningOfLine = true;\n        state.dedent = false;\n      }\n\n      var style = state.tokenize(stream, state);\n      var current = stream.current();\n\n      // Handle decorators\n      if (state.beginningOfLine && current == \"@\")\n        return stream.match(identifiers, false) ? \"meta\" : py3 ? \"operator\" : ERRORCLASS;\n\n      if (/\\S/.test(current)) state.beginningOfLine = false;\n\n      if ((style == \"variable\" || style == \"builtin\")\n          && state.lastToken == \"meta\")\n        style = \"meta\";\n\n      // Handle scope changes.\n      if (current == \"pass\" || current == \"return\")\n        state.dedent = true;\n\n      if (current == \"lambda\") state.lambda = true;\n      if (current == \":\" && !state.lambda && top(state).type == \"py\" && stream.match(/^\\s*(?:#|$)/, false))\n        pushPyScope(state);\n\n      if (current.length == 1 && !/string|comment/.test(style)) {\n        var delimiter_index = \"[({\".indexOf(current);\n        if (delimiter_index != -1)\n          pushBracketScope(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n\n        delimiter_index = \"])}\".indexOf(current);\n        if (delimiter_index != -1) {\n          if (top(state).type == current) state.indent = state.scopes.pop().offset - hangingIndent\n          else return ERRORCLASS;\n        }\n      }\n      if (state.dedent && stream.eol() && top(state).type == \"py\" && state.scopes.length > 1)\n        state.scopes.pop();\n\n      return style;\n    }\n\n    var external = {\n      startState: function(basecolumn) {\n        return {\n          tokenize: tokenBase,\n          scopes: [{offset: basecolumn || 0, type: \"py\", align: null}],\n          indent: basecolumn || 0,\n          lastToken: null,\n          lambda: false,\n          dedent: 0\n        };\n      },\n\n      token: function(stream, state) {\n        var addErr = state.errorToken;\n        if (addErr) state.errorToken = false;\n        var style = tokenLexer(stream, state);\n\n        if (style && style != \"comment\")\n          state.lastToken = (style == \"keyword\" || style == \"punctuation\") ? stream.current() : style;\n        if (style == \"punctuation\") style = null;\n\n        if (stream.eol() && state.lambda)\n          state.lambda = false;\n        return addErr ? style + \" \" + ERRORCLASS : style;\n      },\n\n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase)\n          return state.tokenize.isString ? CodeMirror.Pass : 0;\n\n        var scope = top(state)\n        var closing = scope.type == textAfter.charAt(0) ||\n            scope.type == \"py\" && !state.dedent && /^(else:|elif |except |finally:)/.test(textAfter)\n        if (scope.align != null)\n          return scope.align - (closing ? 1 : 0)\n        else\n          return scope.offset - (closing ? hangingIndent : 0)\n      },\n\n      electricInput: /^\\s*([\\}\\]\\)]|else:|elif |except |finally:)$/,\n      closeBrackets: {triples: \"'\\\"\"},\n      lineComment: \"#\",\n      fold: \"indent\"\n    };\n    return external;\n  });\n\n  CodeMirror.defineMIME(\"text/x-python\", \"python\");\n\n  var words = function(str) { return str.split(\" \"); };\n\n  CodeMirror.defineMIME(\"text/x-cython\", {\n    name: \"python\",\n    extra_keywords: words(\"by cdef cimport cpdef ctypedef enum except \"+\n                          \"extern gil include nogil property public \"+\n                          \"readonly struct union DEF IF ELIF ELSE\")\n  });\n\n});\n","const switchOptions = [\r\n  {\r\n    id: 'lineNumbers',\r\n    title: 'Line Numbers',\r\n    trueValue: true,\r\n    falseValue: false,\r\n    value: true,\r\n  },\r\n  {\r\n    id: 'readOnly',\r\n    title: 'Read Only',\r\n    trueValue: false,\r\n    falseValue: true,\r\n    value: true,\r\n  },\r\n];\r\nconst selectOptions = [\r\n  {\r\n    id: 'tabSize',\r\n    title: 'Tab Size',\r\n    options: ['2', '4', '6', '8'],\r\n    value: 2,\r\n  },\r\n  {\r\n    id: 'mode',\r\n    title: 'Language',\r\n    options: ['javascript', 'xml', 'markdown', 'php', 'python', 'ruby'],\r\n    value: 'javascript',\r\n  },\r\n  {\r\n    id: 'theme',\r\n    title: 'Select themes',\r\n    options: [\r\n      'default',\r\n      'zenburn',\r\n      'solarized',\r\n      'rubyblue',\r\n      'paraiso-dark',\r\n      'midnight',\r\n      'material',\r\n      'hopscotch',\r\n      'twilight',\r\n    ],\r\n    value: 'zenburn',\r\n  },\r\n];\r\n\r\nconst defaultValues = {\r\n  basic: `const component = {\r\n    name: 'DevPlus',\r\n    author: 'DEVPLUS team',\r\n    website: 'https://devplus.asia/'\r\n};`,\r\n  javascript: `const component = {\r\n    name: 'DevPlus',\r\n    author: 'DEVPLUS team',\r\n    website: 'https://devplus.asia/'\r\n};`,\r\n  markdown: `# DevPlus\r\n###This is a DEVPLUS team production\r\n[have a look](https://devplus.asia/)\r\n  `,\r\n  xml: `<isomprphic>\r\n    <to>Tove</to>\r\n    <name>DevPlus</name>\r\n    <author>DEVPLUS team</author>\r\n    <website>devplus.asia</website>\r\n</isomprphic>`,\r\n  php: `<html>\r\n <head>\r\n  <title> v</title>\r\n </head>\r\n <body>\r\n <h1>https://devplus.asia/</h1>\r\n <p>This is a DEVPLUS team production</p>\r\n <a href=\"https://devplus.asia/\">visit ou site</a>\r\n </body>\r\n</html>\r\n`,\r\n  python: `\r\nprint(\"DevPlus\")\r\nprint(\"This is a DEVPLUS team production\")\r\nprint(\"visit us https://devplus.asia \")\r\n`,\r\n  ruby: `rint \"DevPlus\"\r\nprint \"This is a DEVPLUS team production\"\r\nprint \"visit us https://devplus.asia \"\r\n`,\r\n};\r\n\r\nexport { switchOptions, selectOptions, defaultValues };\r\n","import CodeMirror from 'react-codemirror';\r\n\r\nimport 'codemirror/mode/javascript/javascript';\r\nimport 'codemirror/mode/xml/xml';\r\nimport 'codemirror/mode/markdown/markdown';\r\nimport 'codemirror/mode/php/php';\r\nimport 'codemirror/mode/python/python';\r\n\r\nimport 'codemirror/theme/ambiance-mobile.css';\r\nimport 'codemirror/theme/base16-dark.css';\r\n\r\nimport 'codemirror/theme/zenburn.css';\r\nimport 'codemirror/theme/solarized.css';\r\nimport 'codemirror/theme/rubyblue.css';\r\nimport 'codemirror/theme/paraiso-dark.css';\r\nimport 'codemirror/theme/midnight.css';\r\nimport 'codemirror/theme/material.css';\r\nimport 'codemirror/theme/hopscotch.css';\r\nimport 'codemirror/theme/twilight.css';\r\n\r\nexport default CodeMirror;\r\n","import React from 'react';\r\nimport CodeMirrors from '@iso/components/uielements/codeMirror';\r\nimport styled from 'styled-components';\r\n\r\nconst CodeMirrorEditor = props => <CodeMirrors {...props} />;\r\n\r\nconst CodeMirror = styled(CodeMirrorEditor)`\r\n  .CodeMirror {\r\n    font-family: monospace;\r\n    height: 300px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    pre {\r\n      padding: 0 4px;\r\n      -moz-border-radius: 0;\r\n      -webkit-border-radius: 0;\r\n      border-radius: 0;\r\n      border-width: 0;\r\n      background: transparent;\r\n      font-family: inherit;\r\n      font-size: inherit;\r\n      margin: 0;\r\n      white-space: pre;\r\n      word-wrap: normal;\r\n      line-height: inherit;\r\n      color: inherit;\r\n      z-index: 2;\r\n      position: relative;\r\n      overflow: visible;\r\n      -webkit-tap-highlight-color: transparent;\r\n      -webkit-font-variant-ligatures: contextual;\r\n      font-variant-ligatures: contextual;\r\n    }\r\n    div.CodeMirror-secondarycursor {\r\n      border-left: 1px solid silver;\r\n    }\r\n  }\r\n  .CodeMirror-lines {\r\n    padding: 4px 0;\r\n    cursor: text;\r\n    min-height: 1px;\r\n  }\r\n  .CodeMirror-scrollbar-filler {\r\n    background-color: white;\r\n    position: absolute;\r\n    z-index: 6;\r\n    display: none;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n  .CodeMirror-gutter-filler {\r\n    background-color: white;\r\n    position: absolute;\r\n    z-index: 6;\r\n    display: none;\r\n    left: 0;\r\n    bottom: 0;\r\n  }\r\n  .CodeMirror-gutters {\r\n    border-right: 1px solid #dddddd;\r\n    background-color: #f7f7f7;\r\n    white-space: nowrap;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    min-height: 100%;\r\n    z-index: 3;\r\n    -moz-box-sizing: content-box;\r\n    box-sizing: content-box;\r\n  }\r\n  .CodeMirror-linenumbers {\r\n  }\r\n  .CodeMirror-linenumber {\r\n    padding: 0 3px 0 5px;\r\n    min-width: 20px;\r\n    text-align: right;\r\n    color: #999999;\r\n    white-space: nowrap;\r\n    -moz-box-sizing: content-box;\r\n    box-sizing: content-box;\r\n  }\r\n  .CodeMirror-guttermarker {\r\n    color: black;\r\n  }\r\n  .CodeMirror-guttermarker-subtle {\r\n    color: #999999;\r\n  }\r\n  .CodeMirror-cursor {\r\n    border-left: 1px solid black;\r\n    border-right: none;\r\n    width: 0;\r\n    position: absolute;\r\n    pointer-events: none;\r\n  }\r\n  .cm-fat-cursor .CodeMirror-cursor {\r\n    width: auto;\r\n    border: 0 !important;\r\n    background: #77ee77;\r\n  }\r\n  .cm-fat-cursor div.CodeMirror-cursors {\r\n    z-index: 1;\r\n  }\r\n  .cm-animate-fat-cursor {\r\n    width: auto;\r\n    border: 0;\r\n    -webkit-animation: blink 1.06s steps(1) infinite;\r\n    -moz-animation: blink 1.06s steps(1) infinite;\r\n    animation: blink 1.06s steps(1) infinite;\r\n    background-color: #77ee77;\r\n  }\r\n  .CodeMirror-overwrite .CodeMirror-cursor {\r\n  }\r\n  .cm-tab {\r\n    display: inline-block;\r\n    text-decoration: inherit;\r\n  }\r\n  .CodeMirror-rulers {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: -50px;\r\n    bottom: -20px;\r\n    overflow: hidden;\r\n  }\r\n  .CodeMirror-ruler {\r\n    border-left: 1px solid #cccccc;\r\n    top: 0;\r\n    bottom: 0;\r\n    position: absolute;\r\n  }\r\n  .cm-s-default {\r\n    .cm-variable,\r\n    .cm-punctuation,\r\n    .cm-property,\r\n    .cm-operator {\r\n    }\r\n    .cm-variable-3,\r\n    .cm-type {\r\n      color: #008855;\r\n    }\r\n    .cm-header {\r\n      color: blue;\r\n    }\r\n    .cm-quote {\r\n      color: #009900;\r\n    }\r\n    .cm-keyword {\r\n      color: #770088;\r\n    }\r\n    .cm-atom {\r\n      color: #221199;\r\n    }\r\n    .cm-number {\r\n      color: #116644;\r\n    }\r\n    .cm-def {\r\n      color: #0000ff;\r\n    }\r\n    .cm-variable-2 {\r\n      color: #0055aa;\r\n    }\r\n    .cm-comment {\r\n      color: #aa5500;\r\n    }\r\n    .cm-string {\r\n      color: #aa1111;\r\n    }\r\n    .cm-string-2 {\r\n      color: #ff5500;\r\n    }\r\n    .cm-meta {\r\n      color: #555555;\r\n    }\r\n    .cm-qualifier {\r\n      color: #555555;\r\n    }\r\n    .cm-builtin {\r\n      color: #3300aa;\r\n    }\r\n    .cm-bracket {\r\n      color: #999977;\r\n    }\r\n    .cm-tag {\r\n      color: #117700;\r\n    }\r\n    .cm-attribute {\r\n      color: #0000cc;\r\n    }\r\n    .cm-hr {\r\n      color: #999999;\r\n    }\r\n    .cm-link {\r\n      color: #0000cc;\r\n    }\r\n    .cm-error {\r\n      color: #ff0000;\r\n    }\r\n  }\r\n  .cm-negative {\r\n    color: #dd4444;\r\n  }\r\n  .cm-positive {\r\n    color: #229922;\r\n  }\r\n  .cm-header,\r\n  .cm-strong {\r\n    font-weight: bold;\r\n  }\r\n  .cm-em {\r\n    font-style: italic;\r\n  }\r\n  .cm-link {\r\n    text-decoration: underline;\r\n  }\r\n  .cm-strikethrough {\r\n    text-decoration: line-through;\r\n  }\r\n  .cm-invalidchar {\r\n    color: #ff0000;\r\n  }\r\n  .CodeMirror-composing {\r\n    border-bottom: 2px solid;\r\n  }\r\n  div.CodeMirror span.CodeMirror-matchingbracket {\r\n    color: #00ff00;\r\n  }\r\n  div.CodeMirror span.CodeMirror-nonmatchingbracket {\r\n    color: #ff2222;\r\n  }\r\n  .CodeMirror-matchingtag {\r\n    background: rgba(255, 150, 0, 0.3);\r\n  }\r\n  .CodeMirror-activeline-background {\r\n    background: #e8f2ff;\r\n  }\r\n  .CodeMirror-scroll {\r\n    overflow: scroll !important;\r\n    margin-bottom: -30px;\r\n    margin-right: -30px;\r\n    padding-bottom: 30px;\r\n    height: 100%;\r\n    outline: none;\r\n    position: relative;\r\n    -moz-box-sizing: content-box;\r\n    box-sizing: content-box;\r\n  }\r\n  .CodeMirror-sizer {\r\n    position: relative;\r\n    border-right: 30px solid transparent;\r\n    -moz-box-sizing: content-box;\r\n    box-sizing: content-box;\r\n  }\r\n  .CodeMirror-vscrollbar {\r\n    position: absolute;\r\n    z-index: 6;\r\n    display: none;\r\n    right: 0;\r\n    top: 0;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n  }\r\n  .CodeMirror-hscrollbar {\r\n    position: absolute;\r\n    z-index: 6;\r\n    display: none;\r\n    bottom: 0;\r\n    left: 0;\r\n    overflow-y: hidden;\r\n    overflow-x: scroll;\r\n  }\r\n  .CodeMirror-gutter {\r\n    white-space: normal;\r\n    height: 100%;\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    margin-bottom: -30px;\r\n    -moz-box-sizing: content-box;\r\n    box-sizing: content-box;\r\n  }\r\n  .CodeMirror-gutter-wrapper {\r\n    position: absolute;\r\n    z-index: 4;\r\n    background: none !important;\r\n    border: none !important;\r\n    ::selection {\r\n      background-color: transparent;\r\n    }\r\n    ::-moz-selection {\r\n      background-color: transparent;\r\n    }\r\n  }\r\n  .CodeMirror-gutter-background {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 4;\r\n  }\r\n  .CodeMirror-gutter-elt {\r\n    position: absolute;\r\n    cursor: default;\r\n    z-index: 4;\r\n  }\r\n  .CodeMirror-wrap pre {\r\n    word-wrap: break-word;\r\n    white-space: pre-wrap;\r\n    word-break: normal;\r\n  }\r\n  .CodeMirror-linebackground {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 0;\r\n  }\r\n  .CodeMirror-linewidget {\r\n    position: relative;\r\n    z-index: 2;\r\n    overflow: auto;\r\n  }\r\n  .CodeMirror-widget {\r\n  }\r\n  .CodeMirror-rtl pre {\r\n    direction: rtl;\r\n  }\r\n  .CodeMirror-code {\r\n    outline: none;\r\n  }\r\n  .CodeMirror-measure {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 0;\r\n    overflow: hidden;\r\n    visibility: hidden;\r\n    pre {\r\n      position: static;\r\n    }\r\n  }\r\n  div.CodeMirror-cursors {\r\n    visibility: hidden;\r\n    position: relative;\r\n    z-index: 3;\r\n  }\r\n  div.CodeMirror-dragcursors {\r\n    visibility: visible;\r\n  }\r\n  .CodeMirror-focused div.CodeMirror-cursors {\r\n    visibility: visible;\r\n  }\r\n  .CodeMirror-focused .CodeMirror-selected {\r\n    background: #d7d4f0;\r\n  }\r\n  .CodeMirror-selected {\r\n    background: #d9d9d9;\r\n  }\r\n  .CodeMirror-crosshair {\r\n    cursor: crosshair;\r\n  }\r\n  .CodeMirror-line::selection,\r\n  .CodeMirror-line > span::selection,\r\n  .CodeMirror-line > span > span::selection {\r\n    background: #d7d4f0;\r\n  }\r\n  .CodeMirror-line::-moz-selection,\r\n  .CodeMirror-line > span::-moz-selection,\r\n  .CodeMirror-line > span > span::-moz-selection {\r\n    background: #d7d4f0;\r\n  }\r\n  .cm-searching {\r\n    background: #ffffaa;\r\n    background: rgba(255, 255, 0, 0.4);\r\n  }\r\n  .cm-force-border {\r\n    padding-right: 0.1px;\r\n  }\r\n  .cm-tab-wrap-hack:after {\r\n    content: '';\r\n  }\r\n  span.CodeMirror-selectedtext {\r\n    background: none;\r\n  }\r\n`;\r\n\r\nconst CodeMirrorToolbar = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  flex-wrap: wrap;\r\n\r\n  .ant-form-item {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 30px;\r\n\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default CodeMirror;\r\nexport { CodeMirrorToolbar };\r\n","import React from 'react';\r\nimport { Row, Col } from 'antd';\r\nimport Switch from '@iso/components/uielements/switch';\r\nimport Select, { SelectOption } from '@iso/components/uielements/select';\r\nimport Form from '@iso/components/uielements/form';\r\nimport PageHeader from '@iso/components/utility/pageHeader';\r\nimport Box from '@iso/components/utility/box';\r\nimport LayoutWrapper from '@iso/components/utility/layoutWrapper';\r\nimport ContentHolder from '@iso/components/utility/contentHolder';\r\nimport basicStyle from '@iso/assets/styles/constants';\r\nimport { switchOptions, selectOptions, defaultValues } from './config';\r\nimport CodeMirror, { CodeMirrorToolbar } from './CodeMirror.styles';\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = SelectOption;\r\n\r\nexport default function() {\r\n  const [state, setState] = React.useState({\r\n    ...defaultValues,\r\n    basicOptions: {\r\n      lineNumbers: true,\r\n      readOnly: false,\r\n      tabSize: 4,\r\n      mode: 'javascript',\r\n      theme: 'zenburn',\r\n    },\r\n  });\r\n\r\n  function updateCode(mode, value) {\r\n    setState({\r\n      ...state,\r\n      [mode]: value,\r\n    });\r\n  }\r\n  function toggleOptions() {\r\n    const { basicOptions } = state;\r\n    return switchOptions.map((option, index) => {\r\n      const id = option.id;\r\n      const onChange = () => {\r\n        basicOptions[id] = !basicOptions[id];\r\n        setState({ ...state, basicOptions });\r\n      };\r\n      return (\r\n        <FormItem label={option.title} key={option.id}>\r\n          <Switch\r\n            checked={option.value === basicOptions[id]}\r\n            onChange={onChange}\r\n          />\r\n        </FormItem>\r\n      );\r\n    });\r\n  }\r\n  function selctOptions() {\r\n    const { basicOptions } = state;\r\n    return selectOptions.map((option, index) => {\r\n      const id = option.id;\r\n      const handleChange = value => {\r\n        basicOptions[id] = isNaN(value) ? value : parseInt(value, 10);\r\n        setState({ ...state, basicOptions });\r\n      };\r\n      return (\r\n        <FormItem label={option.title} key={option.id}>\r\n          <Select defaultValue={`${basicOptions[id]}`} onChange={handleChange}>\r\n            {option.options.map(opt => (\r\n              <Option value={opt} key={opt}>\r\n                {opt}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        </FormItem>\r\n      );\r\n    });\r\n  }\r\n  const { rowStyle, colStyle, gutter } = basicStyle;\r\n  return (\r\n    <LayoutWrapper>\r\n      <PageHeader>Code Mirror</PageHeader>\r\n      <Row style={rowStyle} gutter={gutter} justify=\"start\">\r\n        <Col md={24} sm={24} xs={24} style={colStyle}>\r\n          <Box title=\"Basic Example\">\r\n            <ContentHolder>\r\n              <CodeMirrorToolbar className=\"isoOptionWrapper\">\r\n                {toggleOptions()}\r\n                {selctOptions()}\r\n              </CodeMirrorToolbar>\r\n              <CodeMirror\r\n                value={state.basic}\r\n                onChange={value => updateCode('basic', value)}\r\n                options={state.basicOptions}\r\n              />\r\n            </ContentHolder>\r\n          </Box>\r\n        </Col>\r\n      </Row>\r\n      <Row style={rowStyle} gutter={gutter} justify=\"start\">\r\n        <Col md={12} sm={12} xs={24} style={colStyle}>\r\n          <Box title=\"Ruby Example\">\r\n            <ContentHolder>\r\n              <CodeMirror\r\n                value={state.ruby}\r\n                onChange={value => updateCode('ruby', value)}\r\n                options={{ lineNumbers: true, theme: 'hopscotch' }}\r\n              />\r\n            </ContentHolder>\r\n          </Box>\r\n        </Col>\r\n        <Col md={12} sm={12} xs={24} style={colStyle}>\r\n          <Box title=\"Javascript Example\">\r\n            <ContentHolder>\r\n              <CodeMirror\r\n                value={state.javascript}\r\n                onChange={value => updateCode('javascript', value)}\r\n                options={{ lineNumbers: true, theme: 'twilight' }}\r\n              />\r\n            </ContentHolder>\r\n          </Box>\r\n        </Col>\r\n      </Row>\r\n      <Row style={rowStyle} gutter={gutter} justify=\"start\">\r\n        <Col md={12} sm={12} xs={24} style={colStyle}>\r\n          <Box title=\"Markdown Example\">\r\n            <ContentHolder>\r\n              <CodeMirror\r\n                value={state.markdown}\r\n                onChange={value => updateCode('markdown', value)}\r\n                options={{ lineNumbers: true, theme: 'rubyblue' }}\r\n              />\r\n            </ContentHolder>\r\n          </Box>\r\n        </Col>\r\n        <Col md={12} sm={12} xs={24} style={colStyle}>\r\n          <Box title=\"XML Example\">\r\n            <ContentHolder>\r\n              <CodeMirror\r\n                value={state.xml}\r\n                onChange={value => updateCode('xml', value)}\r\n                options={{ lineNumbers: true, theme: 'paraiso-dark' }}\r\n              />\r\n            </ContentHolder>\r\n          </Box>\r\n        </Col>\r\n      </Row>\r\n      <Row style={rowStyle} gutter={gutter} justify=\"start\">\r\n        <Col md={12} sm={12} xs={24} style={colStyle}>\r\n          <Box title=\"PHP Example\">\r\n            <ContentHolder>\r\n              <CodeMirror\r\n                value={state.php}\r\n                onChange={value => updateCode('php', value)}\r\n                options={{ lineNumbers: true, theme: 'midnight' }}\r\n              />\r\n            </ContentHolder>\r\n          </Box>\r\n        </Col>\r\n        <Col md={12} sm={12} xs={24} style={colStyle}>\r\n          <Box title=\"Python Example\">\r\n            <ContentHolder>\r\n              <CodeMirror\r\n                value={state.python}\r\n                onChange={value => updateCode('python', value)}\r\n                options={{ lineNumbers: true, theme: 'material' }}\r\n              />\r\n            </ContentHolder>\r\n          </Box>\r\n        </Col>\r\n      </Row>\r\n    </LayoutWrapper>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nconst LayoutContentWrapper = styled.div`\r\n  padding: 40px 20px;\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  overflow: hidden;\r\n\r\n  @media only screen and (max-width: 767px) {\r\n    padding: 50px 20px;\r\n  }\r\n\r\n  @media (max-width: 580px) {\r\n    padding: 15px;\r\n  }\r\n`;\r\n\r\nexport { LayoutContentWrapper };\r\n","import React from 'react';\r\nimport { LayoutContentWrapper } from './layoutWrapper.style';\r\n\r\nexport default props => (\r\n  <LayoutContentWrapper\r\n    className={\r\n      props.className != null\r\n        ? `${props.className} isoLayoutContentWrapper`\r\n        : 'isoLayoutContentWrapper'\r\n    }\r\n    {...props}\r\n  >\r\n    {props.children}\r\n  </LayoutContentWrapper>\r\n);\r\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst BoxTitle = styled.h3`\r\n   font-size: 14px;\r\n   font-weight: 500;\r\n   color: ${palette('text', 0)};\r\n   margin: 0;\r\n   margin-bottom: 5px;\r\n`;\r\n\r\nconst BoxSubTitle = styled.p`\r\n   font-size: 13px;\r\n   font-weight: 400;\r\n   color: ${palette('text', 3)};\r\n   line-height: 24px;\r\n`;\r\n\r\nexport { BoxTitle, BoxSubTitle };\r\n","import React from 'react';\r\nimport { BoxTitle, BoxSubTitle } from './boxTitle.style';\r\n\r\nexport default (props) => {\r\n   return (\r\n      <div>\r\n         {props.title ? (\r\n            <BoxTitle className='isoBoxTitle'> {props.title} </BoxTitle>\r\n         ) : (\r\n            ''\r\n         )}\r\n         {props.subtitle ? (\r\n            <BoxSubTitle className='isoBoxSubTitle'>\r\n               {' '}\r\n               {props.subtitle}{' '}\r\n            </BoxSubTitle>\r\n         ) : (\r\n            ''\r\n         )}\r\n      </div>\r\n   );\r\n};\r\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst BoxWrapper = styled.div`\r\n   width: 100%;\r\n   height: 100%;\r\n   padding: 20px;\r\n   background-color: #ffffff;\r\n   border: 1px solid ${palette('border', 0)};\r\n   margin: 0 0 30px;\r\n\r\n   &:last-child {\r\n      margin-bottom: 0;\r\n   }\r\n\r\n   @media only screen and (max-width: 767px) {\r\n      padding: 20px;\r\n      ${'' /* margin: 0 10px 30px; */};\r\n   }\r\n\r\n   &.half {\r\n      width: calc(50% - 34px);\r\n      @media (max-width: 767px) {\r\n         width: 100%;\r\n      }\r\n   }\r\n`;\r\n\r\nexport { BoxWrapper };\r\n","import React from 'react';\r\nimport BoxTitleWrapper from './boxTitle';\r\nimport { BoxWrapper } from './box.style';\r\n\r\nexport default (props) => (\r\n   <BoxWrapper\r\n      className={`${props.className ? props.className : ''} isoBoxWrapper`}\r\n      style={props.style}\r\n   >\r\n      <BoxTitleWrapper title={props.title} subtitle={props.subtitle} />\r\n      {props.children}\r\n   </BoxWrapper>\r\n);\r\n","import { Row } from '../grid';\nexport default Row;","import '../../style/default.css'; // style dependencies\n// deps-lint-skip: grid\n\nimport '../../grid/style/css';","import { Col } from '../grid';\nexport default Col;","import '../../style/default.css'; // style dependencies\n// deps-lint-skip: grid\n\nimport '../../grid/style/css';","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\nimport WithDirection from '@iso/lib/helpers/rtl';\r\nconst WDComponentTitleWrapper = styled.h1`\r\n  font-size: 19px;\r\n  font-weight: 500;\r\n  color: ${palette('secondary', 2)};\r\n  width: 100%;\r\n  margin-right: 17px;\r\n  margin-bottom: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n\r\n  @media only screen and (max-width: 767px) {\r\n    margin: 0 10px;\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  &:before {\r\n    content: '';\r\n    width: 5px;\r\n    height: 40px;\r\n    background-color: ${palette('secondary', 3)};\r\n    display: flex;\r\n    margin: ${props =>\r\n      props['data-rtl'] === 'rtl' ? '0 0 0 15px' : '0 15px 0 0'};\r\n  }\r\n\r\n  &:after {\r\n    content: '';\r\n    width: 100%;\r\n    height: 1px;\r\n    background-color: ${palette('secondary', 3)};\r\n    display: flex;\r\n    margin: ${props =>\r\n      props['data-rtl'] === 'rtl' ? '0 15px 0 0' : '0 0 0 15px'};\r\n  }\r\n`;\r\n\r\nconst ComponentTitleWrapper = WithDirection(WDComponentTitleWrapper);\r\nexport { ComponentTitleWrapper };\r\n","import React from 'react';\r\nimport { ComponentTitleWrapper } from './pageHeader.style';\r\n\r\nexport default props => (\r\n  <ComponentTitleWrapper className=\"isoComponentTitle\">\r\n    {props.children}\r\n  </ComponentTitleWrapper>\r\n);\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.convertFieldsError = convertFieldsError;\nexports.format = format;\nexports.isEmptyValue = isEmptyValue;\nexports.isEmptyObject = isEmptyObject;\nexports.asyncMap = asyncMap;\nexports.complementError = complementError;\nexports.deepMerge = deepMerge;\n/* eslint no-console:0 */\n\nvar formatRegExp = /%[sdj%]/g;\n\nvar warning = exports.warning = function warning() {};\n\n// don't print warning message when in production env or node runtime\nif (process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {\n  exports.warning = warning = function warning(type, errors) {\n    if (typeof console !== 'undefined' && console.warn) {\n      if (errors.every(function (e) {\n        return typeof e === 'string';\n      })) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\n\nfunction convertFieldsError(errors) {\n  if (!errors || !errors.length) return null;\n  var fields = {};\n  errors.forEach(function (error) {\n    var field = error.field;\n    fields[field] = fields[field] || [];\n    fields[field].push(error);\n  });\n  return fields;\n}\n\nfunction format() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var i = 1;\n  var f = args[0];\n  var len = args.length;\n  if (typeof f === 'function') {\n    return f.apply(null, args.slice(1));\n  }\n  if (typeof f === 'string') {\n    var str = String(f).replace(formatRegExp, function (x) {\n      if (x === '%%') {\n        return '%';\n      }\n      if (i >= len) {\n        return x;\n      }\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n        case '%d':\n          return Number(args[i++]);\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n          break;\n        default:\n          return x;\n      }\n    });\n    for (var arg = args[i]; i < len; arg = args[++i]) {\n      str += ' ' + arg;\n    }\n    return str;\n  }\n  return f;\n}\n\nfunction isNativeStringType(type) {\n  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'pattern';\n}\n\nfunction isEmptyValue(value, type) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n  return false;\n}\n\nfunction isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\n\nfunction asyncParallelArray(arr, func, callback) {\n  var results = [];\n  var total = 0;\n  var arrLength = arr.length;\n\n  function count(errors) {\n    results.push.apply(results, errors);\n    total++;\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n\n  arr.forEach(function (a) {\n    func(a, count);\n  });\n}\n\nfunction asyncSerialArray(arr, func, callback) {\n  var index = 0;\n  var arrLength = arr.length;\n\n  function next(errors) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n    var original = index;\n    index = index + 1;\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n\n  next([]);\n}\n\nfunction flattenObjArr(objArr) {\n  var ret = [];\n  Object.keys(objArr).forEach(function (k) {\n    ret.push.apply(ret, objArr[k]);\n  });\n  return ret;\n}\n\nfunction asyncMap(objArr, option, func, callback) {\n  if (option.first) {\n    var flattenArr = flattenObjArr(objArr);\n    return asyncSerialArray(flattenArr, func, callback);\n  }\n  var firstFields = option.firstFields || [];\n  if (firstFields === true) {\n    firstFields = Object.keys(objArr);\n  }\n  var objArrKeys = Object.keys(objArr);\n  var objArrLength = objArrKeys.length;\n  var total = 0;\n  var results = [];\n  var pending = new Promise(function (resolve, reject) {\n    var next = function next(errors) {\n      results.push.apply(results, errors);\n      total++;\n      if (total === objArrLength) {\n        callback(results);\n        return results.length ? reject({ errors: results, fields: convertFieldsError(results) }) : resolve();\n      }\n    };\n    objArrKeys.forEach(function (key) {\n      var arr = objArr[key];\n      if (firstFields.indexOf(key) !== -1) {\n        asyncSerialArray(arr, func, next);\n      } else {\n        asyncParallelArray(arr, func, next);\n      }\n    });\n  });\n  pending['catch'](function (e) {\n    return e;\n  });\n  return pending;\n}\n\nfunction complementError(rule) {\n  return function (oe) {\n    if (oe && oe.message) {\n      oe.field = oe.field || rule.fullField;\n      return oe;\n    }\n    return {\n      message: typeof oe === 'function' ? oe() : oe,\n      field: oe.field || rule.fullField\n    };\n  };\n}\n\nfunction deepMerge(target, source) {\n  if (source) {\n    for (var s in source) {\n      if (source.hasOwnProperty(s)) {\n        var value = source[s];\n        if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && _typeof(target[s]) === 'object') {\n          target[s] = _extends({}, target[s], value);\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n  return target;\n}","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\nimport WithDirection from '@iso/lib/helpers/rtl';\r\nconst WDContentHolderWrapper = styled.div`\r\n   margin-top: 30px;\r\n   -webkit-overflow-scrolling: touch;\r\n\r\n   .demoBtn {\r\n      margin-right: ${(props) => (props['data-rtl'] === 'rtl' ? '0' : '10px')};\r\n      margin-left: ${(props) => (props['data-rtl'] === 'rtl' ? '10px' : '0')};\r\n   }\r\n\r\n   .demoBtnsWrapper {\r\n      &:nth-child(1) {\r\n         margin-left: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '0' : '70px'};\r\n         margin-right: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '70px' : '0'};\r\n         white-space: nowrap;\r\n      }\r\n\r\n      &:nth-child(2) {\r\n         width: 70px;\r\n         float: ${(props) => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\r\n      }\r\n\r\n      &:nth-child(3) {\r\n         width: 70px;\r\n         margin-left: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '0' : '295px'};\r\n         margin-right: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '295px' : '0'};\r\n      }\r\n\r\n      &:nth-child(4) {\r\n         margin-left: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '0' : '70px'};\r\n         margin-right: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '70px' : '0'};\r\n         clear: both;\r\n         white-space: nowrap;\r\n      }\r\n\r\n      @media only screen and (max-width: 480px) {\r\n         margin-left: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '8px' : '0 !important'};\r\n         white-space: nowrap;\r\n         margin-right: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '0 !important' : '8px'};\r\n         float: none !important;\r\n      }\r\n\r\n      .demoPosBtn {\r\n         width: 70px;\r\n         margin-right: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '0' : '8px'};\r\n         margin-left: ${(props) => (props['data-rtl'] === 'rtl' ? '8px' : '0')};\r\n         margin-bottom: 8px;\r\n         padding: 0;\r\n\r\n         @media only screen and (max-width: 480px) {\r\n            width: 65px;\r\n         }\r\n      }\r\n   }\r\n\r\n   .ant-btn {\r\n      &:not(.demoPosBtn) {\r\n         &:last-child {\r\n            margin-right: 0;\r\n         }\r\n      }\r\n   }\r\n\r\n   .tooltipBtn {\r\n      display: inline-block;\r\n      line-height: 32px;\r\n      height: 32px;\r\n      width: 70px;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      background: ${palette('secondary', 1)};\r\n      margin-right: ${(props) =>\r\n         props['data-rtl'] === 'rtl' ? 'auto' : '6px'};\r\n      margin-left: ${(props) => (props['data-rtl'] === 'rtl' ? '6px' : '0')};\r\n      margin-bottom: 6px;\r\n      border-radius: 6px;\r\n   }\r\n\r\n   .ant-progress {\r\n      &.ant-progress-circle {\r\n         margin-right: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '0' : '15px'};\r\n         margin-left: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '15px' : '0'};\r\n\r\n         &:last-child {\r\n            margin-right: ${(props) =>\r\n               props['data-rtl'] === 'rtl' ? '0' : '0'};\r\n            margin-left: ${(props) =>\r\n               props['data-rtl'] === 'rtl' ? '0' : '0'};\r\n         }\r\n      }\r\n   }\r\n\r\n   strong {\r\n      font-weight: 700;\r\n      font-size: 14px;\r\n   }\r\n`;\r\n\r\nconst ContentHolderWrapper = WithDirection(WDContentHolderWrapper);\r\n\r\nexport { ContentHolderWrapper };\r\n","import React from 'react';\r\nimport { ContentHolderWrapper } from './contentHolder.style';\r\n\r\nexport default (props) => (\r\n   <ContentHolderWrapper className='isoExampleWrapper' style={props.style}>\r\n      {props.children}\r\n   </ContentHolderWrapper>\r\n);\r\n","export const colors = {\r\n  blue: {\r\n    deep: 'rgb(0, 121, 191)',\r\n    light: 'lightblue',\r\n    lighter: '#d9fcff',\r\n    soft: '#E6FCFF',\r\n  },\r\n  black: '#4d4d4d',\r\n  shadow: 'rgba(0,0,0,0.2)',\r\n  grey: {\r\n    darker: '#C1C7D0',\r\n    dark: '#E2E4E6',\r\n    medium: '#DFE1E5',\r\n    N30: '#EBECF0',\r\n    light: '#F4F5F7',\r\n  },\r\n  green: 'rgb(185, 244, 188)',\r\n  white: 'white',\r\n  purple: 'rebeccapurple',\r\n  orange: '#FF991F',\r\n};\r\nexport const grid = 8;\r\n\r\nexport const borderRadius = 2;\r\nconst rowStyle = {\r\n  width: '100%',\r\n  display: 'flex',\r\n  flexFlow: 'row wrap',\r\n};\r\nconst colStyle = {\r\n  marginBottom: '16px',\r\n};\r\nconst gutter = 16;\r\n\r\nconst basicStyle = {\r\n  rowStyle,\r\n  colStyle,\r\n  gutter,\r\n};\r\nexport default basicStyle;\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _required = require('./required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nvar _whitespace = require('./whitespace');\n\nvar _whitespace2 = _interopRequireDefault(_whitespace);\n\nvar _type = require('./type');\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _range = require('./range');\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _enum = require('./enum');\n\nvar _enum2 = _interopRequireDefault(_enum);\n\nvar _pattern = require('./pattern');\n\nvar _pattern2 = _interopRequireDefault(_pattern);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = {\n  required: _required2['default'],\n  whitespace: _whitespace2['default'],\n  type: _type2['default'],\n  range: _range2['default'],\n  'enum': _enum2['default'],\n  pattern: _pattern2['default']\n};","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = {};\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","module.exports = true;\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","exports.f = {}.propertyIsEnumerable;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","exports.f = Object.getOwnPropertySymbols;\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\nvar React = require('react');\nvar factory = require('./factory');\n\nif (typeof React === 'undefined') {\n  throw Error(\n    'create-react-class could not find the React object. If you are using script tags, ' +\n      'make sure that React is being loaded before create-react-class.'\n  );\n}\n\n// Hack to grab NoopUpdateQueue from isomorphic React\nvar ReactNoopUpdateQueue = new React.Component().updater;\n\nmodule.exports = factory(\n  React.Component,\n  React.isValidElement,\n  ReactNoopUpdateQueue\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\nimport { transition } from '@iso/lib/helpers/style_utils';\r\n\r\nconst AntSelect = (ComponentName) => styled(ComponentName)`\r\n  &.ant-select {\r\n    box-sizing: border-box;\r\n    display: inline-block;\r\n    position: relative;\r\n    color: ${palette('text', 1)};\r\n    font-size: 13px;\r\n\r\n    /* input {\r\n      height: 35px;\r\n    } */\r\n\r\n    .ant-select-selector {\r\n      background-color: #fff;\r\n      border-radius: 4px;\r\n      /* height: 35px !important; */\r\n      border: 1px solid ${palette('border', 0)};\r\n      ${transition()};\r\n\r\n      &.ant-select-selection--single {\r\n        height: 35px;\r\n        position: relative;\r\n        cursor: pointer;\r\n      }\r\n\r\n      .ant-select-selection__rendered {\r\n        margin-left: 10px;\r\n        margin-right: 10px;\r\n        line-height: 33px;\r\n\r\n        .ant-select-selection-selected-value {\r\n          float: ${(props) => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\r\n          padding: ${(props) =>\r\n            props['data-rtl'] === 'rtl' ? '0 0 0 14px' : '0 14px 0 0'};\r\n        }\r\n      }\r\n\r\n      .ant-select-arrow {\r\n        right: ${(props) => (props['data-rtl'] === 'rtl' ? 'inherit' : '7px')};\r\n        left: ${(props) => (props['data-rtl'] === 'rtl' ? '7px' : 'inherit')};\r\n      }\r\n\r\n      &:hover {\r\n        border-color: ${palette('primary', 0)};\r\n      }\r\n    }\r\n\r\n    &.ant-select-focused {\r\n      .ant-select-selection {\r\n        &:focus,\r\n        &:active {\r\n          border-color: ${palette('primary', 0)};\r\n          outline: 0;\r\n          box-shadow: 0 0 0 2px ${palette('primary', 3)};\r\n        }\r\n      }\r\n    }\r\n\r\n    &.ant-select-open {\r\n      .ant-select-selection {\r\n        border-color: ${palette('primary', 0)};\r\n        outline: 0;\r\n        box-shadow: 0 0 0 2px ${palette('primary', 3)};\r\n      }\r\n    }\r\n\r\n    .ant-select-selection--multiple > ul > li,\r\n    .ant-select-selection--multiple .ant-select-selection__rendered > ul > li {\r\n      margin-top: 4px;\r\n      height: 26px;\r\n      line-height: 26px;\r\n    }\r\n\r\n    .ant-select-selection--multiple .ant-select-selection__choice {\r\n      background-color: ${palette('grayscale', 4)};\r\n      color: ${palette('text', 1)};\r\n    }\r\n\r\n    .ant-select-tree li a {\r\n      font-size: 13px;\r\n      color: ${palette('text', 1)};\r\n    }\r\n  }\r\n`;\r\n\r\nconst AntSelectOption = (ComponentName) => styled(ComponentName)`\r\n  color: #000000;\r\n  .ant-select-dropdown-menu-item {\r\n    color: ${palette('text', 1)};\r\n  }\r\n`;\r\n\r\nexport { AntSelect, AntSelectOption };\r\n","import { Select } from 'antd';\r\nimport { AntSelect } from './styles/select.style';\r\nimport WithDirection from '@iso/lib/helpers/rtl';\r\nconst WDSelect = AntSelect(Select);\r\nconst isoSelect = WithDirection(WDSelect);\r\nconst SelectOption = Select.Option;\r\n\r\nexport default isoSelect;\r\nexport { SelectOption };\r\n","import '../../style/default.css';\nimport './index.css';","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nvar Switch = React.forwardRef(function (_ref, ref) {\n  var _classNames;\n\n  var _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-switch' : _ref$prefixCls,\n      className = _ref.className,\n      checked = _ref.checked,\n      defaultChecked = _ref.defaultChecked,\n      disabled = _ref.disabled,\n      loadingIcon = _ref.loadingIcon,\n      checkedChildren = _ref.checkedChildren,\n      unCheckedChildren = _ref.unCheckedChildren,\n      onClick = _ref.onClick,\n      onChange = _ref.onChange,\n      onKeyDown = _ref.onKeyDown,\n      restProps = _objectWithoutProperties(_ref, [\"prefixCls\", \"className\", \"checked\", \"defaultChecked\", \"disabled\", \"loadingIcon\", \"checkedChildren\", \"unCheckedChildren\", \"onClick\", \"onChange\", \"onKeyDown\"]);\n\n  var _useMergedState = useMergedState(false, {\n    value: checked,\n    defaultValue: defaultChecked\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      innerChecked = _useMergedState2[0],\n      setInnerChecked = _useMergedState2[1];\n\n  function triggerChange(newChecked, event) {\n    var mergedChecked = innerChecked;\n\n    if (!disabled) {\n      mergedChecked = newChecked;\n      setInnerChecked(mergedChecked);\n      onChange === null || onChange === void 0 ? void 0 : onChange(mergedChecked, event);\n    }\n\n    return mergedChecked;\n  }\n\n  function onInternalKeyDown(e) {\n    if (e.which === KeyCode.LEFT) {\n      triggerChange(false, e);\n    } else if (e.which === KeyCode.RIGHT) {\n      triggerChange(true, e);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  }\n\n  function onInternalClick(e) {\n    var ret = triggerChange(!innerChecked, e); // [Legacy] trigger onClick with value\n\n    onClick === null || onClick === void 0 ? void 0 : onClick(ret, e);\n  }\n\n  var switchClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), innerChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n  return React.createElement(\"button\", Object.assign({}, restProps, {\n    type: \"button\",\n    role: \"switch\",\n    \"aria-checked\": innerChecked,\n    disabled: disabled,\n    className: switchClassName,\n    ref: ref,\n    onKeyDown: onInternalKeyDown,\n    onClick: onInternalClick\n  }), loadingIcon, React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }, innerChecked ? checkedChildren : unCheckedChildren));\n});\nSwitch.displayName = 'Switch';\nexport default Switch;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSwitch from 'rc-switch';\nimport classNames from 'classnames';\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nvar Switch = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      loading = _a.loading,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      disabled = _a.disabled,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"loading\", \"className\", \"disabled\"]);\n\n  devWarning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?');\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('switch', customizePrefixCls);\n  var loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-handle\")\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: \"\".concat(prefixCls, \"-loading-icon\")\n  }));\n  var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-small\"), (customizeSize || size) === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(Wave, {\n    insertExtraNode: true\n  }, /*#__PURE__*/React.createElement(RcSwitch, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: disabled || loading,\n    ref: ref,\n    loadingIcon: loadingIcon\n  })));\n});\nSwitch.__ANT_SWITCH = true;\nSwitch.displayName = 'Switch';\nexport default Switch;","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = require('./_hide');\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('../util');\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n/**\n *  Rule for validating required fields.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction required(rule, value, source, errors, options, type) {\n  if (rule.required && (!source.hasOwnProperty(rule.field) || util.isEmptyValue(value, type || rule.type))) {\n    errors.push(util.format(options.messages.required, rule.fullField));\n  }\n}\n\nexports['default'] = required;","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","module.exports = function(arr, obj){\n  if (arr.indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 50;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers, arr = map && map[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range;\n    try {range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) { return false }\n    return range.compareEndPoints(\"StartToEnd\", range) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n\n  // Add a span to a line.\n  function addMarkedSpan(line, span, op) {\n    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n    if (inThisOp && line.markedSpans && inThisOp.has(line.markedSpans)) {\n      line.markedSpans.push(span);\n    } else {\n      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n      if (inThisOp) { inThisOp.add(line.markedSpans); }\n    }\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++)\n        { if (lineView.rest[i] == line)\n          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n        { if (lineNo(lineView.rest[i$1]) > lineN)\n          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n    }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var ref = visualLine(lineObj);\n    var widgets = ref.widgets;\n    var height = 0;\n    if (widgets) { for (var i = 0; i < widgets.length; ++i) { if (widgets[i].above)\n      { height += widgetHeight(widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight; box.bottom += widgetHeight;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e$1) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    var customCursor = cm.options.$customCursor;\n    if (customCursor) { primary = true; }\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range.empty();\n      if (customCursor) {\n        var head = customCursor(cm, range);\n        if (head) { drawSelectionCursor(cm, head, curFragment); }\n      } else if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n      if (!collapsed)\n        { drawSelectionRange(cm, range, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n      var charPos = charCoords(cm, head, \"div\", null, null);\n      var width = charPos.right - charPos.left;\n      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + \"px\";\n    }\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () {\n        if (!cm.hasFocus()) { onBlur(cm); }\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.hasFocus()) {\n      cm.display.input.focus();\n      if (!cm.state.focused) { onFocus(cm); }\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      if (cm.state.focused) { onBlur(cm); }\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);\n    var oldHeight = display.lineDiv.getBoundingClientRect().top;\n    var mustScroll = 0;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      oldHeight += cur.line.height;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        if (oldHeight < viewTop) { mustScroll -= diff; }\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.scrollTop = 0;\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId,          // Unique ID\n      markArrays: null         // Used by addMarkedSpan\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n    // Send an event to consumers responding to changes in gutter width.\n    signalLater(display, \"gutterChanged\", display);\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // This attribute is respected by automatic translation systems such as Google Translate,\n    // and may also be respected by tools used by human translators.\n    d.wrapper.setAttribute('translate', 'no');\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n    var pixelsPerUnit = wheelPixelsPerUnit;\n    if (e.deltaMode === 0) {\n      dx = e.deltaX;\n      dy = e.deltaY;\n      pixelsPerUnit = 1;\n    }\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && pixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && pixelsPerUnit != null) {\n      var pixels = dy * pixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20 && e.deltaMode !== 0) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    cm.options.direction = doc.direction;\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(prev) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = prev ? prev.undoDepth : Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        { if (op(this.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      if (lineSep === '') { return lines.join('') }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range.head; }\n      else if (start == \"anchor\") { pos = range.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n      else { pos = range.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {\n      var this$1 = this;\n\n      this.history = new History(this.history);\n      linkedDocs(this, function (doc) { return doc.history = this$1.history; }, true);\n    },\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) { continue }\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(\n                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return\n        }\n        var reader = new FileReader;\n        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n        reader.onload = function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return\n          }\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e$1){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map.fallthrough, handle, context) }\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n      { document.execCommand(\"cut\"); }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (e.target && e.target != cm.display.input.getField()) { return }\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      if (cm.state.delayingBlurEvent) {\n        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n        else { delayBlurEvent(cm); }\n      }\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if ((webkit && !safari) || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { return display.input.focus(); }, 20);\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    if (ie) { delayBlurEvent(cm); }\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n      else\n        { ourRange = range; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n    var order = getOrder(anchorLine);\n    if (!order) { return range }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e$1) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = (val === '') ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(function () {\n        if (this$1.hasFocus() && !this$1.state.focused) { onFocus(this$1); }\n      }, 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n    });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          { indented = indentLine(cm, range.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function(map) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n          if (!range.empty()) {\n            var from = range.from(), to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this, j, how); }\n            var newRanges = this.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range = this.doc.sel.primary();\n        if (start == null) { pos = range.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range.from() : range.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty())\n            { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range.from() : range.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse)\n            { return dir < 0 ? range.from() : range.to() }\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range, margin) {\n        if (range == null) {\n          range = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range == \"number\") {\n          range = {from: Pos(range, 0), to: null};\n        } else if (range.from == null) {\n          range = {from: range, to: null};\n        }\n        if (!range.to) { range.to = range.from; }\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n  // doesn't cross line boundaries), \"word\" (across next word), or\n  // \"group\" (to the start of next group of word or\n  // non-word-non-whitespace chars). The visually param controls\n  // whether, in right-to-left text, direction 1 means to move towards\n  // the next index in the string, or towards the character to the right\n  // of the current position. The resulting position will have a\n  // hitSide=true property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n    function findNextLine() {\n      var l = pos.line + lineDir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (unit == \"codepoint\") {\n        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n        if (isNaN(ch)) {\n          next = null;\n        } else {\n          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n        }\n      } else if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\" || unit == \"codepoint\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    div.contentEditable = true;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    function belongsToInput(e) {\n      for (var t = e.target; t; t = t.parentNode) {\n        if (t == div) { return true }\n        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n      }\n      return false\n    }\n\n    on(div, \"paste\", function (e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = activeElt();\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = activeElt() == this.div;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || activeElt() != this.div)\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n      var this$1 = this;\n\n    var input = this;\n    if (this.selectionInEditor())\n      { setTimeout(function () { return this$1.pollSelection(); }, 20); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find(0)))\n            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if(label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n    this.textarea.readOnly = !!val;\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, */) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.65.3\";\n\n  return CodeMirror;\n\n})));\n","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","'use strict';\n\nmodule.exports = require('./dom-scroll-into-view');","'use strict';\n\nvar util = require('./util');\n\nfunction scrollIntoView(elem, container, config) {\n  config = config || {};\n  // document  window\n  if (container.nodeType === 9) {\n    container = util.getWindow(container);\n  }\n\n  var allowHorizontalScroll = config.allowHorizontalScroll;\n  var onlyScrollIfNeeded = config.onlyScrollIfNeeded;\n  var alignWithTop = config.alignWithTop;\n  var alignWithLeft = config.alignWithLeft;\n  var offsetTop = config.offsetTop || 0;\n  var offsetLeft = config.offsetLeft || 0;\n  var offsetBottom = config.offsetBottom || 0;\n  var offsetRight = config.offsetRight || 0;\n\n  allowHorizontalScroll = allowHorizontalScroll === undefined ? true : allowHorizontalScroll;\n\n  var isWin = util.isWindow(container);\n  var elemOffset = util.offset(elem);\n  var eh = util.outerHeight(elem);\n  var ew = util.outerWidth(elem);\n  var containerOffset = undefined;\n  var ch = undefined;\n  var cw = undefined;\n  var containerScroll = undefined;\n  var diffTop = undefined;\n  var diffBottom = undefined;\n  var win = undefined;\n  var winScroll = undefined;\n  var ww = undefined;\n  var wh = undefined;\n\n  if (isWin) {\n    win = container;\n    wh = util.height(win);\n    ww = util.width(win);\n    winScroll = {\n      left: util.scrollLeft(win),\n      top: util.scrollTop(win)\n    };\n    // elem  container \n    diffTop = {\n      left: elemOffset.left - winScroll.left - offsetLeft,\n      top: elemOffset.top - winScroll.top - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (winScroll.left + ww) + offsetRight,\n      top: elemOffset.top + eh - (winScroll.top + wh) + offsetBottom\n    };\n    containerScroll = winScroll;\n  } else {\n    containerOffset = util.offset(container);\n    ch = container.clientHeight;\n    cw = container.clientWidth;\n    containerScroll = {\n      left: container.scrollLeft,\n      top: container.scrollTop\n    };\n    // elem  container \n    // , offset \n    diffTop = {\n      left: elemOffset.left - (containerOffset.left + (parseFloat(util.css(container, 'borderLeftWidth')) || 0)) - offsetLeft,\n      top: elemOffset.top - (containerOffset.top + (parseFloat(util.css(container, 'borderTopWidth')) || 0)) - offsetTop\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (containerOffset.left + cw + (parseFloat(util.css(container, 'borderRightWidth')) || 0)) + offsetRight,\n      top: elemOffset.top + eh - (containerOffset.top + ch + (parseFloat(util.css(container, 'borderBottomWidth')) || 0)) + offsetBottom\n    };\n  }\n\n  if (diffTop.top < 0 || diffBottom.top > 0) {\n    // \n    if (alignWithTop === true) {\n      util.scrollTop(container, containerScroll.top + diffTop.top);\n    } else if (alignWithTop === false) {\n      util.scrollTop(container, containerScroll.top + diffBottom.top);\n    } else {\n      // \n      if (diffTop.top < 0) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  } else {\n    if (!onlyScrollIfNeeded) {\n      alignWithTop = alignWithTop === undefined ? true : !!alignWithTop;\n      if (alignWithTop) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  }\n\n  if (allowHorizontalScroll) {\n    if (diffTop.left < 0 || diffBottom.left > 0) {\n      // \n      if (alignWithLeft === true) {\n        util.scrollLeft(container, containerScroll.left + diffTop.left);\n      } else if (alignWithLeft === false) {\n        util.scrollLeft(container, containerScroll.left + diffBottom.left);\n      } else {\n        // \n        if (diffTop.left < 0) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    } else {\n      if (!onlyScrollIfNeeded) {\n        alignWithLeft = alignWithLeft === undefined ? true : !!alignWithLeft;\n        if (alignWithLeft) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = scrollIntoView;","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\n\nfunction getClientPosition(elem) {\n  var box = undefined;\n  var x = undefined;\n  var y = undefined;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement;\n  //  GBS A-Grade Browsers  getBoundingClientRect \n  box = elem.getBoundingClientRect();\n\n  // jQuery  docElem.clientLeft/clientTop\n  //  html  body /\n  // ie6  html  margin  html  margin\n\n  x = box.left;\n  y = box.top;\n\n  // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n\n  // ie  absolute \n  //  documentElement ,quirks  body\n  //  body  html   ie < 9 html  2px \n  //  ie body html  ,ie  html,body \n  //  ie  docElem.clientTop  border-top\n  // ie7 html  2\n  //  firefox/chrome/ie9  docElem.clientTop  border-top  0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];\n  var method = 'scroll' + (top ? 'Top' : 'Left');\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    // ie6,7,8 standard mode\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\nfunction _getComputedStyle(elem, name, computedStyle_) {\n  var val = '';\n  var d = elem.ownerDocument;\n  var computedStyle = computedStyle_ || d.defaultView.getComputedStyle(elem, null);\n\n  // https://github.com/kissyteam/kissy/issues/61\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp('^(' + RE_NUM + ')(?!px)[a-z%]+$', 'i');\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name];\n\n  //  width/height  pixelLeft  width/height \n  // ! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook @2011-08-19\n  //  ie  offset \n  // borderWidth  borderWidth \n\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT];\n\n    // prevent flashing of content\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT];\n\n    // Put in the new values to get a computed value out\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX;\n\n    // Revert the changed values\n    style[LEFT] = left;\n\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n  return ret === '' ? 'auto' : ret;\n}\n\nvar getComputedStyleX = undefined;\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name = undefined;\n\n  // Remember the old values, and insert the new ones\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem);\n\n  // Revert the old values\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop = undefined;\n  var j = undefined;\n  var i = undefined;\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = undefined;\n        if (prop === 'border') {\n          cssProp = prop + which[i] + 'Width';\n        } else {\n          cssProp = prop + which[i];\n        }\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n  return value;\n}\n\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\nfunction isWindow(obj) {\n  // must use == for ie8\n  /* eslint eqeqeq:0 */\n  return obj != null && obj == obj.window;\n}\n\nvar domUtils = {};\n\neach(['Width', 'Height'], function (name) {\n  domUtils['doc' + name] = function (refWin) {\n    var d = refWin.document;\n    return Math.max(\n    // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement['scroll' + name],\n    // quirks : documentElement.scrollHeight \n    d.body['scroll' + name], domUtils['viewport' + name](d));\n  };\n\n  domUtils['viewport' + name] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = 'client' + name;\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop];\n    //  documentElement\n    // backcompat  body\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n\n/*\n \n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\nfunction getWH(elem, name, extra) {\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.offsetWidth : elem.offsetHeight;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem, computedStyle);\n  var cssBoxValue = 0;\n  if (borderBoxValue == null || borderBoxValue <= 0) {\n    borderBoxValue = undefined;\n    // Fall back to computed then un computed css if necessary\n    cssBoxValue = getComputedStyleX(elem, name);\n    if (cssBoxValue == null || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    }\n    // Normalize '', auto, and prepare for extra\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which, computedStyle);\n    }\n    return cssBoxValue;\n  }\n  if (borderBoxValueOrIsBorderBox) {\n    var padding = extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which, computedStyle) : getPBMWidth(elem, ['margin'], which, computedStyle);\n    return val + (extra === BORDER_INDEX ? 0 : padding);\n  }\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which, computedStyle);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n};\n\n// fix #119 : https://github.com/kissyteam/kissy/issues/119\nfunction getWHIgnoreDisplay(elem) {\n  var val = undefined;\n  var args = arguments;\n  // in case elem is window\n  // elem.offsetWidth === undefined\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n  return val;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n    return undefined;\n  }\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value += 'px';\n    }\n    el.style[name] = value;\n    return undefined;\n  }\n  return getComputedStyleX(el, name);\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n  domUtils['outer' + first] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, val) {\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which, computedStyle);\n        }\n        return css(elem, name, val);\n      }\n      return undefined;\n    }\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\n//  elem  elem.ownerDocument \nfunction setOffset(elem, offset) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var old = getOffset(elem);\n  var ret = {};\n  var current = undefined;\n  var key = undefined;\n\n  for (key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      current = parseFloat(css(elem, key)) || 0;\n      ret[key] = current + offset[key] - old[key];\n    }\n  }\n  css(elem, ret);\n}\n\nmodule.exports = _extends({\n  getWindow: function getWindow(node) {\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  offset: function offset(el, value) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value);\n    } else {\n      return getOffset(el);\n    }\n  },\n\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var ret = {};\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n    var overflow = obj.overflow;\n    if (overflow) {\n      for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n    return ret;\n  },\n  scrollLeft: function scrollLeft(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollLeft(w);\n      }\n      window.scrollTo(v, getScrollTop(w));\n    } else {\n      if (v === undefined) {\n        return w.scrollLeft;\n      }\n      w.scrollLeft = v;\n    }\n  },\n  scrollTop: function scrollTop(w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollTop(w);\n      }\n      window.scrollTo(getScrollLeft(w), v);\n    } else {\n      if (v === undefined) {\n        return w.scrollTop;\n      }\n      w.scrollTop = v;\n    }\n  },\n\n  viewportWidth: 0,\n  viewportHeight: 0\n}, domUtils);","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _util = require('./util');\n\nvar _validator = require('./validator/');\n\nvar _validator2 = _interopRequireDefault(_validator);\n\nvar _messages2 = require('./messages');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Encapsulates a validation schema.\n *\n *  @param descriptor An object declaring validation rules\n *  for this schema.\n */\nfunction Schema(descriptor) {\n  this.rules = null;\n  this._messages = _messages2.messages;\n  this.define(descriptor);\n}\n\nSchema.prototype = {\n  messages: function messages(_messages) {\n    if (_messages) {\n      this._messages = (0, _util.deepMerge)((0, _messages2.newMessages)(), _messages);\n    }\n    return this._messages;\n  },\n  define: function define(rules) {\n    if (!rules) {\n      throw new Error('Cannot configure a schema with no rules');\n    }\n    if ((typeof rules === 'undefined' ? 'undefined' : _typeof(rules)) !== 'object' || Array.isArray(rules)) {\n      throw new Error('Rules must be an object');\n    }\n    this.rules = {};\n    var z = void 0;\n    var item = void 0;\n    for (z in rules) {\n      if (rules.hasOwnProperty(z)) {\n        item = rules[z];\n        this.rules[z] = Array.isArray(item) ? item : [item];\n      }\n    }\n  },\n  validate: function validate(source_) {\n    var _this = this;\n\n    var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var oc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n    var source = source_;\n    var options = o;\n    var callback = oc;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!this.rules || Object.keys(this.rules).length === 0) {\n      if (callback) {\n        callback();\n      }\n      return Promise.resolve();\n    }\n\n    function complete(results) {\n      var i = void 0;\n      var errors = [];\n      var fields = {};\n\n      function add(e) {\n        if (Array.isArray(e)) {\n          var _errors;\n\n          errors = (_errors = errors).concat.apply(_errors, e);\n        } else {\n          errors.push(e);\n        }\n      }\n\n      for (i = 0; i < results.length; i++) {\n        add(results[i]);\n      }\n      if (!errors.length) {\n        errors = null;\n        fields = null;\n      } else {\n        fields = (0, _util.convertFieldsError)(errors);\n      }\n      callback(errors, fields);\n    }\n\n    if (options.messages) {\n      var messages = this.messages();\n      if (messages === _messages2.messages) {\n        messages = (0, _messages2.newMessages)();\n      }\n      (0, _util.deepMerge)(messages, options.messages);\n      options.messages = messages;\n    } else {\n      options.messages = this.messages();\n    }\n    var arr = void 0;\n    var value = void 0;\n    var series = {};\n    var keys = options.keys || Object.keys(this.rules);\n    keys.forEach(function (z) {\n      arr = _this.rules[z];\n      value = source[z];\n      arr.forEach(function (r) {\n        var rule = r;\n        if (typeof rule.transform === 'function') {\n          if (source === source_) {\n            source = _extends({}, source);\n          }\n          value = source[z] = rule.transform(value);\n        }\n        if (typeof rule === 'function') {\n          rule = {\n            validator: rule\n          };\n        } else {\n          rule = _extends({}, rule);\n        }\n        rule.validator = _this.getValidationMethod(rule);\n        rule.field = z;\n        rule.fullField = rule.fullField || z;\n        rule.type = _this.getType(rule);\n        if (!rule.validator) {\n          return;\n        }\n        series[z] = series[z] || [];\n        series[z].push({\n          rule: rule,\n          value: value,\n          source: source,\n          field: z\n        });\n      });\n    });\n    var errorFields = {};\n    return (0, _util.asyncMap)(series, options, function (data, doIt) {\n      var rule = data.rule;\n      var deep = (rule.type === 'object' || rule.type === 'array') && (_typeof(rule.fields) === 'object' || _typeof(rule.defaultField) === 'object');\n      deep = deep && (rule.required || !rule.required && data.value);\n      rule.field = data.field;\n\n      function addFullfield(key, schema) {\n        return _extends({}, schema, {\n          fullField: rule.fullField + '.' + key\n        });\n      }\n\n      function cb() {\n        var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        var errors = e;\n        if (!Array.isArray(errors)) {\n          errors = [errors];\n        }\n        if (!options.suppressWarning && errors.length) {\n          Schema.warning('async-validator:', errors);\n        }\n        if (errors.length && rule.message) {\n          errors = [].concat(rule.message);\n        }\n\n        errors = errors.map((0, _util.complementError)(rule));\n\n        if (options.first && errors.length) {\n          errorFields[rule.field] = 1;\n          return doIt(errors);\n        }\n        if (!deep) {\n          doIt(errors);\n        } else {\n          // if rule is required but the target object\n          // does not exist fail at the rule level and don't\n          // go deeper\n          if (rule.required && !data.value) {\n            if (rule.message) {\n              errors = [].concat(rule.message).map((0, _util.complementError)(rule));\n            } else if (options.error) {\n              errors = [options.error(rule, (0, _util.format)(options.messages.required, rule.field))];\n            } else {\n              errors = [];\n            }\n            return doIt(errors);\n          }\n\n          var fieldsSchema = {};\n          if (rule.defaultField) {\n            for (var k in data.value) {\n              if (data.value.hasOwnProperty(k)) {\n                fieldsSchema[k] = rule.defaultField;\n              }\n            }\n          }\n          fieldsSchema = _extends({}, fieldsSchema, data.rule.fields);\n          for (var f in fieldsSchema) {\n            if (fieldsSchema.hasOwnProperty(f)) {\n              var fieldSchema = Array.isArray(fieldsSchema[f]) ? fieldsSchema[f] : [fieldsSchema[f]];\n              fieldsSchema[f] = fieldSchema.map(addFullfield.bind(null, f));\n            }\n          }\n          var schema = new Schema(fieldsSchema);\n          schema.messages(options.messages);\n          if (data.rule.options) {\n            data.rule.options.messages = options.messages;\n            data.rule.options.error = options.error;\n          }\n          schema.validate(data.value, data.rule.options || options, function (errs) {\n            var finalErrors = [];\n            if (errors && errors.length) {\n              finalErrors.push.apply(finalErrors, errors);\n            }\n            if (errs && errs.length) {\n              finalErrors.push.apply(finalErrors, errs);\n            }\n            doIt(finalErrors.length ? finalErrors : null);\n          });\n        }\n      }\n\n      var res = void 0;\n      if (rule.asyncValidator) {\n        res = rule.asyncValidator(rule, data.value, cb, data.source, options);\n      } else if (rule.validator) {\n        res = rule.validator(rule, data.value, cb, data.source, options);\n        if (res === true) {\n          cb();\n        } else if (res === false) {\n          cb(rule.message || rule.field + ' fails');\n        } else if (res instanceof Array) {\n          cb(res);\n        } else if (res instanceof Error) {\n          cb(res.message);\n        }\n      }\n      if (res && res.then) {\n        res.then(function () {\n          return cb();\n        }, function (e) {\n          return cb(e);\n        });\n      }\n    }, function (results) {\n      complete(results);\n    });\n  },\n  getType: function getType(rule) {\n    if (rule.type === undefined && rule.pattern instanceof RegExp) {\n      rule.type = 'pattern';\n    }\n    if (typeof rule.validator !== 'function' && rule.type && !_validator2['default'].hasOwnProperty(rule.type)) {\n      throw new Error((0, _util.format)('Unknown rule type %s', rule.type));\n    }\n    return rule.type || 'string';\n  },\n  getValidationMethod: function getValidationMethod(rule) {\n    if (typeof rule.validator === 'function') {\n      return rule.validator;\n    }\n    var keys = Object.keys(rule);\n    var messageIndex = keys.indexOf('message');\n    if (messageIndex !== -1) {\n      keys.splice(messageIndex, 1);\n    }\n    if (keys.length === 1 && keys[0] === 'required') {\n      return _validator2['default'].required;\n    }\n    return _validator2['default'][this.getType(rule)] || false;\n  }\n};\n\nSchema.register = function register(type, validator) {\n  if (typeof validator !== 'function') {\n    throw new Error('Cannot register a validator by type, validator is not a function');\n  }\n  _validator2['default'][type] = validator;\n};\n\nSchema.warning = _util.warning;\n\nSchema.messages = _messages2.messages;\n\nexports['default'] = Schema;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _string = require('./string');\n\nvar _string2 = _interopRequireDefault(_string);\n\nvar _method = require('./method');\n\nvar _method2 = _interopRequireDefault(_method);\n\nvar _number = require('./number');\n\nvar _number2 = _interopRequireDefault(_number);\n\nvar _boolean = require('./boolean');\n\nvar _boolean2 = _interopRequireDefault(_boolean);\n\nvar _regexp = require('./regexp');\n\nvar _regexp2 = _interopRequireDefault(_regexp);\n\nvar _integer = require('./integer');\n\nvar _integer2 = _interopRequireDefault(_integer);\n\nvar _float = require('./float');\n\nvar _float2 = _interopRequireDefault(_float);\n\nvar _array = require('./array');\n\nvar _array2 = _interopRequireDefault(_array);\n\nvar _object = require('./object');\n\nvar _object2 = _interopRequireDefault(_object);\n\nvar _enum = require('./enum');\n\nvar _enum2 = _interopRequireDefault(_enum);\n\nvar _pattern = require('./pattern');\n\nvar _pattern2 = _interopRequireDefault(_pattern);\n\nvar _date = require('./date');\n\nvar _date2 = _interopRequireDefault(_date);\n\nvar _required = require('./required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nvar _type = require('./type');\n\nvar _type2 = _interopRequireDefault(_type);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nexports['default'] = {\n  string: _string2['default'],\n  method: _method2['default'],\n  number: _number2['default'],\n  boolean: _boolean2['default'],\n  regexp: _regexp2['default'],\n  integer: _integer2['default'],\n  float: _float2['default'],\n  array: _array2['default'],\n  object: _object2['default'],\n  'enum': _enum2['default'],\n  pattern: _pattern2['default'],\n  date: _date2['default'],\n  url: _type2['default'],\n  hex: _type2['default'],\n  email: _type2['default'],\n  required: _required2['default']\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Performs validation for string types.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction string(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value, 'string') && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options, 'string');\n    if (!(0, _util.isEmptyValue)(value, 'string')) {\n      _rule2['default'].type(rule, value, source, errors, options);\n      _rule2['default'].range(rule, value, source, errors, options);\n      _rule2['default'].pattern(rule, value, source, errors, options);\n      if (rule.whitespace === true) {\n        _rule2['default'].whitespace(rule, value, source, errors, options);\n      }\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = string;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('../util');\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n/**\n *  Rule for validating whitespace.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction whitespace(rule, value, source, errors, options) {\n  if (/^\\s+$/.test(value) || value === '') {\n    errors.push(util.format(options.messages.whitespace, rule.fullField));\n  }\n}\n\nexports['default'] = whitespace;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _util = require('../util');\n\nvar util = _interopRequireWildcard(_util);\n\nvar _required = require('./required');\n\nvar _required2 = _interopRequireDefault(_required);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n/* eslint max-len:0 */\n\nvar pattern = {\n  // http://emailregex.com/\n  email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,\n  url: new RegExp('^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$', 'i'),\n  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i\n};\n\nvar types = {\n  integer: function integer(value) {\n    return types.number(value) && parseInt(value, 10) === value;\n  },\n  float: function float(value) {\n    return types.number(value) && !types.integer(value);\n  },\n  array: function array(value) {\n    return Array.isArray(value);\n  },\n  regexp: function regexp(value) {\n    if (value instanceof RegExp) {\n      return true;\n    }\n    try {\n      return !!new RegExp(value);\n    } catch (e) {\n      return false;\n    }\n  },\n  date: function date(value) {\n    return typeof value.getTime === 'function' && typeof value.getMonth === 'function' && typeof value.getYear === 'function';\n  },\n  number: function number(value) {\n    if (isNaN(value)) {\n      return false;\n    }\n    return typeof value === 'number';\n  },\n  object: function object(value) {\n    return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && !types.array(value);\n  },\n  method: function method(value) {\n    return typeof value === 'function';\n  },\n  email: function email(value) {\n    return typeof value === 'string' && !!value.match(pattern.email) && value.length < 255;\n  },\n  url: function url(value) {\n    return typeof value === 'string' && !!value.match(pattern.url);\n  },\n  hex: function hex(value) {\n    return typeof value === 'string' && !!value.match(pattern.hex);\n  }\n};\n\n/**\n *  Rule for validating the type of a value.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction type(rule, value, source, errors, options) {\n  if (rule.required && value === undefined) {\n    (0, _required2['default'])(rule, value, source, errors, options);\n    return;\n  }\n  var custom = ['integer', 'float', 'array', 'regexp', 'object', 'method', 'email', 'number', 'date', 'url', 'hex'];\n  var ruleType = rule.type;\n  if (custom.indexOf(ruleType) > -1) {\n    if (!types[ruleType](value)) {\n      errors.push(util.format(options.messages.types[ruleType], rule.fullField, rule.type));\n    }\n    // straight typeof check\n  } else if (ruleType && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== rule.type) {\n    errors.push(util.format(options.messages.types[ruleType], rule.fullField, rule.type));\n  }\n}\n\nexports['default'] = type;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('../util');\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n/**\n *  Rule for validating minimum and maximum allowed values.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction range(rule, value, source, errors, options) {\n  var len = typeof rule.len === 'number';\n  var min = typeof rule.min === 'number';\n  var max = typeof rule.max === 'number';\n  // U+010000U+10FFFFSupplementary Plane\n  var spRegexp = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var val = value;\n  var key = null;\n  var num = typeof value === 'number';\n  var str = typeof value === 'string';\n  var arr = Array.isArray(value);\n  if (num) {\n    key = 'number';\n  } else if (str) {\n    key = 'string';\n  } else if (arr) {\n    key = 'array';\n  }\n  // if the value is not of a supported type for range validation\n  // the validation rule rule should use the\n  // type property to also test for a particular type\n  if (!key) {\n    return false;\n  }\n  if (arr) {\n    val = value.length;\n  }\n  if (str) {\n    // U+010000lengthbug\"\".lenght !== 3\n    val = value.replace(spRegexp, '_').length;\n  }\n  if (len) {\n    if (val !== rule.len) {\n      errors.push(util.format(options.messages[key].len, rule.fullField, rule.len));\n    }\n  } else if (min && !max && val < rule.min) {\n    errors.push(util.format(options.messages[key].min, rule.fullField, rule.min));\n  } else if (max && !min && val > rule.max) {\n    errors.push(util.format(options.messages[key].max, rule.fullField, rule.max));\n  } else if (min && max && (val < rule.min || val > rule.max)) {\n    errors.push(util.format(options.messages[key].range, rule.fullField, rule.min, rule.max));\n  }\n}\n\nexports['default'] = range;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('../util');\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar ENUM = 'enum';\n\n/**\n *  Rule for validating a value exists in an enumerable list.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction enumerable(rule, value, source, errors, options) {\n  rule[ENUM] = Array.isArray(rule[ENUM]) ? rule[ENUM] : [];\n  if (rule[ENUM].indexOf(value) === -1) {\n    errors.push(util.format(options.messages[ENUM], rule.fullField, rule[ENUM].join(', ')));\n  }\n}\n\nexports['default'] = enumerable;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('../util');\n\nvar util = _interopRequireWildcard(_util);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\n/**\n *  Rule for validating a regular expression pattern.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction pattern(rule, value, source, errors, options) {\n  if (rule.pattern) {\n    if (rule.pattern instanceof RegExp) {\n      // if a RegExp instance is passed, reset `lastIndex` in case its `global`\n      // flag is accidentally set to `true`, which in a validation scenario\n      // is not necessary and the result might be misleading\n      rule.pattern.lastIndex = 0;\n      if (!rule.pattern.test(value)) {\n        errors.push(util.format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));\n      }\n    } else if (typeof rule.pattern === 'string') {\n      var _pattern = new RegExp(rule.pattern);\n      if (!_pattern.test(value)) {\n        errors.push(util.format(options.messages.pattern.mismatch, rule.fullField, value, rule.pattern));\n      }\n    }\n  }\n}\n\nexports['default'] = pattern;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates a function.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction method(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      _rule2['default'].type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = method;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates a number.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction number(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if (value === '') {\n      value = undefined;\n    }\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      _rule2['default'].type(rule, value, source, errors, options);\n      _rule2['default'].range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = number;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _util = require('../util');\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates a boolean.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction boolean(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      _rule2['default'].type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = boolean;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates the regular expression type.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction regexp(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (!(0, _util.isEmptyValue)(value)) {\n      _rule2['default'].type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = regexp;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates a number is an integer.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction integer(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      _rule2['default'].type(rule, value, source, errors, options);\n      _rule2['default'].range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = integer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates a number is a floating point number.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction floatFn(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      _rule2['default'].type(rule, value, source, errors, options);\n      _rule2['default'].range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = floatFn;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates an array.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction array(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value, 'array') && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options, 'array');\n    if (!(0, _util.isEmptyValue)(value, 'array')) {\n      _rule2['default'].type(rule, value, source, errors, options);\n      _rule2['default'].range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = array;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates an object.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction object(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      _rule2['default'].type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = object;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar ENUM = 'enum';\n\n/**\n *  Validates an enumerable list.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction enumerable(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (value) {\n      _rule2['default'][ENUM](rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = enumerable;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n *  Validates a regular expression pattern.\n *\n *  Performs validation when a rule only contains\n *  a pattern property but is not declared as a string type.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param callback The callback function.\n *  @param source The source object being validated.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nfunction pattern(rule, value, callback, source, options) {\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value, 'string') && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (!(0, _util.isEmptyValue)(value, 'string')) {\n      _rule2['default'].pattern(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = pattern;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction date(rule, value, callback, source, options) {\n  // console.log('integer rule called %j', rule);\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  // console.log('validate on %s value', value);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options);\n    if (!(0, _util.isEmptyValue)(value)) {\n      var dateObject = void 0;\n\n      if (typeof value === 'number') {\n        dateObject = new Date(value);\n      } else {\n        dateObject = value;\n      }\n\n      _rule2['default'].type(rule, dateObject, source, errors, options);\n      if (dateObject) {\n        _rule2['default'].range(rule, dateObject.getTime(), source, errors, options);\n      }\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = date;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction required(rule, value, callback, source, options) {\n  var errors = [];\n  var type = Array.isArray(value) ? 'array' : typeof value === 'undefined' ? 'undefined' : _typeof(value);\n  _rule2['default'].required(rule, value, source, errors, options, type);\n  callback(errors);\n}\n\nexports['default'] = required;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rule = require('../rule/');\n\nvar _rule2 = _interopRequireDefault(_rule);\n\nvar _util = require('../util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction type(rule, value, callback, source, options) {\n  var ruleType = rule.type;\n  var errors = [];\n  var validate = rule.required || !rule.required && source.hasOwnProperty(rule.field);\n  if (validate) {\n    if ((0, _util.isEmptyValue)(value, ruleType) && !rule.required) {\n      return callback();\n    }\n    _rule2['default'].required(rule, value, source, errors, options, ruleType);\n    if (!(0, _util.isEmptyValue)(value, ruleType)) {\n      _rule2['default'].type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n}\n\nexports['default'] = type;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newMessages = newMessages;\nfunction newMessages() {\n  return {\n    'default': 'Validation error on field %s',\n    required: '%s is required',\n    'enum': '%s must be one of %s',\n    whitespace: '%s cannot be empty',\n    date: {\n      format: '%s date %s is invalid for format %s',\n      parse: '%s date could not be parsed, %s is invalid ',\n      invalid: '%s date %s is invalid'\n    },\n    types: {\n      string: '%s is not a %s',\n      method: '%s is not a %s (function)',\n      array: '%s is not an %s',\n      object: '%s is not an %s',\n      number: '%s is not a %s',\n      date: '%s is not a %s',\n      boolean: '%s is not a %s',\n      integer: '%s is not an %s',\n      float: '%s is not a %s',\n      regexp: '%s is not a valid %s',\n      email: '%s is not a valid %s',\n      url: '%s is not a valid %s',\n      hex: '%s is not a valid %s'\n    },\n    string: {\n      len: '%s must be exactly %s characters',\n      min: '%s must be at least %s characters',\n      max: '%s cannot be longer than %s characters',\n      range: '%s must be between %s and %s characters'\n    },\n    number: {\n      len: '%s must equal %s',\n      min: '%s cannot be less than %s',\n      max: '%s cannot be greater than %s',\n      range: '%s must be between %s and %s'\n    },\n    array: {\n      len: '%s must be exactly %s in length',\n      min: '%s cannot be less than %s in length',\n      max: '%s cannot be greater than %s in length',\n      range: '%s must be between %s and %s in length'\n    },\n    pattern: {\n      mismatch: '%s value %s does not match pattern %s'\n    },\n    clone: function clone() {\n      var cloned = JSON.parse(JSON.stringify(this));\n      cloned.clone = this.clone;\n      return cloned;\n    }\n  };\n}\n\nvar messages = exports.messages = newMessages();","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","/**\n * Module dependencies.\n */\n\ntry {\n  var index = require('indexof');\n} catch (err) {\n  var index = require('component-indexof');\n}\n\n/**\n * Whitespace regexp.\n */\n\nvar re = /\\s+/;\n\n/**\n * toString reference.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Wrap `el` in a `ClassList`.\n *\n * @param {Element} el\n * @return {ClassList}\n * @api public\n */\n\nmodule.exports = function(el){\n  return new ClassList(el);\n};\n\n/**\n * Initialize a new ClassList for `el`.\n *\n * @param {Element} el\n * @api private\n */\n\nfunction ClassList(el) {\n  if (!el || !el.nodeType) {\n    throw new Error('A DOM element reference is required');\n  }\n  this.el = el;\n  this.list = el.classList;\n}\n\n/**\n * Add class `name` if not already present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.add = function(name){\n  // classList\n  if (this.list) {\n    this.list.add(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = index(arr, name);\n  if (!~i) arr.push(name);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove class `name` when present, or\n * pass a regular expression to remove\n * any which match.\n *\n * @param {String|RegExp} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.remove = function(name){\n  if ('[object RegExp]' == toString.call(name)) {\n    return this.removeMatching(name);\n  }\n\n  // classList\n  if (this.list) {\n    this.list.remove(name);\n    return this;\n  }\n\n  // fallback\n  var arr = this.array();\n  var i = index(arr, name);\n  if (~i) arr.splice(i, 1);\n  this.el.className = arr.join(' ');\n  return this;\n};\n\n/**\n * Remove all classes matching `re`.\n *\n * @param {RegExp} re\n * @return {ClassList}\n * @api private\n */\n\nClassList.prototype.removeMatching = function(re){\n  var arr = this.array();\n  for (var i = 0; i < arr.length; i++) {\n    if (re.test(arr[i])) {\n      this.remove(arr[i]);\n    }\n  }\n  return this;\n};\n\n/**\n * Toggle class `name`, can force state via `force`.\n *\n * For browsers that support classList, but do not support `force` yet,\n * the mistake will be detected and corrected.\n *\n * @param {String} name\n * @param {Boolean} force\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.toggle = function(name, force){\n  // classList\n  if (this.list) {\n    if (\"undefined\" !== typeof force) {\n      if (force !== this.list.toggle(name, force)) {\n        this.list.toggle(name); // toggle again to correct\n      }\n    } else {\n      this.list.toggle(name);\n    }\n    return this;\n  }\n\n  // fallback\n  if (\"undefined\" !== typeof force) {\n    if (!force) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  } else {\n    if (this.has(name)) {\n      this.remove(name);\n    } else {\n      this.add(name);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return an array of classes.\n *\n * @return {Array}\n * @api public\n */\n\nClassList.prototype.array = function(){\n  var className = this.el.getAttribute('class') || '';\n  var str = className.replace(/^\\s+|\\s+$/g, '');\n  var arr = str.split(re);\n  if ('' === arr[0]) arr.shift();\n  return arr;\n};\n\n/**\n * Check if class `name` is present.\n *\n * @param {String} name\n * @return {ClassList}\n * @api public\n */\n\nClassList.prototype.has =\nClassList.prototype.contains = function(name){\n  return this.list\n    ? this.list.contains(name)\n    : !! ~index(this.array(), name);\n};\n","import React from 'react';\n\nvar unsafeLifecyclesPolyfill = function unsafeLifecyclesPolyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  } // only handle componentWillReceiveProps\n\n\n  if (typeof prototype.componentWillReceiveProps !== 'function') {\n    return Component;\n  } // In React 16.9, React.Profiler was introduced together with UNSAFE_componentWillReceiveProps\n  // https://reactjs.org/blog/2019/08/08/react-v16.9.0.html#performance-measurements-with-reactprofiler\n\n\n  if (!React.Profiler) {\n    return Component;\n  } // Here polyfill get started\n\n\n  prototype.UNSAFE_componentWillReceiveProps = prototype.componentWillReceiveProps;\n  delete prototype.componentWillReceiveProps;\n  return Component;\n};\n\nexport default unsafeLifecyclesPolyfill;","import React from 'react';\n\nexport function toArrayChildren(children) {\n  var ret = [];\n  React.Children.forEach(children, function (child) {\n    ret.push(child);\n  });\n  return ret;\n}\n\nexport function findChildInChildrenByKey(children, key) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (child) {\n      if (ret) {\n        return;\n      }\n      if (child && child.key === key) {\n        ret = child;\n      }\n    });\n  }\n  return ret;\n}\n\nexport function findShownChildInChildrenByKey(children, key, showProp) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (child) {\n      if (child && child.key === key && child.props[showProp]) {\n        if (ret) {\n          throw new Error('two child with same key for <rc-animate> children');\n        }\n        ret = child;\n      }\n    });\n  }\n  return ret;\n}\n\nexport function findHiddenChildInChildrenByKey(children, key, showProp) {\n  var found = 0;\n  if (children) {\n    children.forEach(function (child) {\n      if (found) {\n        return;\n      }\n      found = child && child.key === key && !child.props[showProp];\n    });\n  }\n  return found;\n}\n\nexport function isSameChildren(c1, c2, showProp) {\n  var same = c1.length === c2.length;\n  if (same) {\n    c1.forEach(function (child, index) {\n      var child2 = c2[index];\n      if (child && child2) {\n        if (child && !child2 || !child && child2) {\n          same = false;\n        } else if (child.key !== child2.key) {\n          same = false;\n        } else if (showProp && child.props[showProp] !== child2.props[showProp]) {\n          same = false;\n        }\n      }\n    });\n  }\n  return same;\n}\n\nexport function mergeChildren(prev, next) {\n  var ret = [];\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  var nextChildrenPending = {};\n  var pendingChildren = [];\n  prev.forEach(function (child) {\n    if (child && findChildInChildrenByKey(next, child.key)) {\n      if (pendingChildren.length) {\n        nextChildrenPending[child.key] = pendingChildren;\n        pendingChildren = [];\n      }\n    } else {\n      pendingChildren.push(child);\n    }\n  });\n\n  next.forEach(function (child) {\n    if (child && Object.prototype.hasOwnProperty.call(nextChildrenPending, child.key)) {\n      ret = ret.concat(nextChildrenPending[child.key]);\n    }\n    ret.push(child);\n  });\n\n  ret = ret.concat(pendingChildren);\n\n  return ret;\n}","var START_EVENT_NAME_MAP = {\n  transitionstart: {\n    transition: 'transitionstart',\n    WebkitTransition: 'webkitTransitionStart',\n    MozTransition: 'mozTransitionStart',\n    OTransition: 'oTransitionStart',\n    msTransition: 'MSTransitionStart'\n  },\n\n  animationstart: {\n    animation: 'animationstart',\n    WebkitAnimation: 'webkitAnimationStart',\n    MozAnimation: 'mozAnimationStart',\n    OAnimation: 'oAnimationStart',\n    msAnimation: 'MSAnimationStart'\n  }\n};\n\nvar END_EVENT_NAME_MAP = {\n  transitionend: {\n    transition: 'transitionend',\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'mozTransitionEnd',\n    OTransition: 'oTransitionEnd',\n    msTransition: 'MSTransitionEnd'\n  },\n\n  animationend: {\n    animation: 'animationend',\n    WebkitAnimation: 'webkitAnimationEnd',\n    MozAnimation: 'mozAnimationEnd',\n    OAnimation: 'oAnimationEnd',\n    msAnimation: 'MSAnimationEnd'\n  }\n};\n\nvar startEvents = [];\nvar endEvents = [];\n\nfunction detectEvents() {\n  var testEl = document.createElement('div');\n  var style = testEl.style;\n\n  if (!('AnimationEvent' in window)) {\n    delete START_EVENT_NAME_MAP.animationstart.animation;\n    delete END_EVENT_NAME_MAP.animationend.animation;\n  }\n\n  if (!('TransitionEvent' in window)) {\n    delete START_EVENT_NAME_MAP.transitionstart.transition;\n    delete END_EVENT_NAME_MAP.transitionend.transition;\n  }\n\n  function process(EVENT_NAME_MAP, events) {\n    for (var baseEventName in EVENT_NAME_MAP) {\n      if (EVENT_NAME_MAP.hasOwnProperty(baseEventName)) {\n        var baseEvents = EVENT_NAME_MAP[baseEventName];\n        for (var styleName in baseEvents) {\n          if (styleName in style) {\n            events.push(baseEvents[styleName]);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  process(START_EVENT_NAME_MAP, startEvents);\n  process(END_EVENT_NAME_MAP, endEvents);\n}\n\nif (typeof window !== 'undefined' && typeof document !== 'undefined') {\n  detectEvents();\n}\n\nfunction addEventListener(node, eventName, eventListener) {\n  node.addEventListener(eventName, eventListener, false);\n}\n\nfunction removeEventListener(node, eventName, eventListener) {\n  node.removeEventListener(eventName, eventListener, false);\n}\n\nvar TransitionEvents = {\n  // Start events\n  startEvents: startEvents,\n\n  addStartEventListener: function addStartEventListener(node, eventListener) {\n    if (startEvents.length === 0) {\n      window.setTimeout(eventListener, 0);\n      return;\n    }\n    startEvents.forEach(function (startEvent) {\n      addEventListener(node, startEvent, eventListener);\n    });\n  },\n  removeStartEventListener: function removeStartEventListener(node, eventListener) {\n    if (startEvents.length === 0) {\n      return;\n    }\n    startEvents.forEach(function (startEvent) {\n      removeEventListener(node, startEvent, eventListener);\n    });\n  },\n\n\n  // End events\n  endEvents: endEvents,\n\n  addEndEventListener: function addEndEventListener(node, eventListener) {\n    if (endEvents.length === 0) {\n      window.setTimeout(eventListener, 0);\n      return;\n    }\n    endEvents.forEach(function (endEvent) {\n      addEventListener(node, endEvent, eventListener);\n    });\n  },\n  removeEndEventListener: function removeEndEventListener(node, eventListener) {\n    if (endEvents.length === 0) {\n      return;\n    }\n    endEvents.forEach(function (endEvent) {\n      removeEventListener(node, endEvent, eventListener);\n    });\n  }\n};\n\nexport default TransitionEvents;","import _typeof from 'babel-runtime/helpers/typeof';\nimport Event from './Event';\nimport classes from 'component-classes';\n\nvar isCssAnimationSupported = Event.endEvents.length !== 0;\nvar capitalPrefixes = ['Webkit', 'Moz', 'O',\n// ms is special .... !\n'ms'];\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n  // old ff need null, https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle\n  var style = window.getComputedStyle(node, null);\n  var ret = '';\n  for (var i = 0; i < prefixes.length; i++) {\n    ret = style.getPropertyValue(prefixes[i] + name);\n    if (ret) {\n      break;\n    }\n  }\n  return ret;\n}\n\nfunction fixBrowserByTimeout(node) {\n  if (isCssAnimationSupported) {\n    var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n    var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n    var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n    var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n    var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n    // sometimes, browser bug\n    node.rcEndAnimTimeout = setTimeout(function () {\n      node.rcEndAnimTimeout = null;\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }, time * 1000 + 200);\n  }\n}\n\nfunction clearBrowserBugTimeout(node) {\n  if (node.rcEndAnimTimeout) {\n    clearTimeout(node.rcEndAnimTimeout);\n    node.rcEndAnimTimeout = null;\n  }\n}\n\nvar cssAnimation = function cssAnimation(node, transitionName, endCallback) {\n  var nameIsObj = (typeof transitionName === 'undefined' ? 'undefined' : _typeof(transitionName)) === 'object';\n  var className = nameIsObj ? transitionName.name : transitionName;\n  var activeClassName = nameIsObj ? transitionName.active : transitionName + '-active';\n  var end = endCallback;\n  var start = void 0;\n  var active = void 0;\n  var nodeClasses = classes(node);\n\n  if (endCallback && Object.prototype.toString.call(endCallback) === '[object Object]') {\n    end = endCallback.end;\n    start = endCallback.start;\n    active = endCallback.active;\n  }\n\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    nodeClasses.remove(className);\n    nodeClasses.remove(activeClassName);\n\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional end is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (end) {\n      end();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n\n  if (start) {\n    start();\n  }\n  nodeClasses.add(className);\n\n  node.rcAnimTimeout = setTimeout(function () {\n    node.rcAnimTimeout = null;\n    nodeClasses.add(activeClassName);\n    if (active) {\n      setTimeout(active, 0);\n    }\n    fixBrowserByTimeout(node);\n    // 30ms for firefox\n  }, 30);\n\n  return {\n    stop: function stop() {\n      if (node.rcEndListener) {\n        node.rcEndListener();\n      }\n    }\n  };\n};\n\ncssAnimation.style = function (node, style, callback) {\n  if (node.rcEndListener) {\n    node.rcEndListener();\n  }\n\n  node.rcEndListener = function (e) {\n    if (e && e.target !== node) {\n      return;\n    }\n\n    if (node.rcAnimTimeout) {\n      clearTimeout(node.rcAnimTimeout);\n      node.rcAnimTimeout = null;\n    }\n\n    clearBrowserBugTimeout(node);\n\n    Event.removeEndEventListener(node, node.rcEndListener);\n    node.rcEndListener = null;\n\n    // Usually this optional callback is used for informing an owner of\n    // a leave animation and telling it to remove the child.\n    if (callback) {\n      callback();\n    }\n  };\n\n  Event.addEndEventListener(node, node.rcEndListener);\n\n  node.rcAnimTimeout = setTimeout(function () {\n    for (var s in style) {\n      if (style.hasOwnProperty(s)) {\n        node.style[s] = style[s];\n      }\n    }\n    node.rcAnimTimeout = null;\n    fixBrowserByTimeout(node);\n  }, 0);\n};\n\ncssAnimation.setTransition = function (node, p, value) {\n  var property = p;\n  var v = value;\n  if (value === undefined) {\n    v = property;\n    property = '';\n  }\n  property = property || '';\n  capitalPrefixes.forEach(function (prefix) {\n    node.style[prefix + 'Transition' + property] = v;\n  });\n};\n\ncssAnimation.isCssAnimationSupported = isCssAnimationSupported;\n\nexport { isCssAnimationSupported };\n\nexport default cssAnimation;","var util = {\n  isAppearSupported: function isAppearSupported(props) {\n    return props.transitionName && props.transitionAppear || props.animation.appear;\n  },\n  isEnterSupported: function isEnterSupported(props) {\n    return props.transitionName && props.transitionEnter || props.animation.enter;\n  },\n  isLeaveSupported: function isLeaveSupported(props) {\n    return props.transitionName && props.transitionLeave || props.animation.leave;\n  },\n  allowAppearCallback: function allowAppearCallback(props) {\n    return props.transitionAppear || props.animation.appear;\n  },\n  allowEnterCallback: function allowEnterCallback(props) {\n    return props.transitionEnter || props.animation.enter;\n  },\n  allowLeaveCallback: function allowLeaveCallback(props) {\n    return props.transitionLeave || props.animation.leave;\n  }\n};\nexport default util;","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cssAnimate, { isCssAnimationSupported } from 'css-animation';\nimport animUtil from './util/animate';\n\nvar transitionMap = {\n  enter: 'transitionEnter',\n  appear: 'transitionAppear',\n  leave: 'transitionLeave'\n};\n\nvar AnimateChild = function (_React$Component) {\n  _inherits(AnimateChild, _React$Component);\n\n  function AnimateChild() {\n    _classCallCheck(this, AnimateChild);\n\n    return _possibleConstructorReturn(this, (AnimateChild.__proto__ || Object.getPrototypeOf(AnimateChild)).apply(this, arguments));\n  }\n\n  _createClass(AnimateChild, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stop();\n    }\n  }, {\n    key: 'componentWillEnter',\n    value: function componentWillEnter(done) {\n      if (animUtil.isEnterSupported(this.props)) {\n        this.transition('enter', done);\n      } else {\n        done();\n      }\n    }\n  }, {\n    key: 'componentWillAppear',\n    value: function componentWillAppear(done) {\n      if (animUtil.isAppearSupported(this.props)) {\n        this.transition('appear', done);\n      } else {\n        done();\n      }\n    }\n  }, {\n    key: 'componentWillLeave',\n    value: function componentWillLeave(done) {\n      if (animUtil.isLeaveSupported(this.props)) {\n        this.transition('leave', done);\n      } else {\n        // always sync, do not interupt with react component life cycle\n        // update hidden -> animate hidden ->\n        // didUpdate -> animate leave -> unmount (if animate is none)\n        done();\n      }\n    }\n  }, {\n    key: 'transition',\n    value: function transition(animationType, finishCallback) {\n      var _this2 = this;\n\n      var node = ReactDOM.findDOMNode(this);\n      var props = this.props;\n      var transitionName = props.transitionName;\n      var nameIsObj = typeof transitionName === 'object';\n      this.stop();\n      var end = function end() {\n        _this2.stopper = null;\n        finishCallback();\n      };\n      if ((isCssAnimationSupported || !props.animation[animationType]) && transitionName && props[transitionMap[animationType]]) {\n        var name = nameIsObj ? transitionName[animationType] : transitionName + '-' + animationType;\n        var activeName = name + '-active';\n        if (nameIsObj && transitionName[animationType + 'Active']) {\n          activeName = transitionName[animationType + 'Active'];\n        }\n        this.stopper = cssAnimate(node, {\n          name: name,\n          active: activeName\n        }, end);\n      } else {\n        this.stopper = props.animation[animationType](node, end);\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var stopper = this.stopper;\n      if (stopper) {\n        this.stopper = null;\n        stopper.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return AnimateChild;\n}(React.Component);\n\nAnimateChild.propTypes = {\n  children: PropTypes.any,\n  animation: PropTypes.any,\n  transitionName: PropTypes.any\n};\nexport default AnimateChild;","import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\n\nvar defaultKey = 'rc_animate_' + Date.now();\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n  if (React.isValidElement(children)) {\n    if (!children.key) {\n      return React.cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = function (_React$Component) {\n  _inherits(Animate, _React$Component);\n\n  // eslint-disable-line\n\n  function Animate(props) {\n    _classCallCheck(this, Animate);\n\n    var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.currentlyAnimatingKeys = {};\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n\n    _this.state = {\n      children: toArrayChildren(getChildrenFromProps(props))\n    };\n\n    _this.childrenRefs = {};\n    return _this;\n  }\n\n  _createClass(Animate, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var showProp = this.props.showProp;\n      var children = this.state.children;\n      if (showProp) {\n        children = children.filter(function (child) {\n          return !!child.props[showProp];\n        });\n      }\n      children.forEach(function (child) {\n        if (child) {\n          _this2.performAppear(child.key);\n        }\n      });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.nextProps = nextProps;\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n      var props = this.props;\n      // exclusive needs immediate response\n      if (props.exclusive) {\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n          _this3.stop(key);\n        });\n      }\n      var showProp = props.showProp;\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n      // last props children if exclusive\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children;\n      // in case destroy in showProp mode\n      var newChildren = [];\n      if (showProp) {\n        currentChildren.forEach(function (currentChild) {\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n          var newChild = void 0;\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n          } else {\n            newChild = nextChild;\n          }\n          if (newChild) {\n            newChildren.push(newChild);\n          }\n        });\n        nextChildren.forEach(function (nextChild) {\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n            newChildren.push(nextChild);\n          }\n        });\n      } else {\n        newChildren = mergeChildren(currentChildren, nextChildren);\n      }\n\n      // need render to avoid update\n      this.setState({\n        children: newChildren\n      });\n\n      nextChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n        if (showProp) {\n          var showInNext = child.props[showProp];\n          if (hasPrev) {\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n            if (!showInNow && showInNext) {\n              _this3.keysToEnter.push(key);\n            }\n          } else if (showInNext) {\n            _this3.keysToEnter.push(key);\n          }\n        } else if (!hasPrev) {\n          _this3.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n        if (showProp) {\n          var showInNow = child.props[showProp];\n          if (hasNext) {\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n            if (!showInNext && showInNow) {\n              _this3.keysToLeave.push(key);\n            }\n          } else if (showInNow) {\n            _this3.keysToLeave.push(key);\n          }\n        } else if (!hasNext) {\n          _this3.keysToLeave.push(key);\n        }\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var keysToEnter = this.keysToEnter;\n      this.keysToEnter = [];\n      keysToEnter.forEach(this.performEnter);\n      var keysToLeave = this.keysToLeave;\n      this.keysToLeave = [];\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'isValidChildByKey',\n    value: function isValidChildByKey(currentChildren, key) {\n      var showProp = this.props.showProp;\n      if (showProp) {\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\n      }\n      return findChildInChildrenByKey(currentChildren, key);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(key) {\n      delete this.currentlyAnimatingKeys[key];\n      var component = this.childrenRefs[key];\n      if (component) {\n        component.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var props = this.props;\n      this.nextProps = props;\n      var stateChildren = this.state.children;\n      var children = null;\n      if (stateChildren) {\n        children = stateChildren.map(function (child) {\n          if (child === null || child === undefined) {\n            return child;\n          }\n          if (!child.key) {\n            throw new Error('must set key for <rc-animate> children');\n          }\n          return React.createElement(\n            AnimateChild,\n            {\n              key: child.key,\n              ref: function ref(node) {\n                _this4.childrenRefs[child.key] = node;\n              },\n              animation: props.animation,\n              transitionName: props.transitionName,\n              transitionEnter: props.transitionEnter,\n              transitionAppear: props.transitionAppear,\n              transitionLeave: props.transitionLeave\n            },\n            child\n          );\n        });\n      }\n      var Component = props.component;\n      if (Component) {\n        var passedProps = props;\n        if (typeof Component === 'string') {\n          passedProps = _extends({\n            className: props.className,\n            style: props.style\n          }, props.componentProps);\n        }\n        return React.createElement(\n          Component,\n          passedProps,\n          children\n        );\n      }\n      return children[0] || null;\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nAnimate.isAnimate = true;\nAnimate.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  animation: PropTypes.object,\n  transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  transitionEnter: PropTypes.bool,\n  transitionAppear: PropTypes.bool,\n  exclusive: PropTypes.bool,\n  transitionLeave: PropTypes.bool,\n  onEnd: PropTypes.func,\n  onEnter: PropTypes.func,\n  onLeave: PropTypes.func,\n  onAppear: PropTypes.func,\n  showProp: PropTypes.string,\n  children: PropTypes.node\n};\nAnimate.defaultProps = {\n  animation: {},\n  component: 'span',\n  componentProps: {},\n  transitionEnter: true,\n  transitionLeave: true,\n  transitionAppear: false,\n  onEnd: noop,\n  onEnter: noop,\n  onLeave: noop,\n  onAppear: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.performEnter = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n    }\n  };\n\n  this.performAppear = function (key) {\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n    }\n  };\n\n  this.handleDoneAdding = function (key, type) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      _this5.performLeave(key);\n    } else if (type === 'appear') {\n      if (animUtil.allowAppearCallback(props)) {\n        props.onAppear(key);\n        props.onEnd(key, true);\n      }\n    } else if (animUtil.allowEnterCallback(props)) {\n      props.onEnter(key);\n      props.onEnd(key, true);\n    }\n  };\n\n  this.performLeave = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n    }\n  };\n\n  this.handleDoneLeaving = function (key) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    // in case state change is too fast\n    if (_this5.isValidChildByKey(currentChildren, key)) {\n      _this5.performEnter(key);\n    } else {\n      var end = function end() {\n        if (animUtil.allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n        _this5.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  };\n};\n\nexport default unsafeLifecyclesPolyfill(Animate);","import { Form } from '@ant-design/compatible';\r\nimport '@ant-design/compatible/assets/index.css';\r\n\r\nexport default Form;\r\n","import { Switch } from 'antd';\r\nimport AntSwitch from './styles/switch.style';\r\n\r\nconst Switches = AntSwitch(Switch);\r\n\r\nexport default Switches;\r\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst AntSwitch = ComponentName => styled(ComponentName)`\r\n  &.ant-switch-checked {\r\n    border-color: ${palette('primary', 0)};\r\n    background-color: ${palette('primary', 0)};\r\n  }\r\n`;\r\n\r\nexport default AntSwitch;\r\n"],"sourceRoot":""}