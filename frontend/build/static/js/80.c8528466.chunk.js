(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[80],{1195:function(e,a,t){e.exports=t.p+"static/media/sign.adf5846b.jpg"},1357:function(e,a,t){},1358:function(e,a,t){},1692:function(e,a,t){},1693:function(e,a,t){},1694:function(e,a,t){},2571:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(32),s=(t(1193),t(1333)),l=(t(173),t(73)),c=(t(1692),function(){var e=Object(o.i)().email;return n.a.createElement("div",{className:"check-email-page"},n.a.createElement(s.a,{status:"success",title:n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"check--title"},"Check your email"),n.a.createElement("div",{className:"check--subTitle"},"We sent a password reset link to"),n.a.createElement("div",{className:"check--email"},n.a.createElement("b",null,e))),extra:[n.a.createElement(l.a,{key:"buy",block:!0,type:"primary",onClick:function(){return window.open("https://mail.google.com/mail/u/0/#inbox")}},"Open Gmail")]}))}),m=(t(572),t(573)),i=t(2),u=t.n(i),p=(t(692),t(230)),d=t(44),f=t(131),g=(t(614),t(615)),b=t(247),E=(t(331),t(120)),w=(t(746),t(756));t(1357);function h(e){var a=w.a.useForm(),t=Object(f.a)(a,1)[0],r=e.handleForgotPasswordSubmit;return n.a.createElement("div",{className:"forgot-password-form"},n.a.createElement(w.a,{form:t,autoComplete:"off",className:"forgot-form--input",onFinish:r,layout:"vertical"},n.a.createElement(w.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email"}]},n.a.createElement(E.a,{placeholder:"Please enter your account email"})),n.a.createElement(w.a.Item,{className:"forgot-form--submit"},n.a.createElement(l.a,{type:"primary",htmlType:"submit",block:!0},"Submit"))))}h.defaultProps={handleForgotPasswordSubmit:null};var v=h,y=(t(1358),g.a.Text);var k=function(e){var a=Object(o.g)(),t=Object(r.useState)(!1),s=Object(f.a)(t,2),l=s[0],c=s[1],i=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,b.a.forgotPassword({email:t.email});case 4:if("generate_link_error"!==e.sent.message){e.next=8;break}return c(!1),e.abrupt("return",p.b.error("Something went wrong! Please try again."));case 8:return c(!1),e.abrupt("return",a.push("/auth/forgot-password/success/".concat(t.email)));case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(m.a,{spinning:l},n.a.createElement("div",{className:"forgot-password-page"},n.a.createElement(y,{strong:!0,className:"forgot--title",level:3},"Forgot password?"),n.a.createElement(y,{className:"forgot--subTitle"},"Dont worries, we'll send you reset instructions."),n.a.createElement(v,{handleForgotPasswordSubmit:i})))},N=t(86),P=t(41),j=t(89),F=t(1195),O=t.n(F),S=(t(618),t(621)),x=t(214);t(1693);function I(e){var a=e.handleLoginFormSubmit;return n.a.createElement(n.a.Fragment,null,n.a.createElement(w.a,{initialValues:{remember:!0},onFinish:a,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",className:"login-form"},n.a.createElement(S.b,{direction:"vertical",size:10,style:{width:"100%"}},n.a.createElement("div",null,n.a.createElement("label",{className:"login-form--label"},"Email"),n.a.createElement(w.a.Item,{className:"login-form--inputWrap",name:"email",rules:[{required:!0,message:"Please input your username!"}]},n.a.createElement(E.a,{className:"login-form--input",placeholder:"Enter your username"}))),n.a.createElement("div",null,n.a.createElement("label",{className:"login-form--label"},"Password"),n.a.createElement(w.a.Item,{className:"login-form--inputWrap",name:"password",rules:[{required:!0,message:"Please input your password!"}]},n.a.createElement(E.a.Password,{className:"login-form--input",placeholder:"Enter your password"}))),n.a.createElement(w.a.Item,null,n.a.createElement(l.a,{type:"primary",htmlType:"submit",block:!0,className:"login-form--submit"},"Sign in")),n.a.createElement(w.a.Item,{className:"login-form--signUp"},n.a.createElement(x.b,{to:"/auth/forgot-password"},"Forgot password?")))))}I.defaultProps={handleLoginFormSubmit:null};var T=I,C=(t(1694),g.a.Text);var q=function(e){var a=Object(j.c)(),t=Object(r.useState)(!1),o=Object(f.a)(t,2),s=o[0],l=o[1],c=P.a.login,i=N.a.clearMenu,g=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,b.a.csrfCookie();case 4:return e.next=6,b.a.login(t);case 6:if(r=e.sent,localStorage.setItem("idToken",r.id_token),r.access_token){e.next=11;break}return l(!1),e.abrupt("return",p.b.error("Incorrect username or password."));case 11:return a(i()),a(c(r.access_token)),l(!1),e.abrupt("return",window.location="/dashboard");case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(m.a,{spinning:s},n.a.createElement("div",{className:"login-page"},n.a.createElement("div",{className:"login-page--background"},n.a.createElement("img",{src:O.a,alt:"background",className:"login-page--image"})),n.a.createElement("div",{className:"login-page--form"},n.a.createElement("div",{className:"login-page--title"},n.a.createElement(C,null,"ST United")),n.a.createElement(T,{handleLoginFormSubmit:g}))))},R=t(1);function _(e){var a=e.handleResetPassword,t=w.a.useForm(),r=Object(f.a)(t,1)[0];return n.a.createElement("div",{className:"forgot-password-form"},n.a.createElement(w.a,{form:r,autoComplete:"off",className:"forgot-form--input",onFinish:a,layout:"vertical"},n.a.createElement(w.a.Item,{name:"email",rules:[{required:!0,type:"email"}],label:"Email"},n.a.createElement(E.a,{placeholder:"Enter your account email"})),n.a.createElement(w.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},n.a.createElement(E.a.Password,{placeholder:"Enter your new password"})),n.a.createElement(w.a.Item,{name:"password_confirmation",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}]},n.a.createElement(E.a.Password,{placeholder:"Re-enter your new password"})),n.a.createElement(w.a.Item,{className:"forgot-form--submit"},n.a.createElement(l.a,{type:"primary",htmlType:"submit",block:!0},"Submit"))))}_.defaultProps={handleResetPassword:null};var L=_,U=function(){var e=Object(o.h)().search;return Object(r.useMemo)((function(){return new URLSearchParams(e)}),[e])},W=g.a.Text,J=function(){var e=Object(r.useState)(!1),a=Object(f.a)(e,2),t=a[0],s=a[1],l=U(),c=Object(o.g)(),i=function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,b.a.resetPassword(Object(R.a)(Object(R.a)({},a),{},{token:l.get("token")}));case 4:if("Password reset successfully"!==e.sent.message){e.next=8;break}return s(!1),e.abrupt("return",c.push("/auth/login"));case 8:return s(!1),e.abrupt("return",p.b.error("Something went wrong! Please try again."));case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(m.a,{spinning:t},n.a.createElement("div",{className:"forgot-password-page"},n.a.createElement(W,{strong:!0,className:"forgot--title"},"Reset your password"),n.a.createElement(W,{className:"forgot--subTitle"},"Please input your new password."),n.a.createElement(L,{handleResetPassword:i})))};a.default=function(e){var a=Object(o.j)();return n.a.createElement(o.d,null,n.a.createElement(o.b,{path:"".concat(a.url,"/forgot-password/success/:email"),component:c}),n.a.createElement(o.b,{path:"".concat(a.url,"/forgot-password"),component:k}),n.a.createElement(o.b,{path:"".concat(a.url,"/reset-password"),component:J}),n.a.createElement(o.b,{path:"".concat(a.url,"/login"),component:q}))}}}]);
//# sourceMappingURL=80.c8528466.chunk.js.map